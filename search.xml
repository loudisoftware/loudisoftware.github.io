<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>计算机漫游</title>
    <url>/2015/01/10/2015-01-10-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F-%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%BC%AB%E6%B8%B8/</url>
    <content><![CDATA[<h2 id="计算机系统漫游"><a href="#计算机系统漫游" class="headerlink" title="计算机系统漫游"></a>计算机系统漫游</h2><h3 id="程序被其他程序翻译成不同的格式"><a href="#程序被其他程序翻译成不同的格式" class="headerlink" title="程序被其他程序翻译成不同的格式"></a>程序被其他程序翻译成不同的格式</h3><p>以hello.c为例:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;hello, world\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>在Unix系统中，从源文件到目标文件的转换由编译器驱动程序完成，如下的命令：</p>
<blockquote>
<p>linux &gt; gcc -o hello hello.c</p>
</blockquote>
<p>GCC编译器驱动程序读取hello.c，并把它翻译成一个可执行的目标文件hello。</p>
<p>翻译的过程包括如下四个步骤:</p>
<ul>
<li>预处理阶段<br>  由预处理器(CPP)根据#开头的命令，修改原始的C程序。例如#include&lt;stdio.h&gt;会把stdio.h中的内容插入到程序文件中得到另一个C程序，通常是以.i作为文件扩展名。</li>
<li>编译阶段<br>  由编译器(CCL)将文本文件hello.i翻译成文本文件hello.s,它包含一个汇编语言程序.</li>
<li>汇编阶段<br>  由汇编器(AS)将hello.s翻译成机器语言指令,并把这些指令打包成一种叫做可重定位目标程序(relocatable object program)的格式,并且存在hello.o中.</li>
<li>链接阶段<br>  由链接器(ld)负责将标准库中的函数合并到hello.o中.例如hello调用的printf函数存在一个名为printf.o的单独的预编译好了的目标文件中.结果得到hello文件,它是一个可执行目标文件.</li>
</ul>
<p><img src="/images/%E7%BC%96%E8%AF%91%E8%BF%87%E7%A8%8B.jpg" alt="alter 编译过程"></p>
<h3 id="存储设备层次结构"><a href="#存储设备层次结构" class="headerlink" title="存储设备层次结构"></a>存储设备层次结构</h3><p>在处理器与较大较慢的设备(例如主存)之间插入一个更小更快的存储设备(例如高速缓存)的想法是一个加速的普遍观念.实际上计算机系统中的存储设备都被组织成了一个存储器层次结构(金字塔结构),从上往下,设备的访问速度越来越慢,容量越来越大,并且每字节的造价也越来越便宜.</p>
<h3 id="操作系统管理硬件"><a href="#操作系统管理硬件" class="headerlink" title="操作系统管理硬件"></a>操作系统管理硬件</h3><p>操作系统的两个基本功能</p>
<ul>
<li>防止硬件被失控的应用程序滥用.</li>
<li>向应用程序提供简单一致的机制来控制复杂而又通常大不相同的低级硬件设备.</li>
</ul>
<p><img src="/images/%E7%A1%AC%E4%BB%B6.png" alt="alter 编译过程"></p>
<blockquote>
<p>如上图所示通过基本的抽象概念进程(处理器+主存+I/O设备),虚拟内存(主存+I/O设备)和文件(I/O设备)来实现以上两个功能.</p>
</blockquote>
<h4 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h4><p>进程是操作系统对一个正在运行的程序的一种抽象.</p>
<h4 id="虚拟内存"><a href="#虚拟内存" class="headerlink" title="虚拟内存"></a>虚拟内存</h4><p>虚拟内存为每一个进程提供了一个假象,即每个进程都在独占地使用主存,每个进程看到的内存都是一致的.Linux进程的虚拟地址空间如下:<br><img src="/images/%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%99%9A%E6%8B%9F%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4.jpg" alt="alter 虚拟地址空间"></p>
<p>虚拟地址的每一个区域的说明:</p>
<ul>
<li>程序代码和数据.<br>  对所有的进程来说,代码是从同一个固定地址开始,紧接着是和C全局变量相对于的数据位置.代码和数据区是直接按照可执行目标文件的内容初始化的.</li>
<li>堆.<br>  代码和数据区后紧随的是运行时堆.代码和数据区在进程一开始运行时就被指定了大小,当调用malloc和free这样的C标准库函数时,堆可以在运行时动态地扩展和收缩.</li>
<li>共享库.<br>  地址空间的中间部分是一块用来存放像C标准库和数学库这样的共享的代码和数据的区域.</li>
<li>栈.<br>  用户虚拟地址空间的顶部是用户栈,编译器用它来实现函数调用.和堆一样,用户栈在程序执行期间可以动态地扩展和收缩.调用函数时栈会增长,从一个函数返回时,栈就会收缩.</li>
<li>内核虚拟内存.<br>  地址空间顶部的区域为内核保留的.应用程序不允许读写这个区域的内容或者直接调用内核代码定义的函数.</li>
</ul>
<h4 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h4><p>文件就是字节序列,每个I/O设备,包括磁盘,键盘,显示器,甚至网络,都可以看成是文件.</p>
<p><img src="/images/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%8A%BD%E8%B1%A1%E7%BB%93%E6%9E%84.jpg" alt="alter 计算机抽象结构"><br>上图为一个典型的计算机硬件抽象组成.</p>
<h3 id="其它内容"><a href="#其它内容" class="headerlink" title="其它内容"></a>其它内容</h3><h4 id="Amdahl定律"><a href="#Amdahl定律" class="headerlink" title="Amdahl定律"></a>Amdahl定律</h4><p>当我们对系统的某个部分加速时,其对系统整体性能的影响取决于该部分的重要性和加速的程度.</p>
<p>$$S=\frac{1}{(1-a)+\frac{a}{k}}$$<br>PS:有点类似2/8原则,加速占比大的部分,并且加速的程度越多对整体的加速越大.</p>
<h4 id="并发和并行"><a href="#并发和并行" class="headerlink" title="并发和并行"></a>并发和并行</h4><p>有两个需求驱动计算机的进步:一个是要计算机做得更多,另一个是想要计算机运行得更快.当处理器能够同时做更多的事情时这两个因素都会改进.</p>
<blockquote>
<p>并发(concurrency)指一个同时具有多个活动的系统.<br>并行(parallelism)指用并发来使一个系统运行得更快.</p>
</blockquote>
<ul>
<li><p>线程级并发<br>  同时允许多个程序执行,使用线程,甚至可以在一个进程中执行多个控制流.以前大多数实际的计算也是有一个处理器来完成,称为<em>单处理器系统</em>,现在很多都是有多个处理器,称为<em>多处理器系统</em>.</p>
<blockquote>
<p>多核处理器:将多个CPU集成到一个集成电路芯片上.超线程:是允许一个CPU执行多个控制流的技术,CPU的某些硬件有多个备份,例如程序计数器和寄存器文件,而其他硬件部分只有一份,例如浮点算术运算的单位.</p>
</blockquote>
</li>
<li><p>指令级并行<br>  现代处理器可以同时执行多条指令的属性称为<em>指令级并行</em>(通过流水线的使用)如果能达到一个周期一条指令更快的执行速率,称之为<em>超标量</em></p>
</li>
<li><p>单指令多数据并行<br>  允许一条指令产生多个可以并行执行的操作,这种方式称为<em>单指令,多数据</em>即SIMD并行.例如对8对单精度浮点数做加法的指令.</p>
</li>
</ul>
]]></content>
      <tags>
        <tag>深入理解计算机系统</tag>
      </tags>
  </entry>
  <entry>
    <title>Spark Streaming</title>
    <url>/2015/07/04/2015-07-04-Spark-Streaming/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>大数据</category>
      </categories>
      <tags>
        <tag>spark</tag>
      </tags>
  </entry>
  <entry>
    <title>思考的技术读后感</title>
    <url>/2015/08/01/2015-08-01-%E6%80%9D%E8%80%83%E7%9A%84%E6%8A%80%E6%9C%AF%E8%AF%BB%E5%90%8E%E6%84%9F/</url>
    <content><![CDATA[<h2 id="逻辑打动人心"><a href="#逻辑打动人心" class="headerlink" title="逻辑打动人心"></a>逻辑打动人心</h2><p>一开始就提出整体结论，用简洁的语言，做简洁的分析，每一页做一个结论，然后应用所累积的结论导出自己认对错不了的整体结论</p>
<p>先报告所做的事前作业，搜集了什么样的数据，做了什么分析，进行过几次访谈，跑过哪些地方，以什么地方谈过哪些话，这样可以消除一些人的疑虑。以事实为依据说明自己是下过功夫的，避免不必要的怀疑。</p>
<p>要按照对方能理解的顺序而不是自己想说的顺序进行，换位思考。</p>
<p>不能把发现的问题倒过来当做是给客户的建议，例如商品没有竞争力，所以要增强商品的竞争力。而是要给出怎样才能增强商品竞争力的能执行的有效方案。</p>
<p>现象背后一定有其原因，不找原因，只以现象做判断提出解决方法，这种解决对策绝不会是正确的。</p>
<h2 id="洞悉本质的过程"><a href="#洞悉本质的过程" class="headerlink" title="洞悉本质的过程"></a>洞悉本质的过程</h2><h2 id="你能洞悉问题的本质吗？"><a href="#你能洞悉问题的本质吗？" class="headerlink" title="你能洞悉问题的本质吗？"></a>你能洞悉问题的本质吗？</h2><p>5W1H who,when,where,what,why,how<br>分析事情时最起码也要带着这些疑问，把5w1h弄清楚，不能人云亦云，要有自己的思考和想法。</p>
<h3 id="坚持对事不对人"><a href="#坚持对事不对人" class="headerlink" title="坚持对事不对人"></a>坚持对事不对人</h3><p>人之所以对逻辑思考感到棘手，与我们的心智模式有关，逻辑思考的基础在于累积事实，但是大多数人是不忠于事<br>实.</p>
<p>能做到对事不对人，就不会在乎自己的立场，因为事实出现后，就会忠于这个事实，坦然接受这个事实。</p>
<p>如果不忠于事实，不但无法洞悉问题的本质，也不可能走完导出正确解决对策的过程。<br>一定要虚心接受事实，因为这个是解决问题的前提条件。</p>
<p>对于任何假设如果与事实不符时需要有勇气修改假设，而不是一路走到黑。（不要在乎面子问题）</p>
<p>要有说服社长的勇气，就算社长是站在反对的立场，也要有说服他的勇气。<br>要忠于事实，不能向权威屈服。</p>
<p>别让公司成了同质人的集体，让自己置身一个同质的群体中时，就会失去训练自己解决问题的机会。</p>
<p>敢于否定自己，不能沉浸在过去成功的回忆里。过去成功的经验不一定行得通。</p>
<p>U型管现象和J型管现象，会产生这些现象，是因为部门领导者及不同部门的人，未跨部门进行沟通，也就不会为了<br>寻求共识而进行调查。甚至问题才发生就受到阻扰不得见光，连解决问题的入口处都没能到达。</p>
<h2 id="谁都有能力预测未来"><a href="#谁都有能力预测未来" class="headerlink" title="谁都有能力预测未来"></a>谁都有能力预测未来</h2><h3 id="没思考所以被广告骗"><a href="#没思考所以被广告骗" class="headerlink" title="没思考所以被广告骗"></a>没思考所以被广告骗</h3><p>预知性是通过理论性思考而产生。<br>该倒闭的银行就该让它倒闭。</p>
]]></content>
  </entry>
  <entry>
    <title>问题解决力笔记</title>
    <url>/2015/08/08/2015-08-08-%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E5%8A%9B%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h2 id="PSA-Problem-solving-approach-的三个原则和三个步骤"><a href="#PSA-Problem-solving-approach-的三个原则和三个步骤" class="headerlink" title="PSA(Problem solving approach)的三个原则和三个步骤"></a>PSA(Problem solving approach)的三个原则和三个步骤</h2><h3 id="三个原则"><a href="#三个原则" class="headerlink" title="三个原则"></a>三个原则</h3><ol>
<li><p>有所有问题都能解决的强烈信心</p>
<blockquote>
<p>问题的解决与解决问题的人所具备的<strong>意愿和眼光</strong>的高低几乎成正比，有了所有问题都能解决的信念，就会相信事情会变得比现在更好。</p>
</blockquote>
</li>
<li><p>经常考虑”what、if…”</p>
<blockquote>
<p>需要养成如果情况是这样的话，该怎么考虑好呢?的习惯。</p>
</blockquote>
</li>
<li><p>不要把原因和现象弄混</p>
<blockquote>
<p>抓不住原因和现象区别的人，就会有问题太多，没办法解决的借口。如果针对现象一个一个解决还是没有办法，因为没有找到本质原因，可能存在一个现象消失了另一个现象又出现了的情况。</p>
</blockquote>
</li>
</ol>
<h3 id="三个步骤"><a href="#三个步骤" class="headerlink" title="三个步骤"></a>三个步骤</h3><ol>
<li><p>问够100个问题，问题的原因就会显示出来</p>
<blockquote>
<p>如果A+B=100%,并且没有遗漏和重复，这种结构为自相不矛盾。如果有遗漏或者重复，即使说出答案，原因也不是这个，并且可能弄错对策。</p>
</blockquote>
</li>
<li><p>看到问题的本质，就建立假设</p>
<blockquote>
<p>根据之前的流程，不是这个也不是那个，把问题一个个排除，产生问题的原因的范围就会变窄，当发现应该就是这个吧，就建立假设。</p>
</blockquote>
</li>
<li><p>收集能够证明假设的数据，并证实它</p>
<blockquote>
<p>收集数据，事实，然后根据证据证明肯定是那样，如果被证明了，就能知道使用这个解决方法能够解决问题的百分之几。</p>
</blockquote>
</li>
</ol>
<h2 id="目标是成为问题解决者"><a href="#目标是成为问题解决者" class="headerlink" title="目标是成为问题解决者"></a>目标是成为问题解决者</h2><p>在发现问题的那一瞬间，6成左右的工作就结束了。只有发现了问题点，才能够制定具体的解决方案。</p>
<h2 id="什么是问题的解决"><a href="#什么是问题的解决" class="headerlink" title="什么是问题的解决"></a>什么是问题的解决</h2><h3 id="时代呼唤问题解决者"><a href="#时代呼唤问题解决者" class="headerlink" title="时代呼唤问题解决者"></a>时代呼唤问题解决者</h3><p>问题解决追求的是，找出问题的根本原因（本质的问题），然后想出解决办法。如果能发现本质问题，可以说问题已经解决了60%。</p>
<p>但是本质问题的发现是很难的，能够挑战困难，想出解决办法的人才是问题解决者。</p>
<h4 id="首先要发现“问题是什么”"><a href="#首先要发现“问题是什么”" class="headerlink" title="首先要发现“问题是什么”"></a>首先要发现“问题是什么”</h4><p>在做某事不顺利时，首先要找到它的根本原因。很多人在没有充分理解“问题是什么”的情况下，就马上说出这个这么做，以前也是这样做的等借口，结果就是无法找到正确的答案。但是只要明白了根本原因，就能够想出好几个解决办法。</p>
<blockquote>
<p>问题解决最难的就是发现问题。</p>
</blockquote>
<h4 id="成为问题解决者的5个步骤"><a href="#成为问题解决者的5个步骤" class="headerlink" title="成为问题解决者的5个步骤"></a>成为问题解决者的5个步骤</h4><ol>
<li>理解问题解决的基本<blockquote>
<p>不是什么事情都要从细小处着手，要在脑中对全局有个了解后再从小处着手，会易于理解。</p>
</blockquote>
</li>
<li>理解所处环境<blockquote>
<p>在了解全局前知道些什么好，以及知道什么后会明白什么。那些没有认真学习分析的人，常常只会调查自己知道的东西，但是问题解决却进行得很不顺利。</p>
</blockquote>
</li>
<li>学习有效的信息收集法<blockquote>
<p>收集信息时怎样做才好。</p>
</blockquote>
</li>
<li>把数据图表化<blockquote>
<p>把数据图表化，不但看起来美观，更要通过图表化来思考，通过图表化加深理解。</p>
</blockquote>
</li>
<li>熟练使用框架图<blockquote>
<p>当收集到的信息数据过多，不知道什么是什么，或者过于注意某一部分信息时，从中得出的东西很杂乱无章。要使用框架学习“要点是什么”这种思考方式，用一句话概括，那句话应该是什么。把收集到的信息按类进行整理。</p>
</blockquote>
</li>
</ol>
<h4 id="问题解决思考方法能实现什么"><a href="#问题解决思考方法能实现什么" class="headerlink" title="问题解决思考方法能实现什么?"></a>问题解决思考方法能实现什么?</h4><ol>
<li>日常业务中能采取积极的态度解决问题。<blockquote>
<p>杂乱无章地工作，就会变得什么也做不好。</p>
</blockquote>
</li>
<li>能够有目的地区别使用信息。<blockquote>
<p>只有普通的信息或者平常大家都知道的信息是绝对不会有新发现的。而是要思考在这个地方有什么样的信息或者数据，就会明白了，或者对于某个地方应该使用哪个数据。</p>
</blockquote>
</li>
<li>能够从收集来的信息中找出线索（缘由）。<blockquote>
<p>无论收集多少信息，如果通过它们你不知道想说什么，就没有意义。只有从收集的信息中找出线索，才能够消化信息，得出自己的意见。</p>
</blockquote>
</li>
<li>能够画出基本的图表。<blockquote>
<p>图表是思考的一个重要工具，也是向别人传递信息的一个工具。</p>
</blockquote>
</li>
<li>使用框架整理信息。<blockquote>
<p>把大量信息用已有的框架或自己想出的框架进行整理，从而加深理解。</p>
</blockquote>
</li>
<li>掌握好自己学到的方法，并在日常中训练。<blockquote>
<p>平时要有自觉学习的态度。得到提示或机会就能靠自己的力量抓住本质思考下去。</p>
</blockquote>
</li>
</ol>
<h3 id="理解解决问题所必须的技巧"><a href="#理解解决问题所必须的技巧" class="headerlink" title="理解解决问题所必须的技巧"></a>理解解决问题所必须的技巧</h3><p>首先要理解为什么要进行问题解决，理解它的目的和要达到的目标，发现实现目标的本质问题，建立解决问题的实施方案并实行。</p>
<h4 id="发现问题，考虑对策并实行"><a href="#发现问题，考虑对策并实行" class="headerlink" title="发现问题，考虑对策并实行"></a>发现问题，考虑对策并实行</h4><p>发现问题-&gt;想出解决问题的对策-&gt;实行对策，直到最终确认成果。</p>
<h4 id="用流程考虑的话就不会出现遗漏"><a href="#用流程考虑的话就不会出现遗漏" class="headerlink" title="用流程考虑的话就不会出现遗漏"></a>用流程考虑的话就不会出现遗漏</h4><p>流程有重要的理论性，用流程考虑的话就不会有遗漏。<br><img src="/images/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B31.bmp" alt="alter 思考的流程"></p>
<h4 id="3个基本技巧"><a href="#3个基本技巧" class="headerlink" title="3个基本技巧"></a>3个基本技巧</h4><p>在发现问题上，在三重痛苦中挣扎考虑比较好。</p>
<ol>
<li>不知道收集什么样的信息好。</li>
<li>不知道怎么整理，理解收集到的信息好。</li>
<li>即使能够整理，却不知道要点什么好。</li>
</ol>
<p>对应的措施为：</p>
<ol>
<li>辨别必要的信息。<br>平时收集的信息和发现问题所必需的信息之间，有很大的区别。如果能知道重要或者必要的信息是哪个就能更有效地收集信息。</li>
<li>理解收集来的信息的意思。<br>信息收集得再顺利，如果零零落落地分析也不会明白这些信息有什么意义。问题解决者在分析上一定有流程，一定整齐地构成金字塔形。</li>
<li>要点是什么?<br>信息分析的结果，有时会成功地找出问题原因或者重点。把从发现中成功抽取出来的理由用共通点进行概括，就会明白要点就是这样的。</li>
</ol>
<h3 id="解决问题的4步计划"><a href="#解决问题的4步计划" class="headerlink" title="解决问题的4步计划"></a>解决问题的4步计划</h3><p>本质问题可以依靠”辨别必要的信息-&gt;理解其意思-&gt;理解要点是什么”这样的流程进行思考。</p>
<p>通过”理解所处环境”、”有效的信息收集法”、”把数据图表化”、”用框架来考虑”这4个步骤发现本质问题所需要的流程，掌握解决问题的技巧。</p>
<ol>
<li><p>理解所处的环境<br>理解自己公司所处的环境后，首先要辨别必要的信息，然后把其中的数字部分以怎样的形式怎么分析，进而明白什么。</p>
</li>
<li><p>有效的信息收集法<br>达成目标所必需的信息是什么，收集那些信息应该怎么做好。（辨别必要的信息）</p>
</li>
<li><p>把数据图表化<br>学会通过把数据图表化来进行分析。</p>
</li>
<li><p>用框架思考<br>学习框架的使用方法。</p>
</li>
</ol>
<p><img src="/images/%E6%80%9D%E8%80%83%E5%8A%9B2.bmp" alt="alter 思考力"></p>
<h4 id="为什么努力了也得不到好的结果"><a href="#为什么努力了也得不到好的结果" class="headerlink" title="为什么努力了也得不到好的结果"></a>为什么努力了也得不到好的结果</h4><p>有效的信息分析用流程来说就是：<br>目的是什么、委托人的期待是什么-&gt;必需收集什么-&gt;怎样收集信息-&gt;怎样整理归纳信息</p>
<h2 id="理解所处的环境"><a href="#理解所处的环境" class="headerlink" title="理解所处的环境"></a>理解所处的环境</h2><h3 id="按流程理解周围Ⅰ"><a href="#按流程理解周围Ⅰ" class="headerlink" title="按流程理解周围Ⅰ"></a>按流程理解周围Ⅰ</h3><p>习惯于把眼睛盯到自己知道的具体或者微小的事情上，然后从中研究出问题的解决对策，但是这样不利于抓住本质问题。为了抓住本质问题必须从大处着眼，然后慢慢转向细微的地方。</p>
<h4 id="看完整体再看局部"><a href="#看完整体再看局部" class="headerlink" title="看完整体再看局部"></a>看完整体再看局部</h4><ol>
<li>按流程理解周围发生的事。</li>
<li>理解自己公司所处的立场。</li>
<li>提高成果的价值。</li>
</ol>
<h4 id="代表性指标的使用方法"><a href="#代表性指标的使用方法" class="headerlink" title="代表性指标的使用方法"></a>代表性指标的使用方法</h4><p>判断经济状况的代表性指标有很多，首先是经济增长率。（GDP）<br>还有一个消费比率的指标，在可自由支配的收入中，人们会花多少钱去买东西。</p>
<h3 id="按流程理解周围Ⅱ"><a href="#按流程理解周围Ⅱ" class="headerlink" title="按流程理解周围Ⅱ"></a>按流程理解周围Ⅱ</h3><p>从顾客或者竞争等方面入手，了解市场状况。</p>
<h4 id="站在市场的角度，从整体到局部观察"><a href="#站在市场的角度，从整体到局部观察" class="headerlink" title="站在市场的角度，从整体到局部观察"></a>站在市场的角度，从整体到局部观察</h4><p>抓住市场的大动向-&gt;思考将市场详细划分为哪些项目-&gt;考虑各项目的重要程度，收集相关的数据</p>
<h4 id="要经常使思绪前进"><a href="#要经常使思绪前进" class="headerlink" title="要经常使思绪前进"></a>要经常使思绪前进</h4><p>市场的详细划分需要观察什么？<br>按国产车，进口车分析？<br>按新车，二手车分析？<br>按车的用途分析？</p>
<h4 id="要经常考虑“要点是什么”"><a href="#要经常考虑“要点是什么”" class="headerlink" title="要经常考虑“要点是什么”"></a>要经常考虑“要点是什么”</h4><p>从整体看汽车市场是萎缩了，但是从内部看，进口车，RV，轻型车，二手车的数量增加了。</p>
<p>顾客的意向有很大变化，市场情况也发生了变化，所以，营销人员或卖方也不得不变化。</p>
<p><strong>重点：</strong></p>
<ol>
<li>看市场时，首先要把握整体的，大的趋势。最开始需要知道市场是不是增长型的。如果市场不增长，也不要悲观，因为肯定有增长的部分。</li>
<li>在把握整体趋势后，接着考虑或观察构成市场的更加细化的项目，并理解那些数据。</li>
<li>找找有没有什么变化的特征，发生了什么，要抓住事实。</li>
</ol>
<h3 id="按流程理解周围Ⅲ"><a href="#按流程理解周围Ⅲ" class="headerlink" title="按流程理解周围Ⅲ"></a>按流程理解周围Ⅲ</h3><p>从竞争对手切入。找到优良企业，理解它的解决办法。</p>
<h4 id="知道竞争环境的重要性"><a href="#知道竞争环境的重要性" class="headerlink" title="知道竞争环境的重要性"></a>知道竞争环境的重要性</h4><p>按照”知道竞争对手是谁-&gt;看参与企业的平均值来理解构造-&gt;理解优良企业的处理方法”</p>
<h3 id="记住和新竞争对手的战斗方法"><a href="#记住和新竞争对手的战斗方法" class="headerlink" title="记住和新竞争对手的战斗方法"></a>记住和新竞争对手的战斗方法</h3><h4 id="主要变化之处"><a href="#主要变化之处" class="headerlink" title="主要变化之处"></a>主要变化之处</h4><p>即使在同一行业中，企业也有好和不好之分，无论是多么低迷的产业，都会有业绩增加的企业。那些企业应该是做了与其他企业不同的事情。<br>在观察竞争对手时不能忘记了解优良企业，这是为了向他们学习。</p>
<p><strong>要点；</strong></p>
<ol>
<li>首先要了解竞争对手，给业内带来了什么样的影响。</li>
<li>观察业内平均值，把握业界结构，特别是收益结构（盈利还是不盈利），理解这一点很重要。</li>
<li>形成经常总结“要点是什么”的习惯。</li>
</ol>
<p>反思自己公司采取了什么样的办法。</p>
<h3 id="提高成果的价值"><a href="#提高成果的价值" class="headerlink" title="提高成果的价值"></a>提高成果的价值</h3><h3 id="彻底致力于品质的提高"><a href="#彻底致力于品质的提高" class="headerlink" title="彻底致力于品质的提高"></a>彻底致力于品质的提高</h3><p>致力于把自己的工作成果变得更好，更有意义，更有内容。<br><strong>方法为：</strong></p>
<ul>
<li>要刨根问底搞清楚“为什么会变成这样”。</li>
<li>要变化调查问题的角度。</li>
<li>要在总结归纳的方法上下工夫。</li>
</ul>
<p>总结方法有3个：</p>
<ol>
<li>把要点总结成3点。</li>
<li>考虑要点是什么。</li>
<li>做成文章。</li>
</ol>
<p>突然被提问时，能准确地总结出脑中内容并完整表述出来的人几乎没有，大部分人都只是把想到的东西不得要领地说出来。结果造成听者思维混乱，使他们不能理解对方想要说什么。为了让听者更容易理解，还是准确地总结要点比较好。</p>
<h4 id="站在对方的角度考虑"><a href="#站在对方的角度考虑" class="headerlink" title="站在对方的角度考虑"></a>站在对方的角度考虑</h4><p>要站在对方的角度考虑，让他们能容易明白。要认识到“受众是谁”，“在什么场合让他们看”。<br><em>何时、何地、向谁、什么、怎么传递，在把握好这些的基础上制作报告。</em></p>
<p>信息是否符合对方的要求，其形式是否容易看懂，这些都是关键。</p>
<p>报告中包含结论以及能证明结论的图表，形成了说话的顺序。首先要说明背景，唐突地说出结论会使听者吓一跳，要先简单地说明做这件工作的原委，口头描述就可以了。接下来是结论，要点是这样的。为什么会这样，用支持结论的3个要点进行概括。</p>
<p><img src="/images/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B32.bmp" alt="说话的顺序"></p>
<p>5个要点：</p>
<ol>
<li>形成把要点总结成大约3个的习惯。</li>
<li>经常以结论为中心思考，经常问自己“要点是什么”。</li>
<li>根据听众变化报告的方式。</li>
<li>站在听众的立场上，把报告做得明白易懂。</li>
<li>报告中包含归纳出想说内容的正文和能证明他们的图表。（结论和支持该结论的要点）</li>
</ol>
]]></content>
      <categories>
        <category>逻辑思考</category>
      </categories>
      <tags>
        <tag>思考力</tag>
      </tags>
  </entry>
  <entry>
    <title>大脑开窍笔记</title>
    <url>/2015/08/09/2015-08-09-%E5%A4%A7%E8%84%91%E5%BC%80%E7%AA%8D%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h1 id="你的大脑爱撒谎"><a href="#你的大脑爱撒谎" class="headerlink" title="你的大脑爱撒谎"></a>你的大脑爱撒谎</h1><p>大脑认为有些信息不重要而将其忘却，因此经常会犯下忽略重要事实的过错。</p>
]]></content>
  </entry>
  <entry>
    <title>MAC技巧</title>
    <url>/2015/09/12/2015-09-12-MAC%E6%8A%80%E5%B7%A7/</url>
    <content><![CDATA[<h2 id="截图"><a href="#截图" class="headerlink" title="截图"></a>截图</h2><ol>
<li>COMMAND + SHIFT + 3：全屏截图，保存到桌面。</li>
<li>COMMAND + SHIFT + 4: 鼠标选定区域截图，保存到桌面。<br>如果同时按住CTRL，则截图保存在剪切板。</li>
</ol>
<p>对第二种截图，按下COMMAND + SHIFT + 4后，按下空格键，鼠标会变成一个小相机，这样可以对窗口进行截图。</p>
<p>对第二种截图，按下COMMAND + SHIFT + 4后，画一个抓取区域，不松开鼠标。</p>
<ol>
<li>按住空格可以移动这个区域。</li>
<li>按住SHIFT后，将锁定X或者Y轴进行拖动。</li>
<li>按住OPTION后，将按照区域原先进行放大。</li>
</ol>
<h2 id="MYSQL更改字符集"><a href="#MYSQL更改字符集" class="headerlink" title="MYSQL更改字符集"></a>MYSQL更改字符集</h2><p>sudo cp /usr/local/mysql-5.6.26-osx10.8-x86_64/support-files/my-default.cnf /etc/my.cnf<br>然后在my.cnf中修改配置<br>sudo vim /etc/my.cnf</p>
]]></content>
  </entry>
  <entry>
    <title>用图表说话笔记</title>
    <url>/2015/09/12/2015-09-12-%E7%94%A8%E5%9B%BE%E8%A1%A8%E8%AF%B4%E8%AF%9D%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h1 id="选择图表"><a href="#选择图表" class="headerlink" title="选择图表"></a>选择图表</h1><p>总的来说一共有五种基本的图形表示。</p>
<p><img src="/images/%E8%AE%A9%E5%9B%BE%E8%A1%A8%E8%AF%B4%E8%AF%9D1.png" alt="图表类型"></p>
<p><strong>把数据变成图表的步骤：</strong></p>
<ol>
<li><a href="#1">确定你所要表达的主题</a>。<em>(将数据转换为主题)</em></li>
<li><a href="#2">确定对比关系</a>。<em>(从主题到对比关系)</em></li>
<li><a href="#3">选择图表形式</a>。<em>(从对比关系到图表)</em></li>
</ol>
<h2 id="确定你要表达的主题"><a href="#确定你要表达的主题" class="headerlink" title="确定你要表达的主题"></a><h2 id="1">确定你要表达的主题</h2></h2><p>同一份数据可以有不同的说明，由你想要表达的主题决定标题，标题不要含糊不清，避免不必要的误会。</p>
<h2 id="确定对比关系"><a href="#确定对比关系" class="headerlink" title="确定对比关系"></a><h2 id="2">确定对比关系</h2></h2><p>任何主题都体现了五种基本对比关系中的一种。（成分、项类、时间序列、频率分布和相关性）</p>
<ul>
<li>成分对比关系（主要对每一部分的大小占总数的百分比感兴趣）<br><em>从份额，总数百分比，占百分比多少等字样得知是在做一个成分对比关系图</em></li>
<li>项类对比关系（比较项类的大小、高低，它们是相同的还是比其它项类多或者少）<br><em>从大于，小于或相同之类的词汇找到项类比较的线索</em></li>
<li>时间序列对比关系（对占比或者大小不感兴趣，但是对随时间的变化感兴趣）<br><em>变化，增长，下降，增加，减少，波动等词汇</em></li>
<li>频率分布对比关系（表明有多少项类符合一个数字发展的范围）<br><em>x到y的范围，密度，频率，分布等词汇</em></li>
<li>相关性对比关系（表示两个变数直接的关系可以是，也可以不是你所证明的模式）<br><em>与…有关、随…增长、随…变化、或者不随…增长等词汇</em></li>
</ul>
<p><strong>成分</strong>：总数百分比<br><strong>项类</strong>：项类排列顺序<br><strong>时间序列</strong>：随时间变化<br><strong>频率分布</strong>：在一定范围内的项类<br><strong>相关性</strong>：几个变数之间的关系</p>
<h2 id="选择图表形式"><a href="#选择图表形式" class="headerlink" title="选择图表形式"></a><h2 id="3">选择图表形式</h2></h2><table>
<thead>
<tr>
<th>成分</th>
<th>项类对比</th>
<th>时间</th>
<th>频率分布</th>
<th>相关性</th>
</tr>
</thead>
<tbody><tr>
<td>饼型图表</td>
<td>适合</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>条形图表</td>
<td></td>
<td>适合</td>
<td></td>
<td></td>
</tr>
<tr>
<td>柱状图表</td>
<td></td>
<td></td>
<td>适合</td>
<td>适合</td>
</tr>
<tr>
<td>线性图表</td>
<td></td>
<td></td>
<td>适合</td>
<td>适合</td>
</tr>
<tr>
<td>圆点图表</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<ol>
<li>成分对比关系<br>饼型图表适合表示一个整体，以及它的每个部分占这个整体的百分比。饼图一般不宜超过6个部分，如果有6个以上，应该选择最有代表性的6个部分，把剩下的成分归为“其它”。另外由于眼睛习惯于顺时针方向看东西，需要把最重要的内容放在12点的位置附近，并且用对比强烈的颜色来表示。如果各个部分差不多，泽应该按照从大到小或者从小到大的顺序排列。</li>
</ol>
<p>当需要比较两个整体的成分时，不要犹豫，选择条形图表或者柱状图表。</p>
<ol start="2">
<li><p>项类对比关系<br>一个项类对比关系可以用一个条形图表来表示。<br>通过条形图表来表明项类对比关系，减少了与时间序列对比关系可能产生的混乱。另外一个项类的名字一般较长，用柱形图不好显示。</p>
</li>
<li><p>时间序列对比关系<br>柱状图表注重程度和数量，适合在一个时间段内的活动数据，每一个阶段都是一个新的柱体。<br>线性图表注重变化和变化趋势，表达数据的发展状况时宜用线形图表。</p>
</li>
</ol>
<p>线性图表中，趋势线一定要画得比底线粗，底线相对也要画得比组成参考坐标的垂直线和水平线要粗。</p>
<ol start="4">
<li><p>频率分布对比关系<br>频率分布对比表明一个数字范围中有多少项类。</p>
</li>
<li><p>相关性对比关系<br>表明两个变量之间的关系符合或不符合某种模式。</p>
</li>
</ol>
<h1 id="使用图表"><a href="#使用图表" class="headerlink" title="使用图表"></a>使用图表</h1><p>73</p>
]]></content>
  </entry>
  <entry>
    <title>麦肯锡方法笔记</title>
    <url>/2015/09/12/2015-09-12-%E9%BA%A6%E8%82%AF%E9%94%A1%E6%96%B9%E6%B3%95%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h1 id=""><a href="#" class="headerlink" title=""></a></h1><h2 id="-1"><a href="#-1" class="headerlink" title=""></a></h2><h3 id="访谈成功的七个秘诀"><a href="#访谈成功的七个秘诀" class="headerlink" title="访谈成功的七个秘诀"></a>访谈成功的七个秘诀</h3><ol>
<li>请被访者的上司安排会面。（通过上司告诉被访者的重要性，就不太可能误导和敷衍你）</li>
<li>两人一组进行访谈。（可以轮流提问和记笔记，避免忙碌而提错问题或者忽略一些线索）</li>
<li>倾听，不要引导。（大多数情况下你需要尽可能多的信息，而不是是或者否的答案，少说多听，保证访谈内容没有偏离主题就行）</li>
<li>复述、复述、复述。（大多数人都不能完全有条理地思考或者说话，通过复述他们的话确保你的理解是正确的）</li>
<li>善用旁击侧敲法。（时刻关注被访者的感觉，要了解被访者是否感觉自己受到了威胁，不要单刀直入地问刁钻的问题，避免被访者开始自我防御，直到拒绝合作）</li>
<li>切勿问得太多。（不要去问被访者知道的每一件事，达到访谈的目的即可，避免从大量信息中找真正需要的信息，商业问题领域的访谈，对被访者来说一般是一段不愉快的经历，避免被访者不再积极合作，避免把门关死了）</li>
<li>采用“哥伦波策略”。（访谈结束时，每个人都会变得松懈，被访者对你的防备减少了，就会告诉你需要的或正在寻找的信息）</li>
</ol>
<h3 id="尊重被访者的感受"><a href="#尊重被访者的感受" class="headerlink" title="尊重被访者的感受"></a>尊重被访者的感受</h3><p>在关于自己搞定工作或者公司的问题上，被采访是件让人紧张不安的事。有责任对他们的恐惧保持敏感。不要让被访者在访谈结束时，觉得没面子，不需要把被访者榨干。向被访者证明访谈的过程将如何惠及他们自身，如果你有信息的话也可以与他分享。</p>
<h3 id="棘手的访谈"><a href="#棘手的访谈" class="headerlink" title="棘手的访谈"></a>棘手的访谈</h3><p>有最高层的支持，因此经得住任何人的挑战，跟被访者说明情况。<br>拒绝提供信息时，也得拿出姿态，让他们知道是受了某些人的命令来采访的。必要时可以当面打电话给其上司，没必要一定这么做。<br>最棘手的是他知道你的工作会让他丢掉饭碗，你也深知这点。你必须完成工作，并让被访者帮助你。从全局出发，尽管不公平，也不用生气或者不安。从来没有人说过生活是公平的。</p>
<h3 id="一定要写感谢信"><a href="#一定要写感谢信" class="headerlink" title="一定要写感谢信"></a>一定要写感谢信</h3><p>写感谢信有礼貌也很职业，可能还会有意想不到的收获。但是不要写千篇一律的感谢信。</p>
<h2 id="头脑风暴"><a href="#头脑风暴" class="headerlink" title="头脑风暴"></a>头脑风暴</h2><h3 id="适当的事前准备"><a href="#适当的事前准备" class="headerlink" title="适当的事前准备"></a>适当的事前准备</h3><p>有效的头脑风暴需要事先做很多脚踏实地的工作。参加会议前需要对研究的问题有所了解。<br>无论你如何进行，要保证，至少你是知道事实的。在会议前可以有个假设，通过会议一起推敲这种假设。</p>
<h3 id="为思想留一片空白"><a href="#为思想留一片空白" class="headerlink" title="为思想留一片空白"></a>为思想留一片空白</h3><p>头脑风暴的目标就是生成新的观点，从白板开始，把已有的观点抛在门外，用所知道的事实找到审视它们的新方法。</p>
<ol>
<li>没有坏点子。（没有人会因为害怕被嘲笑而不敢发言，如果一个想法很一般，你不赞同，那就花几分钟解释下，辩论是头脑风暴的一个部分，也许讨论过后，就不像坏点子了）</li>
<li>没有不值得回答的问题。（任何问题都有它的价值，为什么一件事要以这样的方式进行，而答案是我们一直都是这样做的并不是一个好的理由）</li>
<li>永远不要低估一些看似明显或者简单的问题的重要性。</li>
<li>时刻准备扼杀你的观点。（你的观点不管有多好，如果不是会议最终答案的一部分，就要舍弃它，把你的假设当成头脑风暴组合中的一个数据来看，让团队成员来推敲是否正确，别在会议过程中为捍卫你的观点而奋战到底）</li>
<li>知道适可而止。（在团队疲惫之前就喊停，保证参会者的精力充沛）</li>
<li>好记性不如烂笔头。（头脑风暴中没有精确的会议记录，因此离开会议室时一定要留下有关讨论结果的永久性记录）</li>
</ol>
<h3 id="头脑风暴练习"><a href="#头脑风暴练习" class="headerlink" title="头脑风暴练习"></a>头脑风暴练习</h3><p>头脑风暴成功的关键是充分的准备和正确的心态。</p>
<ol>
<li>记事贴练习。（参会者写下他们所想到的所有观点，一页一个观点,能迅速产生好多点子）</li>
<li>翻页挂图练习。（页挂图上有不同类别的问题，每一个团队成员在挂图上写下自己的观点）</li>
<li>先下手为强。（要求参与者讲出我们提出的计划的不满意地方，而后让他们提自己认为对的事情，以及能应用的方法）</li>
</ol>
<h1 id="麦肯锡推荐解决方案的方法"><a href="#麦肯锡推荐解决方案的方法" class="headerlink" title="麦肯锡推荐解决方案的方法"></a>麦肯锡推荐解决方案的方法</h1><h2 id="演示汇报"><a href="#演示汇报" class="headerlink" title="演示汇报"></a>演示汇报</h2><p>有正式的圆桌会议上用的精美的蓝皮书，也有非正式的通过白板上的几幅图表进行讲解。</p>
<h3 id="把汇报系统化"><a href="#把汇报系统化" class="headerlink" title="把汇报系统化"></a>把汇报系统化</h3><p>要想汇报成功，必须把听众带到清晰的逻辑中，有条不紊地听你分析。</p>
<p>不要让最佳方案成为优秀方案的敌人。</p>
<h3 id="未雨绸缪，事先沟通"><a href="#未雨绸缪，事先沟通" class="headerlink" title="未雨绸缪，事先沟通"></a>未雨绸缪，事先沟通</h3><p>把客户相关人员召集在一起开会前，要保证他们看过你的文件。在汇报前让各方预先知晓我们的汇报，把汇报变成一场艺术表演。</p>
<h3 id="用图表说明问题"><a href="#用图表说明问题" class="headerlink" title="用图表说明问题"></a>用图表说明问题</h3><ul>
<li><p>简单为上：一图明一事<br>图表越复杂，传递信息的效果就越差，把图表当做传递信息的方式，而不是一种艺术品。（媒介不能压过信息）</p>
</li>
<li><p>用瀑布图来描述流量<br>瀑布图是一种阐述如何从数字A得到数字B的极佳方法。</p>
</li>
</ul>
<h2 id="管理公司的内部沟通"><a href="#管理公司的内部沟通" class="headerlink" title="管理公司的内部沟通"></a>管理公司的内部沟通</h2><h3 id="让信息流动起来"><a href="#让信息流动起来" class="headerlink" title="让信息流动起来"></a>让信息流动起来</h3><p>让团队都在消息圈内，有助于团队成员了解自己的工作对最终目标的意义。<br>有效的信息流动有助于你更快地认识问题。</p>
<h3 id="有效信息的三个关键因素"><a href="#有效信息的三个关键因素" class="headerlink" title="有效信息的三个关键因素"></a>有效信息的三个关键因素</h3><ol>
<li>简洁<br>只包括需要知道的要点。</li>
<li>全面<br>要保证你的信息包括需要知道的所有事，不要留有悬念。</li>
<li>系统<br>要想别人理解你的信息，就要系统化，让它有容易理解的结构。</li>
</ol>
<h3 id="谨言慎行"><a href="#谨言慎行" class="headerlink" title="谨言慎行"></a>谨言慎行</h3><p>如果不能做到保密，就不是一个称职的咨询顾问，要知道什么时候说什么，什么时候应保持沉默。</p>
<h2 id="与客户合作"><a href="#与客户合作" class="headerlink" title="与客户合作"></a>与客户合作</h2><p>让客户站到自己这边，愿意帮助自己，关键在于把自己的目标变成客户的目标。</p>
<h3 id="让客户参与工作"><a href="#让客户参与工作" class="headerlink" title="让客户参与工作"></a>让客户参与工作</h3><p>让客户加入你的项目，做一名真正的参与者。<br>要想客户参与你的工作，第一件事就是要理解他们的打算和意图，客户只有认为你的工作对他们来说有意义时才会支持你，利益是随时变化的。</p>
<h3 id="获得整个公司的支持"><a href="#获得整个公司的支持" class="headerlink" title="获得整个公司的支持"></a>获得整个公司的支持</h3><p>如果希望你的解决方案对客户有长远的影响，就要获得公司各个层面的支持。</p>
<h3 id="实施要严谨"><a href="#实施要严谨" class="headerlink" title="实施要严谨"></a>实施要严谨</h3><p>改变现状需要做很多工作，需要严谨和周密，确保每个人都各司其职，完成工作。<br>说清楚需要做哪些事情，什么时间做，明确和细化到傻瓜都能看懂的程度。</p>
]]></content>
  </entry>
  <entry>
    <title>1.Inside Java(Pro Java)</title>
    <url>/2015/11/08/2015-11-08-1-Inside-Java-Pro-Java/</url>
    <content><![CDATA[<h2 id="JAVA-架构"><a href="#JAVA-架构" class="headerlink" title="JAVA 架构"></a>JAVA 架构</h2><p>java架构由下面四部分组成:</p>
<ul>
<li>java 编程语言</li>
<li>java class 文件格式</li>
<li>java 编程接口</li>
<li>java 虚拟机</li>
</ul>
<h2 id="Java虚拟机的运行时数据区"><a href="#Java虚拟机的运行时数据区" class="headerlink" title="Java虚拟机的运行时数据区"></a>Java虚拟机的运行时数据区</h2><p>虽然java虚拟机的实现各不一样，但是每个Java虚拟机必须支持下面的运行时组件.</p>
<ul>
<li>Method area(方法区)</li>
<li>Heap(堆)</li>
<li>Stack(栈)</li>
<li>Registers(寄存器)</li>
<li>Constant Pool(常量池)</li>
</ul>
<h3 id="Heap"><a href="#Heap" class="headerlink" title="Heap"></a>Heap</h3><p>堆是用来动态或者临时分配内存的一个内存空闲区域。为类和数组提供内存。如果堆没有足够的内存分配则会报OutOfMemoryError异常。</p>
<h3 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a>Stack</h3><p>栈用来保持方法执行的状态。栈帧保存数据和中间结果包括方法执行的环境，方法的本地变量和方法的操作栈。操作栈保存绝大部分字节指令的参数和返回值。执行环境包含指向方法调用的指针。如果执行过程中栈的大小不足则会报StackOverflowError异常。</p>
<h3 id="Method-Area"><a href="#Method-Area" class="headerlink" title="Method Area"></a>Method Area</h3><p>方法区供java虚拟机的所有线程共享。用来存储常量池、方法数据、字段数据、方法和构造函数的字节代码。</p>
<h3 id="Registers"><a href="#Registers" class="headerlink" title="Registers"></a>Registers</h3><p>主要的寄存器为PC寄存器，指向正在执行的java虚拟机指令对应的地址。如果正在执行的为native方法，则PC寄存器的值为undefined.java虚拟机中的其他寄存器包括一个指向当前方法的指针，一个当前方法第一个本地变量的指针，一个指向操作栈顶的指针。</p>
<h3 id="Runtime-Constant-Pool"><a href="#Runtime-Constant-Pool" class="headerlink" title="Runtime Constant Pool"></a>Runtime Constant Pool</h3><p>运行时常量池类似于其他语言中的符号表，包含数字字面值和字段常量。每一个运行时常量是从方法区中分配，当JVM加载类或者接口时创建。</p>
<h2 id="Loading-Linking-Initializing"><a href="#Loading-Linking-Initializing" class="headerlink" title="Loading,Linking,Initializing"></a>Loading,Linking,Initializing</h2><p>JVM解释执行java字节码必须执行下面三个步骤。</p>
<ul>
<li>加载：当JVM加载类时，必须找到一个表示类或者接口的二进制表示。并且从对应的二进制创建一个Class对象。Class对象封装了类或者接口的运行时状态。</li>
<li>链接：链接是把加载的类或者接口与JVM运行环境绑定，为执行做准备。</li>
<li>初始化：当JVM执行类或者接口的初始化方法时执行。</li>
</ul>
<h3 id="The-First-Step"><a href="#The-First-Step" class="headerlink" title="The First Step"></a>The First Step</h3><p>当一个独立的java应用启动时JVM做的第一件事就是创建一个包含main方法的类对应的Class对象。JVM链接并且初始化改类，并调用main方法。</p>
<h3 id="Loading"><a href="#Loading" class="headerlink" title="Loading"></a>Loading</h3><p>加载过程由类加载器进行，类加载器本身是ClassLoader的一个子类。<br>有两种类型的类加载器：第一种由JVM提供称为启动类加载器，第二种为用户自定义加载器。用户自定义加载器为ClassLoader的子类。一个类加载器可以把一部分或者全部功能委托给其他类加载器。真正创建Class对象对应的类加载器为定义类加载器(defining loader)，开始加载类的加载器为初始化类加载器(initiating loader)。</p>
<p>通过启动类加载器加载：首先检查类加载是否被标记为需要加载的类的初始化类加载器，如果是则Class对象已经存在，加载结束。否则则搜索对应的class文件，如果找到则创建一个对应的Class实例，否则抛出NoClassDefFoundError异常。<br>PS:NoClassDefFoundError和ClassNotFoundException的区别<br>Java支持使用Class.forName动态加载类，如果一个类名被当做参数传人但是在类路径中没有找到则会抛出ClassNotFoundException。ClassLoader.loadClass,ClassLoader.findSystemClass在动态加载类到内存时也会抛出这个异常。<br>要查找的类在编译的时候是存在的，运行时却找不到类的定义，则会导致NoClassDefFoundError。</p>
<p>通过自定义类加载器加载：与启动类加载器一样，先检查是否已经被标记为对应类的初始化类加载器，如果是则对应的类已经被加载，加载过程结束。否则调用loadClass把字节数组转换成ClassFile结构，然后调用defineClass创建Class实例。loadClass也可以把加载任务委托给其他类加载器。</p>
<h3 id="Linking"><a href="#Linking" class="headerlink" title="Linking"></a>Linking</h3><h4 id="Class文件校验"><a href="#Class文件校验" class="headerlink" title="Class文件校验"></a>Class文件校验</h4>]]></content>
      <tags>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title>生命中最重要的(读后感)</title>
    <url>/2015/12/19/2015-12-19-%E7%94%9F%E5%91%BD%E4%B8%AD%E6%9C%80%E9%87%8D%E8%A6%81%E7%9A%84/</url>
    <content><![CDATA[<p>通过个人在不同环境中充当不同的角色，不同的角色关注点不同，不同角色在不同的阶段的重要性也不一样。通过角色找到个人的核心价值观，根据核心价值观写下个人的使命宣言，在日常生活中不断朝着这个目标前进，最终实现个人的使命。（角色-价值观-使命）</p>
<p>在有了个人使命后，需要制定计划去执行，一定要把自己的计划写下来，并且在过程中不断回顾，自己的行为是否按计划进行，是否满足个人的核心价值观。同时计划也要有层次，通过实现多个小目标达到一个大目标的实现。计划是有截止时间的，如果没有计划则目标一直留在“总有一天”的梦想中。通过计划鞭策自己前进。(发现-计划-行动)</p>
<h2 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h2><p>人不可避免的会充当一定的角色，例如家庭中为人子女或者为人父母，工作中同事等。<br><em>不管你是谁，不管你想成为什么样的人，__做好__你自己的事情。</em></p>
<h2 id="主导价值观"><a href="#主导价值观" class="headerlink" title="主导价值观"></a>主导价值观</h2><p>主导价值观是我们的真正自我的核心，是我们生活中__最重要__的、具有__最高优先级__的事情。</p>
<p>必须对主导价值观的内容进行优先级排序，当多个主导价值观冲突时根据优先级进行选择。</p>
<h2 id="使命"><a href="#使命" class="headerlink" title="使命"></a>使命</h2><p><em>生活中没有坚定的目标却力求上进—-力求有所成就—-是不会有任何成就的。</em><sub>玛丽.罗贝林</sub></p>
<p>缺乏个人构想是你在身体上和感情上变得虚弱，对每一天都没有期待。当你发现了自己最珍视的东西，自然就有了精神。</p>
<p>个人使命宣言，它是你生活目的的简短书面表述。写下自己的使命并不时的回顾下自己行为是否满足自己的宣言。</p>
<h2 id="行动"><a href="#行动" class="headerlink" title="行动"></a>行动</h2><p><em>光有认识是不够的，必须应用；光有愿望是不够的，必须行动。</em><sub>哥德</sub></p>
<p>通过主导价值观的发掘和个人使命宣言，找到了自己最珍视的东西。必须通过行动才能使愿望实现。</p>
<p>行动之前得有计划，并且需要写下你的计划，一篇书面计划能形成承若。</p>
<p>计划有长期目标，中期目标，近期目标之分，但是所有的目标都是与价值观和个人使命密切相关。定下目标时同时要写下符合实际的日期或者时间段。中途不断的检视自己的行为是否按目标前进。</p>
<p>不要害怕计划，害怕计划的主要理由是害怕做出承若以及与其相关的结果，也害怕失败。编制计划并让该计划推动实践。否则你的目标总停留在“总有一天”的梦想。必须把自己的计划转变成行动，而计划则可以鞭策你做出行动。</p>
<h2 id="个人价值观"><a href="#个人价值观" class="headerlink" title="个人价值观"></a>个人价值观</h2><ol>
<li><p>身体健康</p>
<blockquote>
<p>只有身体健康才能有健康的头脑，才能更好的生活与工作。（每周最少锻炼三次，40分钟/次, 7点起床）</p>
</blockquote>
</li>
<li><p>家庭和谐</p>
<blockquote>
<p>每个人与生俱来在家庭中充当角色，要做到尽最大努力使家庭更加幸福，抽时间教育小孩（和小孩沟通时不能暴力，周末带小孩2H，每周打一个电话给父母,不强迫爸爸戒烟）。</p>
</blockquote>
</li>
<li><p>遵纪守法</p>
<blockquote>
<p>做一个遵纪守法的良民。</p>
</blockquote>
</li>
<li><p>财务自由</p>
<blockquote>
<p>达到财务自由才有可能去做一些自己想做的事情，不为金钱所累。（减少不必要的开销，对物质的追求）。</p>
</blockquote>
</li>
<li><p>热爱工作</p>
<blockquote>
<p>喜欢自己工作，以十分的热情做好每一件事，定期回顾与总结，一点点的进步。（定时回顾，想想自己该做的事，凡是事前多思考，不能害怕思考，多请教与引导）</p>
</blockquote>
</li>
<li><p>增加知识</p>
<blockquote>
<p>学无止境，不做井底之蛙。（一星期一本书，多思考，类比，使知识为己所用，接触新知识，开阔视野，改变优柔寡断的问题,坚持！）</p>
</blockquote>
</li>
<li><p>心态平和</p>
<blockquote>
<p>不要轻易动怒，控制自己的情绪，降低讲话的速度，换位思考。</p>
</blockquote>
</li>
<li><p>具有同情心</p>
<blockquote>
<p>要有一颗善良的心，不做亏心事。</p>
</blockquote>
</li>
<li><p>感恩</p>
<blockquote>
<p>感谢家人，老师，朋友，领导，同事，以及一切帮助过你的人，尤其是在你遇到困难时。</p>
</blockquote>
</li>
</ol>
<p><strong>希望自己在后续的行为中遵循这些价值观，并不断进步。</strong></p>
]]></content>
      <categories>
        <category>价值观</category>
      </categories>
      <tags>
        <tag>读后感</tag>
      </tags>
  </entry>
  <entry>
    <title>名言名句</title>
    <url>/2015/12/14/2015-12-14-%E5%90%8D%E8%A8%80%E5%90%8D%E5%8F%A5/</url>
    <content><![CDATA[<p>光有认识是不够的，必须应用；光有愿望是不够的，必须行动。<sub>—-歌德</sub></p>
<p>我们并非按其本来面目看待事物，而是按自己的观点看待事物。<sub>—-阿奈.尼恩</sub></p>
<p>子非鱼,安知鱼之乐? <sub>—-惠子</sub></p>
]]></content>
  </entry>
  <entry>
    <title>Agile Java</title>
    <url>/2015/12/20/2015-12-20-Agile-Java/</url>
    <content><![CDATA[<p>设计系统，通过扩展来拥抱变化，而不是通过修改来适应变化。</p>
]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>读书清单</title>
    <url>/2016/01/01/2016-01-01-%E8%AF%BB%E4%B9%A6%E6%B8%85%E5%8D%95/</url>
    <content><![CDATA[<ul>
<li><input disabled="" type="checkbox"> scala</li>
</ul>
<p>2016年读书列表</p>
<ul>
<li><p>时间管理等</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> 高效能人士的7个习惯</li>
</ul>
</li>
<li><p>编程语言类</p>
<ul>
<li><input disabled="" type="checkbox"> scala</li>
<li><input disabled="" type="checkbox"> java</li>
<li><input disabled="" type="checkbox"> oracle</li>
</ul>
</li>
</ul>
<ul>
<li>软件技能<ul>
<li><input disabled="" type="checkbox"> 程序员的思维修炼</li>
<li><input disabled="" type="checkbox"> 修改代码的艺术</li>
<li><input checked="" disabled="" type="checkbox"> 计算机程序的构造和解释</li>
<li><input disabled="" type="checkbox"> 深入理解计算机系统</li>
<li><input disabled="" type="checkbox"> Building Microservices</li>
<li><input disabled="" type="checkbox"> 实现模式</li>
<li><input disabled="" type="checkbox"> 设计模式</li>
<li><input checked="" disabled="" type="checkbox"> UNIX编程艺术</li>
</ul>
</li>
</ul>
<ul>
<li><p>敏捷</p>
<ul>
<li><input disabled="" type="checkbox"> 看板方法</li>
<li><input disabled="" type="checkbox"> 持续交付</li>
<li><input disabled="" type="checkbox"> 用户故事与敏捷方法</li>
<li>[-] 硝烟中的Scrum和XP</li>
<li><input disabled="" type="checkbox"> 实现领域驱动设计</li>
<li>[-] 精益和敏捷开发大型应用指南</li>
<li>[-] 分析模式</li>
<li>[-] 解析极限编程</li>
</ul>
</li>
<li><p>工具</p>
<ul>
<li><input disabled="" type="checkbox"> 管理3.0</li>
<li><input disabled="" type="checkbox"> 第5项修炼</li>
<li><input disabled="" type="checkbox"> 系统思考</li>
<li><input disabled="" type="checkbox"> 金字塔原理</li>
<li><input disabled="" type="checkbox"> 程序员的职业素养</li>
<li><input disabled="" type="checkbox"> 编写可读代码的艺术</li>
<li><input disabled="" type="checkbox"> 重构</li>
<li><input disabled="" type="checkbox"> 敏捷软件开发</li>
<li><input disabled="" type="checkbox"> 白帽子讲Web安全</li>
<li><input disabled="" type="checkbox"> maven</li>
<li><input disabled="" type="checkbox"> git</li>
<li><input disabled="" type="checkbox"> 精益创业</li>
<li><input disabled="" type="checkbox"> 丰田人才精益模式</li>
<li><input disabled="" type="checkbox"> 精益思想</li>
<li><input disabled="" type="checkbox"> 实例化需求:团队如何交付正确的软件</li>
</ul>
</li>
<li><p>心理学</p>
<ul>
<li><input disabled="" type="checkbox"> 影响力</li>
<li><input disabled="" type="checkbox"> 部落-一呼百应的力量</li>
</ul>
</li>
<li><p>大数据</p>
<ul>
<li><input disabled="" type="checkbox"> Apache Kafka</li>
<li><input disabled="" type="checkbox"> Zookeeper</li>
<li><input disabled="" type="checkbox"> Hbase in action</li>
<li><input disabled="" type="checkbox"> Hadoop 权威指南</li>
</ul>
</li>
<li><p>其它</p>
<ul>
<li><input disabled="" type="checkbox"> 咨询的奥义</li>
<li><input disabled="" type="checkbox"> 咨询的奥义续集</li>
<li><input disabled="" type="checkbox"> 系统之美</li>
<li><input disabled="" type="checkbox"> 系统化思维导论</li>
<li><input disabled="" type="checkbox"> 系统思考</li>
<li><input disabled="" type="checkbox"> 实现模式</li>
<li><input disabled="" type="checkbox"> 闭环式管理，系统性思维</li>
</ul>
</li>
</ul>
<ul>
<li><p><input disabled="" type="checkbox">  a task list item</p>
</li>
<li><p><input disabled="" type="checkbox">  list syntax required</p>
</li>
<li><p><input disabled="" type="checkbox">  normal <strong>formatting</strong>, @mentions, #1234 refs</p>
</li>
<li><p><input disabled="" type="checkbox">  incomplete</p>
</li>
<li><p><input checked="" disabled="" type="checkbox">  completed</p>
<p><input type='checkbox' checked disabled>  aaa</input></p>
</li>
</ul>
]]></content>
      <categories>
        <category>计划</category>
      </categories>
  </entry>
  <entry>
    <title>JVM笔记一[自动内存管理]</title>
    <url>/2016/04/25/2016-04-25-JVM%E7%AC%94%E8%AE%B0%E4%B8%80-%E8%87%AA%E5%8A%A8%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/</url>
    <content><![CDATA[<h1 id="Java内存区域与内存异常"><a href="#Java内存区域与内存异常" class="headerlink" title="Java内存区域与内存异常"></a>Java内存区域与内存异常</h1><h2 id="运行时数据区"><a href="#运行时数据区" class="headerlink" title="运行时数据区"></a>运行时数据区</h2><ol>
<li>方法区(Method Area)</li>
<li>堆(Heap)</li>
<li>虚拟机栈(VM Stack)</li>
<li>本地方法栈(Native Method Stack)</li>
<li>程序计数器(Program Counter Register)</li>
</ol>
<p><em>其中方法区和堆是有所有线程共享的数据区</em></p>
<h3 id="程序计数器"><a href="#程序计数器" class="headerlink" title="程序计数器"></a>程序计数器</h3><p>程序计数器可以当做为当前线程所执行的字节码的行号指示器，每一个线程有一个独立的程序计数器，各线程之间计数器互不影响，独立存储。该区域为JVM中唯一没有规定任何OutOfMemoryError情况的数据区。</p>
<h3 id="Java虚拟机栈"><a href="#Java虚拟机栈" class="headerlink" title="Java虚拟机栈"></a>Java虚拟机栈</h3><p>Java虚拟机栈为线程私有，其生命周期与线程一样。描述的为java方法执行的内存模型。<br>如果线程请求的栈深度大于虚拟机所允许的深度，会抛出StackOverflowError异常，如果虚拟机栈可以动态扩展但是无法申请到足够的内存，会抛出OutOfMemoryError异常。</p>
<blockquote>
<p>可以通过-Xss128k设置每一个线程的堆栈大小,JDK5.0之后默认为1M.该值越少在同等物理内存下可以生成更多的线程,同时操作系统对一个进程内的线程数也有限制.(jvm本身的内存大小,系统的限制)</p>
</blockquote>
<h3 id="本地方法栈"><a href="#本地方法栈" class="headerlink" title="本地方法栈"></a>本地方法栈</h3><p>本地方法栈与java虚拟机栈的作用相似，只是虚拟机栈为执行java方法服务，而本地方法栈为虚拟机用到的Native方法服务。JVM的实现可以把本地方法栈与虚拟机栈合二为一例如HotSpot。本地方法栈也会抛出StackOverflowError和OutOfMemoryError异常。</p>
<h3 id="Java堆"><a href="#Java堆" class="headerlink" title="Java堆"></a>Java堆</h3><p>java堆是被所有内存共享的一块内存区域，在jvm启动时创建。所有的对象实例和数组都是在堆上分配。内存的分配和回收设计的内容很多，例如TLAB（Thread Local Allocation Buffer）为了加快分配的速度可以给每一个线程一个私有的分配缓冲区，为了更好的进行垃圾回收，堆会细分为新生代，老年代等。如果内存不够会抛出OutOfMemoryError异常。虚拟机是否使用TLAB可以通过-XX:+/-UseTLAB参数设定。</p>
<blockquote>
<p>可以通过-Xms，-Xmx进行设置堆内存的大小, -Xmn设置新生代的大小,-XX:NewRatio=4表示新生代和老年代的比例为1:4,新生代占堆大小的1/5.-XX:SurvivorRatio=8表示新生代中Eden与Survivor区的大小比值,因为有两个Suvivor区因此Eden占整个新生代的8/10.<br>-XX:+PrintTenuringDistribution可以显示每次Minor GC时Survivor区各个年龄的对象的大小.<br>-XX:InitialTenuringThreshol和-XX:MaxTenuringThreshold可以设置晋升到老年代的对象的年龄的最小值和最大值.每一次Minor GC后,年龄就加1.</p>
</blockquote>
<h3 id="方法区"><a href="#方法区" class="headerlink" title="方法区"></a>方法区</h3><p>方法区为各个线程共享的内存区域，存储被虚拟机加载的类信息，常量，静态变量，即时编译后的代码等。可以通过-XX:MaxPermSize进行设置，JDK8中已经没有永久区的概念，变成了元空间（Metaspace）。会抛出OutOfMemoryError异常。</p>
<blockquote>
<p>-XX:MetaspaceSize=N设置Metaspace的初始大小.<br>-XX:MaxMetaspaceSize=N设置Metaspace的最大值.<br>-XX:MinMetaspaceFreeRatio=N当Metaspace的空闲空间小于这个比例时会导致Metaspace增加.<br>-XX:MaxMetaspaceFreeRatio=N当Metaspace的空闲空间大于这个比例时会导致Metaspace减少.<br>-XX:MaxMetaspaceExpansion=N设置Metaspace增长的最大幅度.<br>-XX:MinMetaspaceExpansion=N设置Metaspace增长时的最小幅度.</p>
</blockquote>
<h4 id="运行时常量池"><a href="#运行时常量池" class="headerlink" title="运行时常量池"></a>运行时常量池</h4><p>运行时常量池(Runtime Constant Pool)为方法区的一部分，用于存放编译期生成的各种字面量和符号引用。运行期间也可能将新的常量放入池中，例如String的intern方法。会抛出OutOfMemory异常。</p>
<h3 id="直接内存"><a href="#直接内存" class="headerlink" title="直接内存"></a><em>直接内存</em></h3><p>直接内存(Direct Memory)不是虚拟机运行时数据区的一部分，也不是虚拟机规范中定义的内存区域。NIO中可以使用Native函数直接分配堆外内存，通过DirectByteBuffer作为这块内存的引用进行操作。</p>
<h2 id="虚拟机对象探秘"><a href="#虚拟机对象探秘" class="headerlink" title=" 虚拟机对象探秘"></a> 虚拟机对象探秘</h2><h3 id="对象的创建"><a href="#对象的创建" class="headerlink" title="对象的创建"></a>对象的创建</h3><p>为对象分配空间的任务等同于把一块确定大小的内存从java堆中划分出来。如果java堆中内存是规整的，用过的内存在一边，没用过的在另一边，分配内存时只需要把指针向空闲空间移动对应大小的距离即可，这种分配方式称为指针碰撞(Bump the Pointer).如果空闲的内存不是规整的则需要记录下空闲的地址，并且从一块够大的空间中划分给对象实例，并更新列表中的记录，这种方式称为空闲列表(Free List).java堆是否规整由所采用的垃圾收集器是否有压缩整理功能决定。</p>
<h3 id="对象的内存布局"><a href="#对象的内存布局" class="headerlink" title="对象的内存布局"></a>对象的内存布局</h3><p>对象在内存中存储的布局可以分为3块区域：对象头(Header),实例数据(Instance Data),对齐填充(Padding).</p>
<p><strong>对象头包含两部分：</strong></p>
<ol>
<li>存储对象自身的运行时数据，例如HashCode，GC分代年龄，锁状态标志，线程持有的锁等。(32位虚拟机和64位虚拟机中分别占32bit和64bit[未开启压缩指针])，Mark Word.</li>
<li>类型指针，对象指向它的类元数据的指针，虚拟机用来确定对象是哪个类的实例。如果对象为数组，还需要一个记录数组长度的数据。</li>
</ol>
<p><strong>实例数据</strong><br>实例数据为对象真正存储的有效信息，为程序代码中所定义的各种类型的字段内容。(包括从父类继承和子类定义的)。存储顺序受虚拟机分配策略参数(FieldsAllocationStyle)和java源代码中定义的顺序影响。HotSport默认的策略为从大到小，相同宽度的字段分配在一起。<br><strong>对齐填充</strong><br>HotSpot VM的自动内存管理系统要求对象起始地址必须是8字节的整数倍，当实例数据没有对齐时，需要通过对齐来补充。(对象头部分恰好是8字节的倍数，1或者2)。</p>
<h3 id="对象的访问"><a href="#对象的访问" class="headerlink" title="对象的访问"></a>对象的访问</h3><p>程序通过栈上的reference来操作堆上的具体对象，具体的访问方式由JVM实现决定。主流的方式有使用句柄和直接指针两种。</p>
<p><strong>句柄访问</strong><br>java堆中划分一块内存当做句柄池，reference中存储的为对象的句柄地址，句柄中包含了对象实例数据与类型数据对应的具体地址信息。<br><img src="/images/pointer.png" alt="alter 命中"><br><em>优点：</em>reference中存储的是稳定的句柄地址，对象被移动时只会改变句柄中的实例数据指针，reference本身不需要修改。<br><em>缺点：</em>速度不够快，需要两次指针访问才能访问到对象。</p>
<p><strong>直接访问</strong><br>如果使用直接指针访问，则java对象中需要考虑如何存放类型数据的相关信息，reference中存储的为对象的地址。<br><img src="/images/direct.png" alt="alter 命中"><br><em>优点：</em>访问速度快与句柄访问相比节省了一次指针访问。<br><em>缺点：</em>对象移动时需要修改reference，指针不稳定。</p>
<blockquote>
<p>因对象访问在java中非常频繁，HotSport中使用直接访问方式。</p>
</blockquote>
<p><a href="http://www.oracle.com/technetwork/java/whitepaper-135217.html#memory">jvm架构白皮书</a></p>
]]></content>
  </entry>
  <entry>
    <title>JVM笔记二[垃圾收集器与内存分配策略]</title>
    <url>/2016/04/28/2016-04-28-JVM%E7%AC%94%E8%AE%B0%E4%BA%8C-%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E4%B8%8E%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E7%AD%96%E7%95%A5/</url>
    <content><![CDATA[<h1 id="垃圾收集器与内存分配策略"><a href="#垃圾收集器与内存分配策略" class="headerlink" title="垃圾收集器与内存分配策略"></a>垃圾收集器与内存分配策略</h1><h2 id="GC概述"><a href="#GC概述" class="headerlink" title="GC概述"></a>GC概述</h2><p>GC需要完成的3件事情。</p>
<ul>
<li>哪些内存需要回收？(回收对象,what)</li>
<li>什么时候回收？(回收时间,when)</li>
<li>如何回收？(回收方法,how)</li>
</ul>
<p>程序计数器，虚拟机栈，本地方法栈区域中的内容随线程而生，随线程而灭，因此不需要考虑回收的问题。Java堆和方法区则不一样，只有程序运行时才知道会创建哪些对象，这部分内存的分配和回收都是动态的，是垃圾收集器所关注的部分。</p>
<h2 id="对象能够被回收的条件"><a href="#对象能够被回收的条件" class="headerlink" title="对象能够被回收的条件"></a>对象能够被回收的条件</h2><p>垃圾收集器在堆进行回收前，需要确定这些对象是否还被使用。</p>
<h3 id="引用计数法"><a href="#引用计数法" class="headerlink" title="引用计数法"></a>引用计数法</h3><p>给对象添加一个引用计数器，每当有一个地方引用则加一，当引用失效则减一，当引用计数为0时，表示可以回收。<em>缺点是不能解决对象相互循环引用的问题</em><br>例如：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CircularReference</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ObjB objB = <span class="keyword">new</span> ObjB();</span><br><span class="line">        ObjA objA = <span class="keyword">new</span> ObjA(objB);</span><br><span class="line">        objB.setObjA(objA);</span><br><span class="line"></span><br><span class="line">        objA = <span class="keyword">null</span>;</span><br><span class="line">        objB = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ObjA</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ObjB objB = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ObjA</span><span class="params">(ObjB objB)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.objB = objB;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ObjB</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ObjA objA = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObjA</span><span class="params">(ObjA objA)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.objA = objA;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<h3 id="对象可达性分析算法"><a href="#对象可达性分析算法" class="headerlink" title="对象可达性分析算法"></a>对象可达性分析算法</h3><p>Java使用可达性分析(Reachability Analysis)来判定对象是否存活。通过一系列的“GC Roots”对象作为起始点，从这些节点开始搜索，搜索所走过的路径称为引用链(Reference Chain),当一个对象到GC Roots没有任何引用链相连则该对象是不可用的。</p>
<p>java语言中可以作为GC Root的对象如下：</p>
<ol>
<li>虚拟机栈中引用的对象(栈帧中的本地变量表)。</li>
<li>方法区中类静态属性引用的对象。</li>
<li>方法区中常量引用的对象。</li>
<li>本地方法栈中引用的对象(Native方法)。</li>
</ol>
<h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><p>JDK1.2之后，java堆引用的概念进行了扩充，有下面四种引用。</p>
<ol>
<li>强引用。(Strong Reference)</li>
<li>软引用。(Soft Reference)</li>
<li>弱引用。(Weak Reference)</li>
<li>虚引用。(Phantom Reference)<br>引用强调依次逐渐减弱。<br>参考<a href="/2016/04/28/Java%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B/">Java 引用类型</a></li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>Java引用类型</title>
    <url>/2016/04/28/2016-04-28-Java%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B/</url>
    <content><![CDATA[<h1 id="Java引用类型"><a href="#Java引用类型" class="headerlink" title="Java引用类型"></a>Java引用类型</h1><p>Java2平台引入了java.lang.ref包，对引用的概念进行了扩充，之前对象只有引用或者没有被引用状态，不能解决一些场景，例如如果内存空间够时保存在内存中，当内存空间在垃圾回收后还紧张时可以清理这些对象。</p>
<p><strong>引用实例存在以下四种状态：</strong></p>
<p>**Active:**该状态时java虚拟机会特别对待，当初始化时为该状态，当GC发现引用对象的可达性改变成适当状态时，其状态根据是否有queue转变成Pending或者Inactive状态。</p>
<blockquote>
<p>该状态下:queue=ReferenceQueue or ReferenceQueue.NULL(如果没有指定),且next=null</p>
</blockquote>
<p>**Pending:**pending-reference中的一个元素，等待被reference-handler线程处理，如果引用实例没有指定queue则不会出现该状态。</p>
<blockquote>
<p>该状态下:queue=ReferenceQueue 且next=this</p>
</blockquote>
<p>**Enqueued:**为引用被创建时注入的queue中的一个元素，当引用从其queue中移除时，状态变成Inactive。如果引用实例没有指定queue则不会出现该状态。</p>
<blockquote>
<p>该状态下:queue=ReferenceQueue.ENQUEUED且next=this或者queue中的下一个元素</p>
</blockquote>
<p>**Inactive:**当引用的状态变成Inactive时，其状态不再改变.</p>
<blockquote>
<p>该状态下:queue=ReferenceQueue.NULL且next=this</p>
</blockquote>
<p>引用对象（reference object）提供get方法获取其引用的对象（referent），垃圾回收器可以在任何时候回收referent。一旦referent被回收则reference object的get方法返回null，因此在使用reference object时需要注意：</p>
<ol>
<li>必须检查referent是否为空。因为垃圾回收器可以在任何时候回收referent。</li>
<li>当使用referent时必须用一个强引用指向referent，否则referent可能随时会被垃圾回收掉，导致NullPointerException。</li>
<li>必须有一个到reference object的强引用，否则reference object会被垃圾回收。</li>
</ol>
<p><strong>引用类型按强到弱有下面四种：</strong></p>
<ol>
<li><a href="#strongReference">Strong Reference.</a></li>
<li><a href="#softReference">Soft Reference.</a></li>
<li><a href="#weakReference">Weak Reference.</a></li>
<li><a href="#phantomReference">Phantom Reference.</a></li>
</ol>
<h2 id="Strong-Reference"><a href="#Strong-Reference" class="headerlink" title="Strong Reference"></a><span id='strongReference'>Strong Reference</h2><p>强引用类型是java的默认引用实现，它会尽可能长时间的存活于JVM中，当没有任何对象指向它时GC执行后将会被回收.</p>
<h2 id="Soft-Reference"><a href="#Soft-Reference" class="headerlink" title="Soft Reference"></a><span id='softReference'>Soft Reference</h2><p>软引用用来实现内存比较敏感的缓存，垃圾回收器会尽量保证对象不会被回收，但是会在抛出OutOfMemoryError之前回收对象。</p>
<blockquote>
<p>jvm参数如下：<br>-Xms20m -Xmx20m -verbose:gc -Xmn10m -XX:SurvivorRatio=3 -XX:+PrintGCDetails</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReferenceTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        Set&lt;SoftReference&lt;Memory&gt;&gt; refs = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        ReferenceQueue&lt;Memory&gt; queue = <span class="keyword">new</span> ReferenceQueue&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">            SoftReference&lt;Memory&gt; ref = <span class="keyword">new</span> SoftReference&lt;Memory&gt;(</span><br><span class="line">                <span class="keyword">new</span> Memory(<span class="number">2</span>), queue);</span><br><span class="line">            System.out.println(i + <span class="string">&quot;:create &quot;</span> + ref);</span><br><span class="line">            refs.add(ref);</span><br><span class="line">            Reference re = <span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">while</span> ((re = queue.poll()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;cleared:&quot;</span> + re);</span><br><span class="line">                refs.remove(re);</span><br><span class="line">                re.clear();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Memory</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MB_SIZE = <span class="number">1024</span> * <span class="number">1024</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">byte</span>[] bytes;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Memory</span><span class="params">(<span class="keyword">int</span> mb)</span> </span>&#123;</span><br><span class="line">        bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[MB_SIZE * mb];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p class='sysout'>
输出结果类似：
0:create java.lang.ref.SoftReference@66d3c617
1:create java.lang.ref.SoftReference@63947c6b
[GC (Allocation Failure) [PSYoungGen: 5605K->656K(8192K)] 5605K->4760K(18432K), 0.0033536 secs] [Times: user=0.01 sys=0.00, real=0.00 secs] 
2:create java.lang.ref.SoftReference@2b193f2d
3:create java.lang.ref.SoftReference@355da254
[GC (Allocation Failure) [PSYoungGen: 4931K->624K(8192K)] 9035K->8824K(18432K), 0.0032101 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] 
[Full GC (Ergonomics) [PSYoungGen: 624K->0K(8192K)] [ParOldGen: 8200K->8723K(10240K)] 8824K->8723K(18432K), [Metaspace: 3072K->3072K(1056768K)], 0.0077874 secs] [Times: user=0.01 sys=0.01, real=0.01 secs] 
4:create java.lang.ref.SoftReference@4dc63996
5:create java.lang.ref.SoftReference@d716361
[Full GC (Ergonomics) [PSYoungGen: 4315K->4097K(8192K)] [ParOldGen: 8723K->8723K(10240K)] 13038K->12820K(18432K), [Metaspace: 3085K->3085K(1056768K)], 0.0060487 secs] [Times: user=0.01 sys=0.00, real=0.01 secs] 
<font color='red'>[Full GC (Allocation Failure) [PSYoungGen: 4097K->0K(8192K)] [ParOldGen: 8723K->504K(10240K)] 12820K->504K(18432K), [Metaspace: 3085K->3085K(1056768K)], 0.0053351 secs] [Times: user=0.01 sys=0.00, real=0.00 secs] </font>
6:create java.lang.ref.SoftReference@6ff3c5b5
cleared:java.lang.ref.SoftReference@63947c6b
cleared:java.lang.ref.SoftReference@355da254
cleared:java.lang.ref.SoftReference@2b193f2d
cleared:java.lang.ref.SoftReference@66d3c617
cleared:java.lang.ref.SoftReference@d716361
cleared:java.lang.ref.SoftReference@4dc63996
7:create java.lang.ref.SoftReference@3764951d
Heap
 PSYoungGen      total 8192K, used 4280K [0x00000007bf600000, 0x00000007c0000000, 0x00000007c0000000)
  eden space 6144K, 69% used [0x00000007bf600000,0x00000007bfa2e380,0x00000007bfc00000)
  from space 2048K, 0% used [0x00000007bfe00000,0x00000007bfe00000,0x00000007c0000000)
  to   space 2048K, 0% used [0x00000007bfc00000,0x00000007bfc00000,0x00000007bfe00000)
 ParOldGen       total 10240K, used 504K [0x00000007bec00000, 0x00000007bf600000, 0x00000007bf600000)
  object space 10240K, 4% used [0x00000007bec00000,0x00000007bec7e3e0,0x00000007bf600000)
 Metaspace       used 3100K, capacity 4496K, committed 4864K, reserved 1056768K
  class space    used 342K, capacity 388K, committed 512K, reserved 1048576K
</p>

<blockquote>
<p>从上面的输出直到最后一次回收后，使用内存才减少，因此可以看出soft reference会尽可能阻止垃圾回收。</p>
</blockquote>
<h2 id="Weak-Reference"><a href="#Weak-Reference" class="headerlink" title="Weak Reference"></a><span id='weakReference'>Weak Reference</h2><p>弱引用不会阻止其引用的对象变成finalizable，finalized，reclaimed。经常用来实现标准映射，例如map中的key。垃圾回收器可以在任何时候回收只有弱引用引用的对象，一般会在一次major collection时回收，<em>可能</em>经历几次minor collection。(在jdk1.8中测试，在mimor gc时就被回收了)</p>
<blockquote>
<p>jvm参数如下：<br>-Xms20m -Xmx20m -verbose:gc -Xmn10m   -XX:SurvivorRatio=3 -XX:+PrintGCDetails -XX:+PrintGCDateStamps</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReferenceTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        Set&lt;WeakReference&lt;Memory&gt;&gt; refs = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        ReferenceQueue&lt;Memory&gt; queue = <span class="keyword">new</span> ReferenceQueue&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            WeakReference&lt;Memory&gt; ref = <span class="keyword">new</span> WeakReference&lt;Memory&gt;(</span><br><span class="line">              <span class="keyword">new</span> Memory(<span class="number">2</span>), queue);</span><br><span class="line">            System.out.println(i + <span class="string">&quot;:create &quot;</span> + ref);</span><br><span class="line">            refs.add(ref);</span><br><span class="line">            Reference re = <span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">while</span> ((re = queue.poll()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;cleared:&quot;</span> + re);</span><br><span class="line">                refs.remove(re);</span><br><span class="line">                re.clear();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Memory</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MB_SIZE = <span class="number">1024</span> * <span class="number">1024</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">byte</span>[] bytes;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Memory</span><span class="params">(<span class="keyword">int</span> mb)</span> </span>&#123;</span><br><span class="line">        bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[MB_SIZE * mb];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p class='sysout'>
输出结果类似：
0:create java.lang.ref.WeakReference@66d3c617
1:create java.lang.ref.WeakReference@63947c6b
[GC (Allocation Failure) [PSYoungGen: 5605K->656K(8192K)] 5605K->664K(18432K), 0.0010058 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] 
2:create java.lang.ref.WeakReference@2b193f2d
cleared:java.lang.ref.WeakReference@66d3c617
cleared:java.lang.ref.WeakReference@63947c6b
3:create java.lang.ref.WeakReference@355da254
[GC (Allocation Failure) [PSYoungGen: 4930K->608K(8192K)] 4938K->616K(18432K), 0.0008789 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] 
4:create java.lang.ref.WeakReference@4dc63996
cleared:java.lang.ref.WeakReference@2b193f2d
cleared:java.lang.ref.WeakReference@355da254
5:create java.lang.ref.WeakReference@d716361
Heap
 PSYoungGen      total 8192K, used 4985K [0x00000007bf600000, 0x00000007c0000000, 0x00000007c0000000)
  eden space 6144K, 71% used [0x00000007bf600000,0x00000007bfa46440,0x00000007bfc00000)
  from space 2048K, 29% used [0x00000007bfe00000,0x00000007bfe98000,0x00000007c0000000)
  to   space 2048K, 0% used [0x00000007bfc00000,0x00000007bfc00000,0x00000007bfe00000)
 ParOldGen       total 10240K, used 8K [0x00000007bec00000, 0x00000007bf600000, 0x00000007bf600000)
  object space 10240K, 0% used [0x00000007bec00000,0x00000007bec02000,0x00000007bf600000)
 Metaspace       used 3054K, capacity 4496K, committed 4864K, reserved 1056768K
  class space    used 338K, capacity 388K, committed 512K, reserved 1048576K

</p>

<blockquote>
<p>从上面的输出可以看出，当内存不够时weak reference对应的对象都被回收了。 </p>
</blockquote>
<h2 id="Phantom-Reference"><a href="#Phantom-Reference" class="headerlink" title="Phantom Reference"></a><span id='phantomReference'>Phantom Reference</h2><p>当对象只被虚引用时，其finalizer方法如果有的话已经被执行，没有方法获取其引用的对象。<br>虚引用不是用来获取referent而是用来表示referent已经被回收了，可以用来进行资源的清除。虚引用使得程序知道什么时候对象不再被使用。</p>
<h3 id="Finalizer"><a href="#Finalizer" class="headerlink" title="Finalizer"></a>Finalizer</h3><p>当用finalizer进行资源的释放时会存在下面的问题：</p>
<ol>
<li><p>finalizer可能永远也不会被调用。<br>如果程序不缺少内存，GC可能永远不会发生，另外如果其他finalize方法有问题，一直占有线程也会导致其他finalize方法没有机会运行。</p>
</li>
<li><p>对象可能在finalizer后复活。<br>因为finalize方法最多只会执行一次，当对象在finalize方法复活后不会再次释放资源。(通过在finalize方法把自身赋值到一个静态变量即可复活)</p>
</li>
</ol>
<blockquote>
<p>另外：标准的JVM用一个线程处理所有对象的finalize方法，如果某些对象的finalize方法执行很长，会导致内存释放的时间延长，即使jvm在抛出OutOfMemoryError之前会执行GC，但是如果对象具有finalize方法，并且finalize方法未被执行之前不会被回收，仍然等待其finalize方法执行。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FinalizeMemory</span> <span class="keyword">extends</span> <span class="title">Memory</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> sleepSeconds = <span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FinalizeMemory</span><span class="params">(<span class="keyword">int</span> mb)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(mb, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FinalizeMemory</span><span class="params">(<span class="keyword">int</span> mb, <span class="keyword">int</span> sleepSeconds)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(mb);</span><br><span class="line">        <span class="keyword">this</span>.sleepSeconds = sleepSeconds;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">finalize</span><span class="params">()</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            TimeUnit.SECONDS.sleep(sleepSeconds);</span><br><span class="line">            System.out.println(<span class="keyword">this</span> + <span class="string">&quot;: finalize called&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">super</span>.finalize();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReferenceTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        testFinalize();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testFinalize</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> FinalizeMemory(<span class="number">3</span>, <span class="number">1</span>);</span><br><span class="line">            <span class="comment">//new Memory(3);</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果指定-Xmx20m，上面的程序在运行时会抛出OutOfMemoryError异常，因为finalize方法未执行完毕导致内存回收不够及时。<br>同样不能保证phantom reference会被放入reference queue中，只有垃圾回收运行时，不可达对象才会被回收，对应的reference才会被放入queue中。</p>
</blockquote>
<h2 id="Reference-Queue"><a href="#Reference-Queue" class="headerlink" title="Reference Queue"></a>Reference Queue</h2><p>当referent对象的可达性发生变化时，其reference object会被垃圾回收器放入reference queue中，一般在phantom reference时使用。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Resource</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Memory memory;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Resource</span><span class="params">(<span class="keyword">int</span> mb)</span> </span>&#123;</span><br><span class="line">        memory = <span class="keyword">new</span> Memory(mb);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Memory <span class="title">getMemory</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> memory;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PhantonMemoryRef</span> <span class="keyword">extends</span> <span class="title">PhantomReference</span>&lt;<span class="title">Resource</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Memory memory;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PhantonMemoryRef</span><span class="params">(Resource resource, ReferenceQueue&lt;Resource&gt; queue)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(resource, queue);</span><br><span class="line">        memory = resource.getMemory();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Memory <span class="title">getMemory</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> memory;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMemory</span><span class="params">(Memory memory)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.memory = memory;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReferenceTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        testPhantonRef();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testPhantonRef</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ReferenceQueue&lt;Resource&gt; source = <span class="keyword">new</span> ReferenceQueue&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        List&lt;PhantonMemoryRef&gt; refs = <span class="keyword">new</span> ArrayList&lt;PhantonMemoryRef&gt;(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">        Thread t = <span class="keyword">new</span> Thread() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">                    PhantonMemoryRef ref = <span class="keyword">null</span>;</span><br><span class="line">                    <span class="keyword">while</span> ((ref = (PhantonMemoryRef) source.poll()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                        ref.setMemory(<span class="keyword">null</span>);</span><br><span class="line">                        ref.clear();</span><br><span class="line">                        refs.remove(ref);</span><br><span class="line">                        System.gc();<span class="comment">//有可能会导致回收不及时抛出OutOfMemoryError。</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        t.setDaemon(<span class="keyword">true</span>);</span><br><span class="line">        t.setPriority(Thread.MIN_PRIORITY);</span><br><span class="line">        t.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            refs.add(<span class="keyword">new</span> PhantonMemoryRef(<span class="keyword">new</span> Resource(<span class="number">2</span>), source));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>上面程序在运行时，如果没有及时gc也会抛出OutOfMemoryError异常，尤其是处理queue线程的优先级比较低时，测试时通过在ref清理后，加上System.gc();后没有出现该异常。<br>通过Reference的源码可以看到会启动一个ReferenceHandler线程进行相关处理,例如把Reference放入对应的queue中,如果是Cleaner类型则会调用对应的clean方法.(与堆外内存的释放有关)</p>
</blockquote>
<p>参考列表:<br><a href="http://www.kdgregory.com/index.php?page=java.refobj">Java Reference Object</a><br><a href="http://blog.kdgregory.com/2014/06/finalizers.html">finazlide</a></p>
]]></content>
  </entry>
  <entry>
    <title>Java Finalization</title>
    <url>/2016/05/02/2016-05-02-Java-Finalization/</url>
    <content><![CDATA[<p>finalization是java语言提供的一种对资源进行清理的途径，当垃圾回收器发现对象不可达时会调用其finalize方法。一般用在对本地资源(native resources)的清理。</p>
<h2 id="finalizable对象的生命周期"><a href="#finalizable对象的生命周期" class="headerlink" title="finalizable对象的生命周期"></a>finalizable对象的生命周期</h2><p>finalizable对象指的是具有非平凡(non-trivial)的finalize方法的对象。个人理解就是那些没有覆写Object对象的finalize方法的对象(包括直接或者间接覆写)。下面对象Image1覆写了Object的finalize方法，是finalizable的。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Image1</span> </span>&#123; </span><br><span class="line">    <span class="comment">// pointer to the native image data private </span></span><br><span class="line">    <span class="keyword">int</span> nativeImg; </span><br><span class="line">    <span class="keyword">private</span> Point pos; </span><br><span class="line">    <span class="keyword">private</span> Dimension dim; </span><br><span class="line">    <span class="comment">// it disposes of the native image; </span></span><br><span class="line">    <span class="comment">// successive calls to it will be ignored </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">disposeNative</span><span class="params">()</span></span>; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dispose</span><span class="params">()</span> </span>&#123; </span><br><span class="line">        disposeNative(); </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">finalize</span><span class="params">()</span> </span>&#123; </span><br><span class="line">        dispose(); </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">private</span> Image1 randomImg; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>当对象被分配时，JVM标识该对象是否为finalizable的。</li>
<li>当垃圾回收器发现对象时不可达时，发现对象时finalizable的，则把对象加入JVM的finalization队列中，同时通过该对象可达的对象都需要保留不能进行回收。因为该finalizable对象可能会重新可达。</li>
<li>稍后，JVM的finalizer线程将对象从队列中取出，执行其finalize方法，并且标识对象的finalize方法已经被执行。这时对象被看做为已经finalized了。</li>
<li>当垃圾回收器再次发现对象为不可达时，会回收其内存，已经所有只有通过该对象可达的对象。 </li>
</ol>
<blockquote>
<p>在finalizable对象回收前至少得经过两次GC，并且在此过程中需要保留只有通过该对象可达的其他对象。<br>并且JVM不保证所有finalizable对象的finalize方法都会被执行。(程序在gc前退出，有对象的finalize方法实现有问题一直占用finalize线程)</p>
</blockquote>
<h2 id="继承时的finalize"><a href="#继承时的finalize" class="headerlink" title="继承时的finalize"></a>继承时的finalize</h2><p>如果Parent是finalizable的，则其子类Child因为继承了父类的finalize方法，因此Child也是finalizable的，如果Child中还有其他占内存的属性，会导致内存得不到及时释放。例如下面的RGBImage1因为Image1覆写了finalize方法，导致rgdData内容得不到及时释放，finalize在继承关系中隐藏得很深。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RGBImage1</span> <span class="keyword">extends</span> <span class="title">Image1</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">byte</span> rgbData[];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>解决RGBImage1遇到的问题的方法之一是舍弃继承使用组合，例如下面的RGBImage2</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RGBImage2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">byte</span> rgbData[];</span><br><span class="line">    <span class="keyword">private</span> Image1 img;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dispose</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        img.dispose();<span class="comment">//把方法委托给img</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>RGBImage2中使用了一个Image1对象，而非继承Image1，RGBImage2不是finalizable的，因此RGBImage2会在第一次GC时就可以回收。</p>
<p>或者可以通过手动调用非finalize方法实现，例如下面的RGBImage3</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RGBImage3</span> <span class="keyword">extends</span> <span class="title">Image1</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">byte</span> rgbData[];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dispose</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.dispose();</span><br><span class="line">        <span class="keyword">this</span>.rgbData = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>RGBImage3通过在dispose方法中把rgbData赋值为null，加快垃圾回收，此时必须在RGBImage3用完时需要显示的调用dispose方法，如果依赖finalize方法调用dispose方法则一样的存在内存延迟释放。</p>
</blockquote>
<p><em>同样的内部类隐式的具有一个指向其外部类对象，如果内部类是finalizable的则会导致外部类的延迟回收</em></p>
<h2 id="finalization的替代"><a href="#finalization的替代" class="headerlink" title="finalization的替代"></a>finalization的替代</h2><p>JVM同等的对待finalization队列中的对象，JVM也不保证finalizable对象finalize方法的执行顺序。避免不确定性，可以使用weakreference加reference queue的方式实现finalize同样的效果。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">NativeImage3</span> <span class="keyword">extends</span> <span class="title">WeakReference</span>&lt;<span class="title">Image3</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> nativeImg;</span><br><span class="line"></span><br><span class="line">    <span class="function">privat <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">disposeNative</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dispose</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        disposeNative();</span><br><span class="line">        refList.remove(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">private</span> ReferenceQueue&lt;Image3&gt; refQueue;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">private</span> List&lt;NativeImage3&gt; refList;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> ReferenceQueue&lt;Image3&gt; <span class="title">referenceQueue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> refQueue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    NativeImage3(Image3 img) &#123;</span><br><span class="line">        <span class="keyword">super</span>(img, refQueue);</span><br><span class="line">        refList.add(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Image3</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> NativeImage3 nativeImg;</span><br><span class="line">    <span class="keyword">private</span> Point pos;</span><br><span class="line">    <span class="keyword">private</span> Dimension dim;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dispose</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        nativeImg.dispose();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>当NativeImage3指向的Image3的可达性变成弱可达时，会把NativeImage3放入reference queue中，通过从reference queue中获取NativeImage3并且调用其dispose方法。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ReferenceQueue&lt;Image3&gt; refQueue = NativeImage3.referenceQueue(); </span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123; </span><br><span class="line">    NativeImage3 nativeImg = (NativeImage3) refQueue.remove(); </span><br><span class="line">    nativeImg.dispose();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>不能保证资源一定会被释放，当内存很充足时，还来不及回收，因此NativeImage3也不会被放入reference queue中。</p>
</blockquote>
<p>参考列表：<br><a href="http://www.devx.com/Java/Article/30192/0/page/1">How to Handle Java Finalization’s Memory-Retention Issues</a></p>
]]></content>
  </entry>
  <entry>
    <title>GC调优一[简介]</title>
    <url>/2016/05/03/2016-05-03-GC%E8%B0%83%E4%BC%98%E4%B8%80-%E7%AE%80%E4%BB%8B/</url>
    <content><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>很多应用都使用java平台，从小的applet到大型的web服务。Java HotSpot虚拟机提供多种垃圾回收器，不同的垃圾回收器满足不同的需求。</p>
<p>java垃圾回收器是一个内存管理工具，通过下面的操作进行自动内存管理。</p>
<ul>
<li>在新生代中分配对象，并且把老年的对象提升到老年代。</li>
<li>通过一个并发的标记过程查找到在老年代中存活的对象。java虚拟机在heap的使用内存达到一定程度时触发标记过程。参考CMS与G1垃圾回收器。</li>
<li>通过并行复制压缩存活对象回收内存。参考Parallel与G1垃圾回收器。</li>
</ul>
<h2 id="GC默认选择"><a href="#GC默认选择" class="headerlink" title="GC默认选择"></a>GC默认选择</h2><p>在调优之前使用默认的配置。</p>
<p>被称为服务器(server-class machine)的机器需要满足下面的条件。</p>
<ol>
<li>大于等于2个物理处理器。</li>
<li>大于等于2GB的物理内存。</li>
</ol>
<p>在server-class machie中有下面的默认值。</p>
<ul>
<li>吞吐量垃圾回收器</li>
<li>初始化堆大小为总物理内存的1/64，最大1G.(最少为2G/64为32M)</li>
<li>最大堆大小为总物理内存的1/4，最大1G.(最少为2G/4为512M)</li>
<li>使用jvm server模式</li>
</ul>
<p><em>默认server-class machie下都是使用jvm server模式，只有Windows操作系统不一样还是使用jvm client模式</em></p>
<h3 id="基于行为的调整"><a href="#基于行为的调整" class="headerlink" title="基于行为的调整"></a>基于行为的调整</h3><p>对并发垃圾回收器来说，根据应用程序实现特定的行为提供两个调整参数，一个是最大暂停时间，一个是最大吞吐量。参考并行垃圾回收器(其他垃圾回收期无这两个参数)，这些参数也只是一个参考值不能保证每次都满足。</p>
<h4 id="以最大暂停时间为目标"><a href="#以最大暂停时间为目标" class="headerlink" title="以最大暂停时间为目标"></a>以最大暂停时间为目标</h4><p>暂停时间是垃圾回收器停止应用程序(stops the application)进行内存回收的时间。最大暂停时间是指垃圾回收器暂停应用运行的最长时间。通过参数-XX:MaxGCPauseMillis=nnn设置，暂停时间nnn是对垃圾回收器的一种提示,垃圾回收器通过调整堆大小和其他参数试图满足暂停时间小于nnn。这样可能会导致垃圾回收更加频繁，导致应用的吞吐量下降。同时也不能保证每次暂停时间都满足要求。</p>
<h4 id="以吞吐量为目标"><a href="#以吞吐量为目标" class="headerlink" title="以吞吐量为目标"></a>以吞吐量为目标</h4><p>吞吐量通过垃圾回收器占用的时间与非垃圾回收器占用的时间进行衡量。通过-XX:GCTimeRatio=<nnn>设置。例如-XX:GCTimeRatio=19设置目标值为1/20,即垃圾回收器占用的总时间的比例为5%。</p>
<p>垃圾回收器的时间包括新生代和老年代的时间之和。如果不能达到设置的值，可能会加大堆的大小，以便减少垃圾回收器的执行次数。</p>
<h4 id="以空间为目标"><a href="#以空间为目标" class="headerlink" title="以空间为目标"></a>以空间为目标</h4><p>如果之前的两个目标都满足，则垃圾回收器减少堆的大小直到之前的一个目标不能达到为止。</p>
<h3 id="调整策略"><a href="#调整策略" class="headerlink" title="调整策略"></a>调整策略</h3><p>不要设置堆的大小，除非你需要比默认堆大小更大的值，设置吞吐量就能够满足应用的要求。</p>
<h2 id="分代-Generations"><a href="#分代-Generations" class="headerlink" title="分代(Generations)"></a>分代(Generations)</h2><p>当从运行中的代码不能访问到对象时该对象被认为可以回收。</p>
<p>绝大多数对象都是在年轻代分配，并且绝大多数在年轻代就被回收了(不会提升到老年代)，只有年轻代进行垃圾回收时称为minor collection。经过年轻代回收后还存活的对象会被提升到老年代，当老年代空间不足时会进行垃圾回收这时称为major collection。</p>
<p>年轻代包含eden和survivor(有两个)两个区域，绝大多数对象在eden区进行初始化，survivor中有一个是空的，另外一个当做eden存活对象存放的目的地，两个survivor会在回收中互相替换角色。当对象存活到能够提升到老年代时才会从survivor中移动老年代。</p>
<h3 id="测量"><a href="#测量" class="headerlink" title="测量"></a>测量</h3><p>可以通过一些参数输出gc的日志。</p>
<ul>
<li>-verbose:gc,在输出设备上显示虚拟机运行gc信息,可以通过-Xloggc:file把日志写入文件</li>
<li>-XX:+PrintGCDetails,显示gc详细信息。</li>
<li>-XX:+PrintGCTimeStamps.显示垃圾回收的时间，自JVM启动后计量。</li>
<li>-XX:+PrintGCDateStamps,显示垃圾回收的时间信息</li>
<li>-XX:+PrintHeapAtGC,在GC时输出堆栈详细信息.</li>
</ul>
<p>-verbose:gc时日志显示格式如下:</p>
<blockquote>
<p>[GC 325407K-&gt;83000K(776768K), 0.2300771 secs]<br>[GC 325816K-&gt;83372K(776768K), 0.2454258 secs]<br>[Full GC 267628K-&gt;83769K(776768K), 1.8479984 secs]</p>
</blockquote>
<p>上面的第一行日志说明一共发生了两次minor collections，一次major collection。箭头前后的数字表示垃圾回收前后占用的内存大小，括号中的数字表示不需要从操作系统获取额外的内存而具有的可以使用的空间大小(committed size of the heap)这个大小只包括一个survivor的大小，最后一个数字表示垃圾回收所用的时间。</p>
<p>-XX:+PrintGCDetails显示的日志如下：</p>
<blockquote>
<p>[GC [DefNew: 64575K-&gt;959K(64576K), 0.0457646 secs] 196016K-&gt;133633K(261184K), 0.0459067 secs]</p>
</blockquote>
<p>第一个箭头前后的数字表示年轻代进行minor collection前后占用的内存大小，第一个时间表示年轻代垃圾回收占用的时间，第二个箭头前后的数字表示整个堆的内存在回收前后占用的大小，最后一个时间表示一些额外的时间加上年轻代回收的时间的总和。</p>
<h2 id="分代大小设置"><a href="#分代大小设置" class="headerlink" title="分代大小设置"></a>分代大小设置</h2><p>堆的大小可以通过-Xmx进行设置，如果-Xms小于-Xmx则java虚拟机不会马上使用-Xmx对应的内存，堆的不同组成部分使用的内存可以增长到-Xmx的大小。</p>
<p><img src="/images/heapparameter.png" alt="堆参数"></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>MinHeapFreeRatio</td>
<td>40</td>
</tr>
<tr>
<td>MaxHeapFreeRatio</td>
<td>70</td>
</tr>
<tr>
<td>-Xms</td>
<td>6656K</td>
</tr>
<tr>
<td>-Xmx</td>
<td>计算的值</td>
</tr>
</tbody></table>
<p>当堆的剩余空间不足40%时，则堆的大小进行扩张直到剩余堆空间达到40%（不能超过-Xmx的值），当堆的剩余空间超过70%时进行堆空间缩小达到剩余空间为70%（不能少于-Xms的值）。</p>
<blockquote>
<p><em>如果-Xms与-Xmx的大小一致则不会进行堆空间大小的扩展与缩小。</em></p>
</blockquote>
<h3 id="年轻代大小设置"><a href="#年轻代大小设置" class="headerlink" title="年轻代大小设置"></a>年轻代大小设置</h3><p>当堆的大小确定时，年轻代的空间越大，则发生minor gc的频率越低， 同时年老代越少，会增加major gc的频率，同时与应用程序中对象的生命周期相关。</p>
<p>年轻代的大小默认由NewRatio决定，例如：-XX:NewRatio=3.表示年轻代与年老代的比例为1:3.表示eden与survivor的大小为整个堆大小的1/4.</p>
<p>-XX:NewSize和-XX:MaxNewSize可以设置年轻代的最小与最大值.如果NewSize与MaxNewSize一样大可以固定年轻代的大小.(与-Xmn的效果一样)</p>
<h3 id="幸存区-Survivor-大小设置"><a href="#幸存区-Survivor-大小设置" class="headerlink" title="幸存区(Survivor)大小设置"></a>幸存区(Survivor)大小设置</h3><p>可以通过SurvivorRatio设置幸存区的大小,通常不会提升性能.例如-XX:SurvivorRatio=6设置eden与survivor的比例为6:1,每一个survivor的大小为eden的1/6,为整个年轻代的1/8(因为有两个survivor).</p>
<p>如果survivor太小,则拷贝压缩的对象可能直接进入老年代而不需要达到年龄才会往老年代提升,如果survivor过大则浪费空间(有一个survivor的空间是浪费的).-XX:+PrintTenuringDistribution可以显示年轻代中对象的年龄,可以用来观察一个应用中对象的生命周期分布情况.</p>
<p>survivor空间的默认值</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>server模式 JVM默认值</th>
</tr>
</thead>
<tbody><tr>
<td>NewRatio</td>
<td>2</td>
</tr>
<tr>
<td>NewSize</td>
<td>1310M</td>
</tr>
<tr>
<td>MaxNewSize</td>
<td>没有限制(表示不会受该参数的限制)</td>
</tr>
<tr>
<td>SurvivorRatio</td>
<td>8</td>
</tr>
</tbody></table>
<p>首先找出可以分配给JVM的最大内存,不能超过物理内存的大小,会出现换页情况.<br>如果总的堆大小确定了,确保年老代的大小能保持应用程序任何时候需要使用的对象的大小,并加上一定的空闲(10到20%).</p>
<p>当增加线程时增加年轻代的大小,因为内存分配是并行的.</p>
<p>例如设置-Xms30m -Xmx30m 时,默认情况下老年代占20m,eden占8m,两个survivor各占1m.</p>
<h2 id="可用的垃圾回收器类型"><a href="#可用的垃圾回收器类型" class="headerlink" title="可用的垃圾回收器类型"></a>可用的垃圾回收器类型</h2><ul>
<li><strong>Serial collector</strong>:使用一个线程进行处理所有的垃圾回收工作.不存在线程之间的通信,对单处理器的机器最适合,或者在多处理器但是只需要比较少内存的应用例如100M,为一些特定的硬件或者操作系统环境下的默认收集器,可以使用-XX:+UseSerialGC进行指定.</li>
<li><strong>Parallel collector</strong>:也被称为throughput collector,并行的进行minor collection.适用运行在多处理器硬件上需要中到大量内存的应用.与serial collector 一样parallel collector为某些硬件下的默认垃圾回收器,也可以通过-XX:+UseParallelGC进行指定.<ul>
<li>并行压缩是parallel collector并行进行major collection的一种特性,如果没有并行压缩,major collections由一个线程执行,显著限制了可扩展性.如果设置了-XX:+USeParallelGC则默认开启并行压缩.关闭并行压缩可以通过设置-XX:-UseParallelOldGC禁止并行压缩.</li>
</ul>
</li>
<li><strong>Mostly concurrent collector</strong>:适用于响应时间比吞吐量更重要的需要中岛大量内存的应用.可以通过-XX:+UseConcMarkSweepGC启用CMS回收器或者-XX:+UseG1GC启用G1回收器.</li>
</ul>
<h3 id="选择垃圾回收器"><a href="#选择垃圾回收器" class="headerlink" title="选择垃圾回收器"></a>选择垃圾回收器</h3><p>除非系统对暂停时间有要求,首先让VM自动选择一个垃圾回收器,如果需要,调整堆的大小提高性能,如果仍然不能满足需求,参考下面的指引选择一个垃圾回收器</p>
<ul>
<li>如果应用只需要较少的内存100M左右则通过设置-XX:+UseSerialGC使用serial collector</li>
<li>如果应用运行在一个单处理器的硬件上并且对暂停时间(pause time)没有要求,则让VM选择垃圾回收器或者通过-XX:+UseSerialGC选择serial collector.</li>
<li>如果吞吐量是第一优先级,并且对暂停时间没有要求或者暂停1秒或者更长都是可接受的,则让VM选择垃圾回收器或者通过-XX:+UseParallelGC选择parallel collector.</li>
<li>如果响应时间比吞吐量更重要,暂停时间必须少于1秒,则通过-XX:+UseCon从MarkSweepGC或者-XX:+UseG1GC进行设置.</li>
</ul>
<blockquote>
<p>上面的指引只是提供一个选择垃圾回收器的起点,因为性能跟堆的大小,应用程序对象的生命周期,处理器的个数与处理器的速度等相关.<br>如果建议的垃圾回收器满足不了需求,首先通过调整堆的大小看是否满足要求,如果仍然满足不了要求则选择其他垃圾回收器.通过concurrent collector缩小暂停时间,通过parallel collector在多处理器硬件上提高吞吐量.</p>
</blockquote>
<h2 id="并行回收器"><a href="#并行回收器" class="headerlink" title="并行回收器"></a>并行回收器</h2><p>parallel collector也被称为throughput collector与serial collector一样也是一个分代回收器,主要的区别在于,parallel使用多线程进行垃圾回收,默认情况下minor和major回收都是使用多个线程.</p>
<p>如果机器具有N个线程,并且N&gt;8则默认使用N*5/8个线程进行垃圾回收,如果N&lt;8,则使用N个线程进行垃圾回收,使用的线程数也可以通过-XX:ParallelGCThreads=n进行设置.如果只有一个处理器,则parallel collector的性能还没有serial collector好,因为存在其他的开销例如同步,上下文切换.</p>
<p>minor collecion 会把一些对象从年轻代提升到老年代,因为有多个线程执行minor gc,会为每一个线程在老年代分配一定的空间供提升对象使用,可能会导致碎片,降低垃圾回收线程数与提高老年代的大小可以降低碎片的影响.</p>
<h3 id="分代"><a href="#分代" class="headerlink" title="分代"></a>分代</h3><p>Parallel Collector的分代信息如下<br>!(分代信息)[/images/parallel_generation.png]</p>
<h3 id="Ergonomics"><a href="#Ergonomics" class="headerlink" title="Ergonomics"></a>Ergonomics</h3><p>Parallel Collector时在server-class机器下默认的垃圾回收器,可以设置暂停时间,吞吐量,内存大小等配置.</p>
<ul>
<li><strong>最大垃圾回收暂停时间</strong>:通过-XX:MaxGCPauseMillis=n进行设置,默认情况下没有最大暂停时间的目标,当设置了最大暂停时间时,堆栈的大小和其他与垃圾回收相关的参数会进行调整以满足暂停时间小于配置的时间.这些调整可能降低系统的吞吐量,并且这个目标不能总是满足.</li>
<li><strong>吞吐量</strong>:通过垃圾回收的时间与系统时间的相对比进行衡量,通过-XX:GCTimeRatio=n进行设置,垃圾回收时间.默认值为99,也就是是垃圾回收占整个时间的1%.</li>
<li><strong>空间</strong>:空间最大值通过-Xmxn进行设置,当其他目标满足后,垃圾回收器有一个隐藏的降低堆大小的优化.</li>
</ul>
<h3 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h3><ol>
<li>最大垃圾回收暂停时间.</li>
<li>吞吐量.</li>
<li>空间.</li>
</ol>
<blockquote>
<p>首先满足最大暂停时间,再满足吞吐量,只有在前面两个都满足的情况下,才会考虑最少化空间.</p>
</blockquote>
<h3 id="分代大小调整"><a href="#分代大小调整" class="headerlink" title="分代大小调整"></a>分代大小调整</h3><p>每一次垃圾回收时都会更新垃圾回收暂停平均统计数(显示的垃圾回收不会统计例如System.gc()).如根据这些统计数来决定是否需要更新分代的大小.</p>
<p>增大和缩小是按不同的比例进行的,默认情况下增大时的比例为20%,缩小时的比例为5%.年轻代增加的参数通过-XX:YoungGenerationSizeIncrement=N设置,老年代增加的参数通过-XX:TenuredGenerationSizeIncrement=N进行设置.缩小的参数通过=XX:AdaptiveSizeDecrementSize=D进行设置,如果增大的比例为X,则减少的比例为X/D.</p>
<p>如果最大暂停时间满足不了,则会缩小分代大小,如果年轻代和老年代都不能满足暂停时间则先从暂停时间最大的开始缩小.<br>如果吞吐量满足不了,则年轻代和老年代的大小都会增大,增大的比例与每个分代占用的垃圾回收时间有关,例如年轻代回收时间占整个垃圾回收时间的25%,并且年轻代增大的比例设置为20%,则年轻代会增大5%.</p>
<h2 id="垃圾回收器详解"><a href="#垃圾回收器详解" class="headerlink" title="垃圾回收器详解"></a>垃圾回收器详解</h2><h3 id="CMS垃圾回收器"><a href="#CMS垃圾回收器" class="headerlink" title="CMS垃圾回收器"></a>CMS垃圾回收器</h3><p>CMS垃圾回收器设计为减小JVM的停顿时间.(在两个及以上的cpu上才有效果),通过**-XX:+UseConcMarkSweepGC**开启.</p>
<h4 id="并行模式失败"><a href="#并行模式失败" class="headerlink" title="并行模式失败"></a>并行模式失败</h4><p>默认情况下CMS垃圾回收器使用一个或者多个线程与应用程序线程一起运行进行垃圾的回收,如果CMS垃圾回收器回收垃圾的速度达不到使用内存的速度,则应用程序线程会暂停,相当于并行垃圾回收失败.</p>
<h4 id="过多的GC时间与OutOfMemoryError"><a href="#过多的GC时间与OutOfMemoryError" class="headerlink" title="过多的GC时间与OutOfMemoryError"></a>过多的GC时间与OutOfMemoryError</h4><p>如果98%的时间都是花在垃圾回收并且小于2%的内存被回收,则会抛出OutOfMemoryError.防止因为内存过少导致程序基本停止运行.可以通过**-XX:-UseGCOVerheadLimit**禁止.(并行垃圾回收的时间不统计在98%之内)</p>
<h4 id="浮动垃圾-Floating-Garbage"><a href="#浮动垃圾-Floating-Garbage" class="headerlink" title="浮动垃圾(Floating Garbage)"></a>浮动垃圾(Floating Garbage)</h4><p>因为垃圾回收的同时,应用程序还在运行,因此存在一些对象在前面的标记阶段是可达的,但是在回收阶段变成不可达的,因此存在一些对象需要待下次垃圾回收时才会被回收.浮动垃圾的多少与垃圾回收的并行时长和对象引用的变化频率.</p>
<h4 id="暂停阶段-Pauses"><a href="#暂停阶段-Pauses" class="headerlink" title="暂停阶段(Pauses)"></a>暂停阶段(Pauses)</h4><ol>
<li>初始化标记:从roots(例如线程堆栈,静态对象等)或堆(例如年轻代)标记可以到达的对象.</li>
<li>重新标记:在并发标记后,重新标记在并发标记时被应用程序线程更新引用的对象.</li>
</ol>
<h4 id="并行阶段-Concurrent-Phases"><a href="#并行阶段-Concurrent-Phases" class="headerlink" title="并行阶段(Concurrent Phases)"></a>并行阶段(Concurrent Phases)</h4><ol>
<li>并行标记</li>
<li>并行清理</li>
</ol>
<h4 id="开始并行回收"><a href="#开始并行回收" class="headerlink" title="开始并行回收"></a>开始并行回收</h4><p>因为在垃圾回收时应用程序还在运行,因此不能等内存用完了才进行垃圾回收,可以通过**-XX:CMSInitiatingOccupancyFraction=<N>**进行设计何时进行垃圾回收.(N可以是0到100的整数表示老年代的比例).</p>
]]></content>
  </entry>
  <entry>
    <title>ShardedJedis分析</title>
    <url>/2016/10/21/2016-10-21-ShardedJedis%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>因redis集群需要扩容,想了解下集群扩容后会有多少请求会请求失败,分析了下客户端连接redis的源代码.</p>
<h2 id="代码分析"><a href="#代码分析" class="headerlink" title="代码分析"></a>代码分析</h2><p>客户端是通过ShardedJedisSentinelPool获取连接进行操作,从构造函数开始看.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ShardedJedisSentinelPool</span><span class="params">(List&lt;String&gt; masters, Set&lt;String&gt; sentinels,</span></span></span><br><span class="line"><span class="function"><span class="params">                                    <span class="keyword">final</span> GenericObjectPoolConfig poolConfig, <span class="keyword">int</span> timeout,</span></span></span><br><span class="line"><span class="function"><span class="params">                                    <span class="keyword">final</span> String password, <span class="keyword">final</span> <span class="keyword">int</span> database)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.poolConfig = poolConfig;</span><br><span class="line">   <span class="keyword">this</span>.timeout = timeout;</span><br><span class="line">   <span class="keyword">this</span>.password = password;</span><br><span class="line">   <span class="keyword">this</span>.database = database;</span><br><span class="line">    <span class="comment">//初始化哨兵信息</span></span><br><span class="line">   List&lt;HostAndPort&gt; masterList = initSentinels(sentinels, masters);</span><br><span class="line">   <span class="comment">//初始化连接池</span></span><br><span class="line">   initPool(masterList);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> List&lt;HostAndPort&gt; <span class="title">initSentinels</span><span class="params">(Set&lt;String&gt; sentinels, <span class="keyword">final</span> List&lt;String&gt; masters)</span></span></span><br></pre></td></tr></table></figure>


<p>initSentinels方法通过哨兵和传入的master名字获取到所有master对应的ip和端口号,供后续初始化连接池使用,同时启动线程MasterListener监听哨兵,一旦有主备切换则会重新初始化连接池.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initPool</span><span class="params">(List&lt;HostAndPort&gt; masters)</span> </span>&#123;</span><br><span class="line">   <span class="comment">//MasterListener也会调用该方法</span></span><br><span class="line">   <span class="keyword">if</span> (!equals(currentHostMasters, masters)) &#123;</span><br><span class="line">       StringBuffer sb = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">       <span class="keyword">for</span> (HostAndPort master : masters) &#123;</span><br><span class="line">           sb.append(master.toString());</span><br><span class="line">           sb.append(<span class="string">&quot; &quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       log.info(<span class="string">&quot;Created ShardedJedisPool to master at [&quot;</span> + sb.toString() + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">       List&lt;JedisShardInfo&gt; shardMasters = makeShardInfoList(masters);</span><br><span class="line">       initPool(poolConfig, <span class="keyword">new</span> ShardedJedisFactory(shardMasters, Hashing.MURMUR_HASH, <span class="keyword">null</span>));</span><br><span class="line">       currentHostMasters = masters;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> List&lt;JedisShardInfo&gt; <span class="title">makeShardInfoList</span><span class="params">(List&lt;HostAndPort&gt; masters)</span> </span>&#123;</span><br><span class="line">   List&lt;JedisShardInfo&gt; shardMasters = <span class="keyword">new</span> ArrayList&lt;JedisShardInfo&gt;();</span><br><span class="line">   <span class="keyword">for</span> (HostAndPort master : masters) &#123;</span><br><span class="line">       JedisShardInfo jedisShardInfo = <span class="keyword">new</span> JedisShardInfo(master.getHost(), master.getPort(), timeout);</span><br><span class="line">       jedisShardInfo.setPassword(password);</span><br><span class="line"></span><br><span class="line">       shardMasters.add(jedisShardInfo);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> shardMasters;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>再通过initPool进行连接池初始化,其中通过master组装为JedisShardInfo(name属性没有值,跟后续虚拟节点的hash有关),然后再看ShardedJedisFactory.makeObject,通过此方法创建实际的连接.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> PooledObject&lt;ShardedJedis&gt; <span class="title">makeObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">       ShardedJedis jedis = <span class="keyword">new</span> ShardedJedis(shards, algo, keyTagPattern);</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> DefaultPooledObject&lt;ShardedJedis&gt;(jedis);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>默认的Hash算法为MurmurHash.其中shards为根据之前master对应的信息主要有IP,端口,密码,超时时间等值.</p>
<p>在ShardedJedis的父类Sharded的构造函数中可以看到最后使用了一致性hash并且通过虚拟节点达到当节点出现故障时数据的均衡分布.Sharded.java片段代码如下:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//默认权重</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEFAULT_WEIGHT = <span class="number">1</span>;</span><br><span class="line"><span class="comment">//虚拟节点与真实节点的对应关系</span></span><br><span class="line"><span class="keyword">private</span> TreeMap&lt;Long, S&gt; nodes;</span><br><span class="line"><span class="comment">//Hash算法</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Hashing algo;</span><br><span class="line"><span class="comment">//真实节点与连接的对应关系</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Map&lt;ShardInfo&lt;R&gt;, R&gt; resources = <span class="keyword">new</span> LinkedHashMap&lt;ShardInfo&lt;R&gt;, R&gt;();</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Sharded</span><span class="params">(List&lt;S&gt; shards, Hashing algo, Pattern tagPattern)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.algo = algo;</span><br><span class="line">    <span class="keyword">this</span>.tagPattern = tagPattern;</span><br><span class="line">    initialize(shards);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initialize</span><span class="params">(List&lt;S&gt; shards)</span> </span>&#123;</span><br><span class="line">    nodes = <span class="keyword">new</span> TreeMap&lt;Long, S&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i != shards.size(); ++i) &#123;</span><br><span class="line">     <span class="keyword">final</span> S shardInfo = shards.get(i);</span><br><span class="line">     <span class="keyword">if</span> (shardInfo.getName() == <span class="keyword">null</span>) <span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">0</span>; n &lt; <span class="number">160</span> * shardInfo.getWeight(); n++) &#123;</span><br><span class="line">       nodes.put(<span class="keyword">this</span>.algo.hash(<span class="string">&quot;SHARD-&quot;</span> + i + <span class="string">&quot;-NODE-&quot;</span> + n), shardInfo);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">else</span> <span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">0</span>; n &lt; <span class="number">160</span> * shardInfo.getWeight(); n++) &#123;</span><br><span class="line">       nodes.put(<span class="keyword">this</span>.algo.hash(shardInfo.getName() + <span class="string">&quot;*&quot;</span> + shardInfo.getWeight() + n), shardInfo);</span><br><span class="line">     &#125;</span><br><span class="line">     resources.put(shardInfo, shardInfo.createResource());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>从initialize方法可以看出,默认情况下(权重为1)每一个物理节点(ShardInfo)会产生160个虚拟节点,同时把虚拟节点的hash值和ShardInfo的对应关系存储在nodes中,同时把ShardInfo和redis的连接对应关系存储在resources中.</p>
<blockquote>
<p>**注意:**如果shardInfo没有指定名称,则物理节点是根据master的顺序进行hash的,后续如果新增节点时需要把新的master放入旧master列表的后端,否则会导致节点混乱.(指定名称可以避免此情况)</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> R <span class="title">getShard</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> resources.get(getShardInfo(key));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> S <span class="title">getShardInfo</span><span class="params">(<span class="keyword">byte</span>[] key)</span> </span>&#123;</span><br><span class="line">    SortedMap&lt;Long, S&gt; tail = nodes.tailMap(algo.hash(key));</span><br><span class="line">    <span class="keyword">if</span> (tail.isEmpty()) &#123;</span><br><span class="line">     <span class="keyword">return</span> nodes.get(nodes.firstKey());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tail.get(tail.firstKey());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从上面的代码可以看出,通过key获取连接时,先根据key找到对应的节点(getShardInfo),默认找到比key对应hash值大的第一个节点,如果没找到则返回节点列表中的第一个,然后再获取对应的连接.</p>
<h2 id="一致性Hash"><a href="#一致性Hash" class="headerlink" title="一致性Hash"></a>一致性Hash</h2><p>从上面的Sharded类可以看出使用了一致性hash,顺便复习下一致性hash.</p>
<p>一致性Hash提出了在动态变化的cache环境中,hash算法应该满足下面4个适应条件:</p>
<ol>
<li>均衡性:希望结果尽可能分布到所有的缓存中.</li>
<li>单调性:当有新的缓冲加入系统时,能保证原有分配的内容被映射到原有的或者新的缓存中,而不是旧的其他缓存中.</li>
<li>分散性:在分布式环境中,终端可能看不到所有的缓存,只能看到一部分,可能导致相同的内容被不同的终端映射到不同的缓存区.好的hash算法应该避免不一致的情况发生.</li>
<li>负载:是从另一个角度看待分散性问题,对于一个特定的缓存区可能被不同的用户映射为不同的内容,该情况也应当避免.</li>
</ol>
<p>一般的hash算法是不满足单调性的,当增加或者减少节点时,导致hash值会发生变化.</p>
<h3 id="hash-回环"><a href="#hash-回环" class="headerlink" title="hash 回环"></a>hash 回环</h3><p>hash值都是固定长度的,可以通过一个回环来表示所有的hash值.在一致性hash中,hash值的长度与节点数无关.<br>如下图所示</p>
<h3 id="映射"><a href="#映射" class="headerlink" title="映射"></a>映射</h3><p>hash的目的是把对象映射到对应的缓存中,一致性hash,会把节点和对象分别映射到回环中对应的hash值节点上,然后再顺时针找到大于等于对象hash值对应的节点.</p>
<blockquote>
<p>添加和删除节点时只会影响到比删除或者新增节点的hash值大的下一个节点.</p>
</blockquote>
<h3 id="虚拟节点"><a href="#虚拟节点" class="headerlink" title="虚拟节点"></a>虚拟节点</h3><p>在使用虚拟节点前,虽然可以满足一单调性,但是平衡性不够好,例如删除节点时,之前映射到被删除节点的对象全部映射到了删除节点的下一个节点,另外新增节点时也只会减轻其中一个节点的压力.</p>
<h2 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h2><ol>
<li>增加节点还是对原有的数据有影响,最好是事先算好节点个数,后续通过调整节点的内存大小达到扩容.涉及到节点需要从机器中进行迁移.</li>
<li>ShardedJedisSentinelPool中创建名称时没有使用master的名字而是使用对应master的顺序,因此新增节点时不能修改原有的顺序.(当有一组主备失败时,会启动失败,在运行过程中有一组失败时还是会往对应的节点发送请求?)</li>
<li>考虑分散性虚拟节点最好是按master的名字进行hash.</li>
</ol>
<h2 id="参考列表"><a href="#参考列表" class="headerlink" title="参考列表:"></a>参考列表:</h2><p><a href="http://baike.baidu.com/link?url=xbnm_MpCnN5pnbCsYrJSeXCUp_RWYF2OFo5iAQvs_M4JYuoSGEBcSjmNdCmhji3XfUX8HU9_SQaZc_cl3Ff5MJiez92uwkrqQ5q3P5Wr7mOr4pcyrIS_7Kts2kVl07wi9TQXhNETwepCQs97dAUE4q">一致性Hash</a><br><a href="https://github.com/warmbreeze/sharded-jedis-sentinel-pool/blob/master/src/main/java/redis/clients/jedis/ShardedJedisSentinelPool.java">ShardedJedisSentinelPool.java</a></p>
]]></content>
      <categories>
        <category>redis</category>
      </categories>
  </entry>
  <entry>
    <title>非暴力沟通[读书笔记]</title>
    <url>/2017/05/01/2017-05-01-%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<blockquote>
<p>“你取之于我,<br>是我得到的最好的礼物,<br>当你知道我因施与你而快乐.<br>你明白,<br>我的给予不是让你欠我的人情,<br>而是因为我想活出对你的爱.<br>欣然的接受,<br>或许是最佳的赏赐.<br>我无法将二者分开.<br>当你施与我,<br>我给你我的接纳.<br>当你取之于我,<br>我感激你的赐予.”<br> <sub><sub align=right>–鲁思.贝本梅尔唱片集&lt;&lt;获赠&gt;&gt;</sub></sub></p>
</blockquote>
<p>非暴力沟通提醒我们专注于彼此的观察,感受,需要和请求,鼓励倾听,培育尊重与爱,使我们情意相通,乐于互助.</p>
<p>非暴力沟通的四个要素</p>
<ol>
<li>观察</li>
<li>感受</li>
<li>需要</li>
<li>请求</li>
</ol>
<h3 id="是什么蒙蔽了爱"><a href="#是什么蒙蔽了爱" class="headerlink" title="是什么蒙蔽了爱?"></a>是什么蒙蔽了爱?</h3><p>某些语言和表达方式的负面影响,虽然致力于满足某种愿望,却倾向于忽视人的感受和需要,以致彼此的疏远和伤害.</p>
<h4 id="道德评判"><a href="#道德评判" class="headerlink" title="道德评判"></a>道德评判</h4><p>用道德标准来评判人,如果一个人的行为<em>不符合我们的价值观</em>,那他就被看做是不道德和邪恶的.</p>
<blockquote>
<p>“在道德与不道德的区分之外,有片田野.我将在那里见你”<small>–鲁米</small></p>
</blockquote>
<p>然而语言使我们陷于是非之中,它擅长将人分类,把人看做好人,坏人,正常或者不正常,负责任和不负责任,聪明或愚蠢等等.</p>
<p>一心分析和确定错误的性质,而忽视自己和他人的需要,其实完全由自己的需要进行判断.如果女友想多一些体贴,那她就”太黏人了”,如果我想多一些体贴那她”冷漠得像个木头”.</p>
<h4 id="进行比较"><a href="#进行比较" class="headerlink" title="进行比较"></a>进行比较</h4><p>比较蒙蔽了我们对人对己的爱.</p>
<h4 id="回避责任"><a href="#回避责任" class="headerlink" title="回避责任"></a>回避责任</h4><p>我们对自己的思想,情感和行动负有责任.可是,人们广泛使用**”不得不”**这一个短语来淡化个人的责任.</p>
<p>当我们根据以下理由行动时,我们也就试图回避责任:<br><strong>说不清楚的力量驱使</strong></p>
<blockquote>
<p>为什么打扫房间?<br>因为我不得不做.</p>
</blockquote>
<p><strong>我们的个人情况,成长经历,自我形象等</strong></p>
<blockquote>
<p>为什么喝酒?<br>因为我是个酒鬼.</p>
</blockquote>
<p><strong>其他人的行为</strong><br><strong>上级的命令</strong><br><strong>同伴的压力</strong><br><strong>规章制度与政策</strong><br>…</p>
<h4 id="强人所难"><a href="#强人所难" class="headerlink" title="强人所难"></a>强人所难</h4><p>我们对别人的要求往往暗含着威胁:如果不配合,他们就会受到惩罚.这是强者常用的手段.</p>
<h3 id="区分观察与评论"><a href="#区分观察与评论" class="headerlink" title="区分观察与评论"></a>区分观察与评论</h3><blockquote>
<p>不区分观察和评论,人们倾向于听到批评.<br>不带评论的观察是人类智力的最高形式.<sub>印度哲学家克里希那穆</sub></p>
</blockquote>
<p>非暴力沟通的第一个要素是观察,我们仔细观察正在发生的事情,并清楚的说出观察结果.</p>
<blockquote>
<p>“我从未见过懒惰的；<br>我见过有个人有时在下午睡觉，在雨天不出门，但他不是一个懒惰的人。<br>请在你胡言乱语之前，想一想，他是个懒惰的人，还是他的行为被我们称为“懒惰”？<br>我从未见过愚蠢的孩子；<br>我见过有个孩子有时做的事我不理解，或不按我的吩咐做事情，但他不是一个愚蠢的孩子。<br>请在你说他愚蠢之前，想一想，他是个愚蠢的孩子，还是他懂的事情和你不一样？<br>我使劲看了又看，从早到晚从未看到厨师；<br>我看到有个人把食物调配在一起，打起了火，看着炒菜的炉子——我看到这些但没有看到厨师。<br>告诉我，当你看的时候，你看到的是厨师，还是有个人做的事情被我们称为烹饪？<br>我们说有的人懒惰，另一些人说他们与世无争，<br>我们说有的人愚蠢，另一些人说他学习方法有区别。<br>因此，我得出结论，如果不把事实和意见混为一谈，我们将不再困惑。<br>因为你可能无所谓，我也想说：这只是我的意见。<br><sub>——鲁思.贝本梅尔</sub>”</p>
</blockquote>
<ol>
<li>使用的语言没有体现出评论的人对其评论负有责任.</li>
<li>对他人的思想,情感或愿望的推测当做唯一可能.</li>
<li>缺乏依据.</li>
<li>评价他人能力时,把评论当做事实.</li>
<li>使用形容词和副词,把评论当做事实.</li>
</ol>
<p>观察需要清楚的描述观察结果,而不是进行评论.例如:</p>
<blockquote>
<p>“欧文在过去的5场比赛中没有进一个球”,而不是”欧文是个差劲的前锋”<br>“索菲对我没有什么吸引力”,而不是”苏菲长得很丑”<br>“米奇上周五买书花了一千元”,而不是”米奇花钱大手大脚”</p>
</blockquote>
<h3 id="体会和表达感受"><a href="#体会和表达感受" class="headerlink" title="体会和表达感受"></a>体会和表达感受</h3><p>越是留意自己内心的声音,就越能听到别人的声音.</p>
<h4 id="区分感受和想法"><a href="#区分感受和想法" class="headerlink" title="区分感受和想法"></a>区分感受和想法</h4><blockquote>
<p>我觉得我吉他弹得不好.(想法)<br>作为吉他手,我有些失落/郁闷/烦透了.(感受)</p>
</blockquote>
<h4 id="表达感受的词汇表"><a href="#表达感受的词汇表" class="headerlink" title="表达感受的词汇表"></a>表达感受的词汇表</h4><ol>
<li>得到满足时的感受:兴奋,喜悦,甜蜜,精力充沛…</li>
<li>没有得到满足时的感受:害怕,担心,焦虑,着急,紧张…</li>
</ol>
<h3 id="感受的根源"><a href="#感受的根源" class="headerlink" title="感受的根源"></a>感受的根源</h3><p>别人的行为可能会刺激我们,但并不是我们感受的根源,感受的根源在于自身,是我们的需要和期待以及对他人言行的看法,导致了我们的感受.</p>
<blockquote>
<p>“我(感到)…因为我…”的句式来认识感受与自身的关系.</p>
</blockquote>
<p>听到不中听的话的四种选择:</p>
<ol>
<li>责备自己(内疚,惭愧)</li>
<li>指责他人(恼怒)</li>
<li>体会自己的感受和需要(伤心)</li>
<li>体会别人的感受和需要</li>
</ol>
<p>错误的表达方式:</p>
<ol>
<li>只提及相关的事情.</li>
<li>只提及他人的行为.</li>
<li>指责他人.</li>
</ol>
<table>
<thead>
<tr>
<th>错误</th>
<th>正确</th>
</tr>
</thead>
<tbody><tr>
<td>公司海报出现拼写错误使我很生气</td>
<td>看到公司海报出现拼写错误,我很生气,因为我看重公司形象</td>
</tr>
<tr>
<td>你没有把饭吃完,妈妈很生气</td>
<td>你没有把饭吃完,妈妈感到很失望,因为妈妈希望你能健康成长</td>
</tr>
<tr>
<td>你很生气,因为老板说话不算数</td>
<td>老板说话不算话,我很生气,因为我想有一个长假</td>
</tr>
</tbody></table>
<blockquote>
<p>批评往往暗含着期待,对他人的批评实际上间接表达了我们尚未满足的需要.</p>
</blockquote>
<blockquote>
<p>你们现在需要什么?为了满足这些需要,你们希望对方做什么?</p>
</blockquote>
<p>个人成长的三个经历:</p>
<ol>
<li>情感的奴隶.<ul>
<li>让别人快乐是我们的义务,为他人的情绪负责,牺牲自己迎合他人.</li>
</ul>
</li>
<li>面目可憎.<ul>
<li>说出心里话,但是还需要学着尊重他人的需要.</li>
</ul>
</li>
<li>生活的主人.<ul>
<li>这个阶段,我们乐于助人,我们帮助他人,是出于爱,而不是出于恐惧,内疚或惭愧.</li>
</ul>
</li>
</ol>
<h3 id="请求帮助"><a href="#请求帮助" class="headerlink" title="请求帮助"></a>请求帮助</h3><p>需要清楚地告诉对方，我们希望他们做什么，不要请求他人不做什么，因为对方会感到困惑，不知道我们到底想要什么。</p>
<ol>
<li>明确谈话的目的</li>
<li>请求反馈（通过请求反馈确保对方把握我们的意思,对方表达反馈后需要表达感谢）</li>
</ol>
<h4 id="了解他人的反应"><a href="#了解他人的反应" class="headerlink" title="了解他人的反应"></a>了解他人的反应</h4><p>确认对方明白后，我们关心的内容如下：</p>
<ul>
<li>对方此时此刻的感受</li>
<li>对方正在想什么</li>
<li>对方是否接受我们的感受</li>
</ul>
<h4 id="区分请求与命令"><a href="#区分请求与命令" class="headerlink" title="区分请求与命令"></a>区分请求与命令</h4><p>当人们认为不答应我们就会受到惩罚，他们就会把我们的请求当做命令。对命令的两种选择：<strong>服从或反抗</strong>。</p>
<h3 id="倾听"><a href="#倾听" class="headerlink" title="倾听"></a>倾听</h3><p>如果一个人想要别人了解他的处境，听到的却是安慰和建议，他就有可能觉得不太舒服。</p>
<p>放下已有的想法和判断，一心一意地体会他人，体现出与理解和同情之前的区别。</p>
<ol>
<li>体会感受与需要。</li>
<li>给他人反馈。</li>
<li>保持关注。</li>
<li>表达自己的感受。</li>
</ol>
<blockquote>
<p>”你越是留意自己内心的声音，就越能够听到别人的声音“<small>汉马斯克德</small></p>
</blockquote>
<h3 id="爱自己"><a href="#爱自己" class="headerlink" title="爱自己"></a>爱自己</h3><p>许多人陷于自我憎恨中，而无法从失误中获益。（应该，早知道，不得不，这些命令导致我们的生活失去了乐趣）。</p>
<blockquote>
<p>“感到自责是因为我们的行为不符合我们的需要”<br>“人的行为总是服务于自身的需要及价值观”</p>
</blockquote>
<p>用“选择做”代替“不得不”</p>
<p>“我选择做____是因为我想要____。”从而发现自己行为背后的价值取向。</p>
<h3 id="表达愤怒"><a href="#表达愤怒" class="headerlink" title="表达愤怒"></a>表达愤怒</h3><ol>
<li>生气的原因在于我们自己的想法（对他人的评判和指责）</li>
<li>愤怒驱使我们去惩罚他人，而不是满足需要。（忘掉了初心）</li>
<li>体会自己的感受和需要。</li>
<li>体会他人的感受和需要。</li>
</ol>
<h3 id="强制力"><a href="#强制力" class="headerlink" title="强制力"></a>强制力</h3><p>当你不喜欢他的行为时，请问自己两个问题。</p>
<ul>
<li>我希望他怎么做？</li>
<li>我希望他基于什么原因做我希望他做的事情？</li>
</ul>
<blockquote>
<p>强制力是出于防卫（保卫自己或对方）的目的而不是为了惩罚、羞辱或谴责对方。</p>
</blockquote>
<h3 id="表达感激"><a href="#表达感激" class="headerlink" title="表达感激"></a>表达感激</h3><p>赞扬他人时，很少揭示<strong>内心活动</strong>，而把自己放在了<strong>裁判</strong>的位置。</p>
<p>表达感激的要素如下（不自大也不假谦虚）：</p>
<ul>
<li>对我们有益的行为。（观察）</li>
<li>我们的那些需要得到了满足。</li>
<li>需要得到满足后，我们是什么样的心情。</li>
</ul>
<h4 id="接受感激"><a href="#接受感激" class="headerlink" title="接受感激"></a>接受感激</h4><p>别人表达感激时的两种反应：</p>
<ul>
<li>自我膨胀，相信我们比别人优越。</li>
<li>假谦虚。（容易造成反感）</li>
</ul>
<blockquote>
<p>“不要那么谦虚，因为你没有那么伟大”<small>–哥达.梅厄</small></p>
</blockquote>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>观察，感受，需要，请求是沟通的关键，同时沟通时需要牢记自己沟通的目的，不能因为外界因素而忘记了自己的初心。</p>
<p>多从内心找原因，大多数情况下是因为自己的需求得不到满足而导致愤怒，责备他人。</p>
<p>表达请求时需要具体，不能模棱两可，同时寻找反馈以便对方明白自己的需要，对别人的反馈要表达感激。</p>
<p>感激对方时需要具体，最好能说明是哪些点对自己有帮助，如果别人表达感激也要欣然接受。</p>
]]></content>
      <tags>
        <tag>沟通</tag>
      </tags>
  </entry>
  <entry>
    <title>数据库索引理解</title>
    <url>/2018/08/05/2018-08-05-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95%E7%90%86%E8%A7%A3/</url>
    <content><![CDATA[<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><ol>
<li>块/页:不管是索引还是表都是按页的方式存储,一般一页的大小为4KB或者8KB,不同的RDBMS会有不同的设置.</li>
<li>索引行大小:因为一个页的大小为4K为了在一页中存储更多的索引条数,并且一个索引行必须能在一个页中存储,不能跨页,并且为了节省空间和更好的存储索引的个数,一般都会对索引的行大小有限制.(如果索引行大小为1K则一个页只能存储一行索引,导致浪费空间和索引页的大小变大)</li>
<li>表行大小:一般情况下表的一行数据不跨页存储,减少IO.对BLOB等大字段需要单独存储.</li>
</ol>
<h2 id="SQL处理过程"><a href="#SQL处理过程" class="headerlink" title="SQL处理过程"></a>SQL处理过程</h2><ol>
<li>谓词<br> where子句由一个或者多个谓词(搜索参数)组成.谓词表达式是索引设计的主要入手点.如果索引能够满足所有谓词表达式,优化器可能建立一个高效的访问路径.</li>
<li>优化器及访问路径<br> SQL语句被真正执行之前,优化器必须首先确定如何访问数据.包括:应该使用哪一个索引,索引的访问方式等.</li>
<li>索引片及匹配列<br> 访问路径的成本很大程度上取决于索引片的厚度(谓词表达式确定的值域范围),索引片越厚需要顺序扫描的索引页就越多,需要处理的索引记录也就越多,同时还有因此而增加的对表的同步读操作.</li>
<li>索引过滤及过滤列<br> 索引列不一定会参与索引片的定义,但这些列仍然能够减少回表进行同步读的次数,这些列成为过滤列.(需要注意索引的顺序)<br> 基本规则如下:<br> 1.1 where子句中如果存在一个简单的谓词例如相等.如果有则该列为匹配列,如果没有则后面的索引列都是非匹配列.<br> 1.2 如果谓词为一个范围谓词,那么剩余的索引都是非匹配列.<br> 1.3 最后一个匹配列之后的索引列如果有足够简单的谓词与其对应则为过滤列.</li>
<li>过滤因子<br> 描述了谓词的选择性,满足谓词的记录行数占记录行的比例,依赖于列值的分布情况.(组合谓词的过滤因子可以认为是各自过滤因子的相乘)</li>
</ol>
<h2 id="合适的索引"><a href="#合适的索引" class="headerlink" title="合适的索引"></a>合适的索引</h2><blockquote>
<p>假设:<br>随机读:10ms,顺序读:0.01ms,FETCH:0.1ms</p>
</blockquote>
<h3 id="三星索引"><a href="#三星索引" class="headerlink" title="三星索引"></a>三星索引</h3><ol>
<li>如果与一个查询相关的索引行是相邻的,或者相距足够近的可以标记为第一颗星.最小化了必须扫描的索引片的宽度.</li>
<li>如果索引行的顺序与查询语句的需求一致,可以标记为第二颗星.避免了排序.</li>
<li>如果索引行包含查询语句中的所有列,可以标记为第三颗星.避免了表的访问,仅访问索引即可.</li>
</ol>
<blockquote>
<p>宽索引:是指一个至少满足第三颗星的索引.该索引包含了select语句所涉及的所有列,使得查询只需访问索引而无须访问表.</p>
</blockquote>
<p><strong>有时并不能总满足三星索引的要求,例如同时存在范围查找和排序时,会造成第一颗星和第二颗星的冲突,这时需要进行权衡,选择第二颗星避免排序,选择第一颗星拥有最窄的索引片.(一般排序的速度比较快,可以只在只需要返回少数数据时选择第二颗星)</strong></p>
<p><em>另外建立组合索引时如果顺序不重要可以把变化大的字段放在索引的最后一列,减少索引维护时页的分裂</em></p>
<h2 id="索引设计的依据"><a href="#索引设计的依据" class="headerlink" title="索引设计的依据"></a>索引设计的依据</h2><h3 id="QB-基本问题法"><a href="#QB-基本问题法" class="headerlink" title="QB(基本问题法)"></a>QB(基本问题法)</h3><p>已存在或者计划中的索引是否包含了where子句所有的列(半宽索引)</p>
<h3 id="QUBE-快速上限估算法"><a href="#QUBE-快速上限估算法" class="headerlink" title="QUBE(快速上限估算法)"></a>QUBE(快速上限估算法)</h3><p>通常由以下两个公式确定</p>
<ol>
<li>比较值:LRT=TR * 10ms + TS * 0.01ms</li>
<li>绝对值:LRT=TR * 10ms + TS * 0.01ms + F * 0.1ms</li>
</ol>
<p><em>LRT=本地响应时间</em><br><em>TR=随机访问的数量</em><br><em>TS=顺序访问的数量</em><br><em>F=有效FETCH的数量</em></p>
<h2 id="影响因素"><a href="#影响因素" class="headerlink" title="影响因素"></a>影响因素</h2><h3 id="困难谓词"><a href="#困难谓词" class="headerlink" title="困难谓词"></a>困难谓词</h3><blockquote>
<p>如果一个谓词字段不能参与定义索引片,它无法成为一个匹配谓词,这样对优化器而言太困难了.用户友好型的数据库会提供一个对自己的优化器而言困难谓词列表.(不可索引化)</p>
</blockquote>
<p>除非访问路径是一个多索引扫描,否则只有布尔谓词可以参与定义索引片.</p>
<p>IN谓词可能通过优化变成多个索引片扫描.(oracle的skip range scan)</p>
<p>过滤因子隐患:在以下三个条件同时满足时可能会产生过滤因子隐患</p>
<ol>
<li>访问路径中没有排序</li>
<li>第一屏幕结果一建立就回应.</li>
<li>不是所有的谓词字段都参与定义待扫描的索引片.(不是所有字段都为匹配字段)</li>
</ol>
<h2 id="表连接"><a href="#表连接" class="headerlink" title="表连接"></a>表连接</h2><ol>
<li>嵌套循环<br> 选择可以通过谓词过滤后剩下小部分数据的表当做外层表,并且内层表最好有对应的索引.</li>
<li>合并/hash操作<br> 通过合并扫描出需要连接的表的数据后进行排序或者hash进行连接.</li>
</ol>
]]></content>
      <tags>
        <tag>mysql</tag>
        <tag>index</tag>
      </tags>
  </entry>
  <entry>
    <title>软件需求笔记</title>
    <url>/2018/12/08/2018-12-08-%E8%BD%AF%E4%BB%B6%E9%9C%80%E6%B1%82%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h2 id="软件需求的本质"><a href="#软件需求的本质" class="headerlink" title="软件需求的本质"></a>软件需求的本质</h2><blockquote>
<p>软件需求有三种不同的层次:业务需求、用户需求和功能需求。同时每个系统都包含某种类别的非功能需求。<br>功能需求说的是产品在特定条件下所展示出来的行为，主要描述开发人员需要实现的功能以便用户能够完成自己的任务（用户需求），进而满足业务需求。</p>
</blockquote>
<h3 id="需求的开发和管理"><a href="#需求的开发和管理" class="headerlink" title="需求的开发和管理"></a>需求的开发和管理</h3><h4 id="需求的开发"><a href="#需求的开发" class="headerlink" title="需求的开发"></a>需求的开发</h4><ol>
<li>获取（通过访谈、研讨会、文档分析、原型等获取需求。）</li>
<li>分析（深入并准确理解每个需求，将需求以不同的方式表达出来。）</li>
<li>规范说明（以一种连贯并结构清晰的方式表达和存储收集到的需求知识。）</li>
<li>验证（确认需求信息是否正确，使开发人员制定出满足业务目标的解决方案。）</li>
</ol>
<blockquote>
<p>通过与用户沟通获取需求，获取分析的需求形成文档，最后需要验证分析的内容是否正确，以便开发人员进行制定解决方案。</p>
</blockquote>
<h4 id="需求管理"><a href="#需求管理" class="headerlink" title="需求管理"></a>需求管理</h4><blockquote>
<p>需求管理的目标不是抑制变更或加大其难度，而是为了预测和协调不可避免且实际存在的变更，最终最小化变更对项目的破坏性影响。</p>
</blockquote>
]]></content>
  </entry>
  <entry>
    <title>处理器体系结构</title>
    <url>/2019/02/03/2019-02-03-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F-%E5%A4%84%E7%90%86%E5%99%A8%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/</url>
    <content><![CDATA[<h1 id="处理器体系结构"><a href="#处理器体系结构" class="headerlink" title="处理器体系结构"></a>处理器体系结构</h1><p>一个处理器支持的指令和指令的字节级编码称为它的<em>指令集体系结构(Instruction-Set Architecutre)</em></p>
<h2 id="Y86-64指令集体系结构"><a href="#Y86-64指令集体系结构" class="headerlink" title="Y86-64指令集体系结构"></a>Y86-64指令集体系结构</h2><p>一个指令集体系结构包括定义各种状态单元,指令集和他们的编码,一组编程规范和异常事件处理.</p>
<h3 id="程序员可见的状态"><a href="#程序员可见的状态" class="headerlink" title="程序员可见的状态"></a>程序员可见的状态</h3><p>Y86-64程序中的每条指令会读取或修改处理器状态的某些部分.这称为<em>程序可见</em>状态.</p>
<ul>
<li>寄存器: Y86-64的状态有15个寄存器,%rax,%rcx,%rdx,%rbx,%rsp,%rbp,%rsi,%rdi和%r8到%r14.寄存器%rsp被入栈,出栈调用和返回指令作为栈指针.</li>
<li>条件码: Y86-64有3个一位的条件码,ZF,SF,OF保存着最近的算术或逻辑指令所造成影响的有关信息.</li>
<li>程序计数器: PC存放当前正在执行指令的地址.</li>
<li>内存: 从概念上来说就是一个很大的字节数组,保存着程序和数据.Y86-64程序用虚拟地址来引用内存位置.硬件和操作系统软件联合起来将<em>虚拟地址</em>翻译成实际或物理地址,指明数据实际存在内存中哪个地方.</li>
<li>状态码stat,表明程序执行的总体状态.(正常运行还是某种异常)</li>
</ul>
<h3 id="Y86-64指令"><a href="#Y86-64指令" class="headerlink" title="Y86-64指令"></a>Y86-64指令</h3>]]></content>
      <tags>
        <tag>深入理解计算机系统</tag>
      </tags>
  </entry>
  <entry>
    <title>编译器优化</title>
    <url>/2019/02/12/2019-02-12-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F-%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<h2 id="优化编译器的能力和局限性"><a href="#优化编译器的能力和局限性" class="headerlink" title="优化编译器的能力和局限性"></a>优化编译器的能力和局限性</h2><p>大多数编译器包括GCC向用户提供了一些对它们所使用的优化的控制.例如-Og或者-O1,-O2,-O3.这样可以进一步提高程序的性能,但是也可能增加程序的规模,也可能使标准的调试工具更难对程序进行调试.</p>
<blockquote>
<p>安全的优化:优化后得到的程序和未优化的版本有一样的行为.</p>
</blockquote>
<p>两个指针可能指向同一个内存位置的情况称为<em>内存别名使用</em>这是一个妨碍优化的主要因素,编译器不能确定两个指针是否指向同一个位置,就必须假设什么情况都有可能.</p>
<p>第二个妨碍优化的因素是函数调用,例如以下的两个过程:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">f</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">func1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f() + f() + f() + f();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">func2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">4</span> * f();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果函数f()有副作用(例如修改了全局程序状态的一部分)则改变调用次数会改变程序的行为.</p>
<blockquote>
<p>包含函数调用的代码可以通过内联(inlining)进行优化,将函数调用替换为函数体,这样可以减少函数调用的开销,也允许对展开的代码做进一步优化.</p>
</blockquote>
<h2 id="程序性能的表示"><a href="#程序性能的表示" class="headerlink" title="程序性能的表示"></a>程序性能的表示</h2><p>把*每元素的周期数(Cycles Per Element)*作为一种表示程序性能并指导我们改进代码的方法.</p>
<h2 id="消除循环的低效率"><a href="#消除循环的低效率" class="headerlink" title="消除循环的低效率"></a>消除循环的低效率</h2><p>例如循环中把获取长度的方法移到循环外,避免多次获取长度.</p>
<h2 id="减少过程调用"><a href="#减少过程调用" class="headerlink" title="减少过程调用"></a>减少过程调用</h2><h2 id="消除不必要的内存引用"><a href="#消除不必要的内存引用" class="headerlink" title="消除不必要的内存引用"></a>消除不必要的内存引用</h2><h2 id="理解现代处理器"><a href="#理解现代处理器" class="headerlink" title="理解现代处理器"></a>理解现代处理器</h2>]]></content>
      <tags>
        <tag>深入理解计算机系统</tag>
      </tags>
  </entry>
  <entry>
    <title>现代操作系统笔记-1引论</title>
    <url>/2019/03/17/2019-03-17-%E7%8E%B0%E4%BB%A3%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AC%94%E8%AE%B0-1%E5%BC%95%E8%AE%BA/</url>
    <content><![CDATA[<h3 id="操作系统所处的位置"><a href="#操作系统所处的位置" class="headerlink" title="操作系统所处的位置"></a>操作系统所处的位置</h3><p>如下图所示操作系统处于硬件和用户接口程序之间。（用户接口程序例如shell或者GUI处于用户态程序中的最底层，允许用户允许其他程序）<br><br/><br><img src="/images/os-architecture.svg"></p>
<h3 id="操作系统的理解"><a href="#操作系统的理解" class="headerlink" title="操作系统的理解"></a>操作系统的理解</h3><ul>
<li><strong>硬件的扩展：</strong><br>提供抽象，为应用程序提供良好、清晰、优雅一致的抽象，使应用程序更好地使用硬件。<br><em>抽象是管理复杂性的一个关键</em>包括抽象的定义与实现，以及抽象的使用。通过抽象的定义和实现后，后续通过使用抽象降低复杂性，而不需要关心抽象的实现。</li>
<li><strong>硬件资源管理：</strong><br>为相互竞争的程序之间有序地控制对处理器、存储器以及其他I/O接口设备的分配。主要包括时间和空间上的复用。<br>时间复用：例如通过调度程序使不同的进程获取到CPU运行时间。<br>空间复用：例如把多个程序都加入内存以提高程序的效率（前提是有足够的内存存放多个程序）</li>
</ul>
<h3 id="计算机硬件"><a href="#计算机硬件" class="headerlink" title="计算机硬件"></a>计算机硬件</h3><p>简单计算机的组成如下图：<br><br/><br><img src="/images/os-components.svg"></p>
]]></content>
      <tags>
        <tag>OS</tag>
      </tags>
  </entry>
  <entry>
    <title>Java锁相关笔记</title>
    <url>/2019/04/03/2019-04-03-Java%E9%94%81%E7%9B%B8%E5%85%B3%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h2 id="LockSupport"><a href="#LockSupport" class="headerlink" title="LockSupport"></a>LockSupport</h2><p>LockSupport提供了使线程是否参与调度的方法,并且可以带时间长度的等待。<br>park（）：使线程不参与调度。<br>unpark（Thread thread）：如果线程之前因为park阻塞则会解除线程的阻塞。</p>
<blockquote>
<p>说明：在park之前的多次unpark相当于一次unpark，并且会使下次park立即返回。例如先连续调用两次unpar，接着调用两次park会导致线程阻塞在第二次调用park的地方，第一次park会立即返回。<br>与Object的wait和notify的主要区别：Object的wait和notify需要先持有锁才能进行调用，并且如果先调用notify，再调用wait时会阻塞而不是立即返回，另外wait不支持带超时时间的等待。</p>
</blockquote>
<p>Lock中的Condition也提供await，signal方法。</p>
<blockquote>
<p>Condition支持不响应中断的等待。并且可以支持多个队列（Lock可以new 多个Condition对象）与wait和notify类似先signal后await，await会阻塞。</p>
</blockquote>
<h2 id="Thread"><a href="#Thread" class="headerlink" title="Thread"></a>Thread</h2><p>线程的suspend，resume，stop停用的原因及其替代方案。<br>suspend:会使线程挂起，但是不会释放持有的锁，一直要等到该线程的resume方法被调用后才有可能获取其对应的锁。因此容易导致死锁（如果其他线程需要持有该锁才能调用该线程的resume方法）。</p>
<p>resume:与suspend配套使用，suspend被弃用因此resume方法也没有意义了。</p>
<p>stop:会导致正在运行的线程释放所有的锁并且直接退出，容易造成数据的不一致性。</p>
<p>suspend和resume可以用wait和notify进行替代，因为wait会释放锁因此不会像suspend那样容易造成死锁。也可以使用LockSupport的park和unpark进行线程的阻塞和解除阻塞。</p>
<p>destroy可以通过interrupt或者开关变量来控制使线程安全退出。</p>
]]></content>
      <tags>
        <tag>threads lock</tag>
      </tags>
  </entry>
  <entry>
    <title>Spring基础笔记</title>
    <url>/2019/04/15/2019-04-15-Spring%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<p>##Spring 基础</p>
<h3 id="注解-VS-XML"><a href="#注解-VS-XML" class="headerlink" title="注解 VS XML"></a>注解 VS XML</h3><ol>
<li>Spring支持注解和XML的方式定义bean，会先处理注解的方式，XML的方式会覆盖注解的注入。</li>
<li>XML中的<a href="context:annotation-config/">context:annotation-config/</a>其实会隐式的注入 AutowiredAnnotationBeanPostProcessor,CommonAnnotationBeanPostProcessor,PersistenceAnnotationBeanPostProcessor,RequiredAnnotationBeanPostProcessor. 并且只会从当前容器中查找对应注解的bean。</li>
<li>@Autowired，@Inject，@Value，@Resource是通过BeanPostProcessor实现的，因此不能在自定义的BeanPostProcessor和BeanFactoryPostProcessor中使用，这种情况下需要通过XML或者@Bean进行注入。</li>
</ol>
<h3 id="自定义标签"><a href="#自定义标签" class="headerlink" title="自定义标签"></a>自定义标签</h3><ul>
<li>创建需要扩展的组件。</li>
<li>定义一个XSD文件描述组件内容。</li>
<li>创建一个文件，实现BeanDefinitionParser接口，用来解析XSD文件中的定义和组件定义。</li>
<li>创建一个Handler文件，扩展自NamespaceHandlerSupport，将组件注册到Spring容器。</li>
<li>编写Spring.handlers和Spring.schemas文件。</li>
</ul>
]]></content>
      <tags>
        <tag>SPRING IOC</tag>
      </tags>
  </entry>
  <entry>
    <title>现代操作系统笔记-4文件系统</title>
    <url>/2019/05/01/2019-05-01-%E7%8E%B0%E4%BB%A3%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AC%94%E8%AE%B0-4%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<h1 id="文件系统"><a href="#文件系统" class="headerlink" title="文件系统"></a>文件系统</h1><p>长期存储信息的三个基本要求：</p>
<ol>
<li>能够存储大量信息。</li>
<li>使用信息的进程终止时，信息仍旧存在。</li>
<li>必须能使多个进程并发访问有关信息。</li>
</ol>
<h2 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h2><h3 id="文件命名"><a href="#文件命名" class="headerlink" title="文件命名"></a>文件命名</h3><p>许多操作系统支持文件名用圆点隔开分为两部分，圆点后面的部分称为<em>文件扩展名</em>，扩展名通常表示文件的一些信息。</p>
<h3 id="文件结构"><a href="#文件结构" class="headerlink" title="文件结构"></a>文件结构</h3><ol>
<li>无结构的字节序列</li>
<li>记录序列</li>
<li>树</li>
</ol>
<p>把文件看成字节序列为操作系统提供了最大的灵活性，用户程序可以向文件中加入任何内容，并以任何方便的形式命名。</p>
<h3 id="文件类型"><a href="#文件类型" class="headerlink" title="文件类型"></a>文件类型</h3><p>UNIX和Windows中都有普通文件和目录，UNIX还有字特殊文件和块特殊文件。普通文件是包含有用户信息的文件，目录是管理文件系统结构的系统文件。</p>
<p>普通文件一般分为ASCII文件和二进制文件。（ASCII文件可以显示和打印，通常二进制文件有一定的内部结构，使用该文件的程序才了解这种结构）</p>
<h3 id="文件访问"><a href="#文件访问" class="headerlink" title="文件访问"></a>文件访问</h3><p>早期操作系统只有一种文件访问方式：<em>顺序访问</em>。（存储介质是磁带不是磁盘时，顺序访问时很方便的）</p>
<p>当用磁盘来存储文件时，可以不按顺序地读取文件中的字节或记录称为<em>随机访问文件</em>。</p>
<h3 id="文件属性"><a href="#文件属性" class="headerlink" title="文件属性"></a>文件属性</h3><p>与文件相关的的创建日期，文件大小等信息称为文件的<em>属性</em>或者<em>元数据</em>。</p>
<h3 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h3><p>常用的文件操作如下：</p>
<ul>
<li>create 创建不包含任何数据的文件。并设置文件的一些属性。</li>
<li>delete 删除文件以便释放磁盘空间。</li>
<li>open 打开文件，把文件属性和磁盘地址表装入内存，便于后续调用的快速访问。</li>
<li>close 访问结束后，关闭文件以释放内部表空间。</li>
<li>read 在文件中读取数据。</li>
<li>write 向文件写数据。</li>
<li>append 在文件末尾添加数据。</li>
<li>seek 把当前指针位置指向文件中特定位置。</li>
<li>get attributes 获取文件属性。</li>
<li>set attributes 设置文件属性。</li>
<li>rename 重命名。</li>
</ul>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p>文件系统通常提供目录或文件夹用于记录文件的位置，很多系统中目录本身也是文件。</p>
<h3 id="路径名"><a href="#路径名" class="headerlink" title="路径名"></a>路径名</h3><p>绝对路径：由从根目录到文件的路径组成。<br>相对路径：与工作目录一起使用，相对于当前目录指定。</p>
<h3 id="目录操作"><a href="#目录操作" class="headerlink" title="目录操作"></a>目录操作</h3><ul>
<li>create 创建目录，除了目录下“.“和”..“外，目录内容为空。”.“，”..“为系统自动创建且不能删除。</li>
<li>delete 删除目录，只可以删除空目录。</li>
<li>opendir 打开目录。</li>
<li>closedir 关闭目录。</li>
<li>readdir 返回打开目录的下一个目录项。</li>
<li>rename 重命名。</li>
<li>link 建立从该文件到路径所指名字的链接。（增加文件的i节点的计数<em>硬链接</em>）。</li>
<li>unlink 删除目录项。</li>
</ul>
<blockquote>
<p>符号链接，不同于使用两个文件名指向同一个内部数据结构来代表一个文件，在符号链接中，一个文件名指向命名另一个文件的一个小文件。</p>
</blockquote>
<h2 id="文件系统的实现"><a href="#文件系统的实现" class="headerlink" title="文件系统的实现"></a>文件系统的实现</h2><h3 id="文件系统布局"><a href="#文件系统布局" class="headerlink" title="文件系统布局"></a>文件系统布局</h3><p>文件系统存放在磁盘上，多数磁盘划分为一个或多个分区，每个分区中有一个独立的文件系统。磁盘的0号扇区称为<em>主引导记录（Master Boot Record）</em>用来引导计算机。在MBR的末尾是分区表，分区表给出了每个分区的起始和结束地址。表中的一个分区被标记为活动分区。计算机被引导时，BIOS读入并执行MBR。MBR做的第一件事是确定活动分区，读入它的第一个块（<em>boot block 引导块</em>），并执行。引导块中的程序将加载该分区中的操作系统。每个分区都从一个引导块开始，即使它不含有一个可启动的操作系统。</p>
<p><img src="/images/os-file-system.svg" alt="一个可能的文件系统布局"></p>
<h3 id="文件的实现"><a href="#文件的实现" class="headerlink" title="文件的实现"></a>文件的实现</h3><p>文件存储实现的关键问题是记录各个文件分别用到哪些磁盘块。</p>
<p><strong>1.连续分配</strong><br>最简单的分配方案是把每个文件作为一连串连续数据块存储在磁盘上，在块大小为1KB的磁盘上，50KB的文件需要分配50个连续的块。<br>优点：<br>简单：记录每个文件用到的磁盘块简化为只需要记住第一块磁盘地址和文件的块数即可。<br>读操作性能好：只需要一次寻找（第一个块），之后不需要寻到和旋转延迟。</p>
<p>缺点：<br>磁盘碎片：随着时间的推移，磁盘会变得零碎。（一种方式是通过维护空洞列表，但是这样须要知道文件的最终大小才能进行分配。）</p>
<p><strong>2.链表分配</strong><br>为每个文件构造磁盘块链表，每个块的第一个字作为指向下一个块的指针，块的其他部分存放数据。</p>
<p>缺点：<br>随机访问比较慢，操作系统每次都必须从头开始，并且要先读取前面的n-1块。并且由于指针占用了一些字节，每个磁盘块存储的字节数不再是2的整数次幂。引起读取完整的一个块的大小时需要从两个磁盘块中获取。</p>
<p><strong>3.采用内存中的表进行链表分配</strong><br>如果取出每个磁盘块的指针字，把它们放在内存中的一个表中，可以解决链表的两个不足。内存中的这样一个表格称为<em>文件分配表</em>（File Allocation Table FAT）。与前面的方法相同，不管文件有多大，在目录项中只需要记录一个整数（其实块号），按照它就可以找到文件的全部块。</p>
<p>缺点：<br>必须把整个表都放在内存中，对于一个1TB的磁盘和1KB大小的块，需要10亿项。</p>
<p><strong>4.i节点</strong><br>最后一个记录各个文件分别包含哪些磁盘块的方法是给每个文件赋予一个称为<em>i节点</em>（index-node）的数据结构，其中列出了文件属性和文件块的磁盘地址。</p>
<p>与内存中采用表的方式而言，只有在对应文件打开时，其i节点才在内存中，如果每个i节点占有n个字节，最多k个文件同时打开，那么只需要kn个字节即可。通常比FAT所占据的空间要小，保留所有磁盘块的链表的表大小正比于磁盘自身的大小。</p>
<h3 id="目录的实现"><a href="#目录的实现" class="headerlink" title="目录的实现"></a>目录的实现</h3><p>目录系统的主要功能是把ASCII文件名映射成定位文件数据所需的信息。</p>
<ol>
<li>简单目录：包含固定大小的目录项，在目录项中有磁盘地址和属性。</li>
<li>i节点引用目录：把文件属性存放在i节点，每个目录项只引用i节点的目录。</li>
</ol>
<p>文件名长度处理，最简单方法是给予文件名一个长度限制，例如255，这样处理很简单，但是浪费了大量的目录空间，因为只有很少的文件会有如此长的名字。</p>
<p>处理长文件名的两种方式如下：<br><img src="/images/%E9%95%BF%E6%96%87%E4%BB%B6%E5%90%8D%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F.jpg" alt="长文件名的两种方式，行中或者堆中"></p>
<p>行中的缺点是，当移走文件后，就引入了一个长度可变的空隙，而下一个进来的文件不一定证号适合这个空隙，另一个问题是一个目录项可能会分布在多个页面上，在读取文件名时产生缺页中断。</p>
<h3 id="共享文件"><a href="#共享文件" class="headerlink" title="共享文件"></a>共享文件</h3><ol>
<li>通过符号链接进行共享，符号链接记录了链接的文件的名字。操作系统通过文件类型知道需要去读所链接的文件。</li>
<li>i节点，目录中增加对应的i节点，存在文件删除时，导致无效的i节点。</li>
</ol>
<h3 id="日志结构的文件系统"><a href="#日志结构的文件系统" class="headerlink" title="日志结构的文件系统"></a>日志结构的文件系统</h3><h3 id="日志文件系统"><a href="#日志文件系统" class="headerlink" title="日志文件系统"></a>日志文件系统</h3><p>考虑移除文件，一般需要三个步骤：</p>
<ol>
<li>在目录中删除文件；</li>
<li>释放i节点到空闲i节点池；</li>
<li>将多有磁盘块归还空闲磁盘块池；</li>
</ol>
<p>日志文件系统先写一个日志项，列出三个将要完成的动作，然后日志项被写入磁盘。只有当日志项已经被写入，不同的操作才可以进行。</p>
<h3 id="虚拟文件系统"><a href="#虚拟文件系统" class="headerlink" title="虚拟文件系统"></a>虚拟文件系统</h3><p>即使在同一台计算机上或者同一个操作系统下，都会有很多不同的文件系统。绝大多数unix操作系统都使用*虚拟文件系统（Virtual File System）概念尝试将多中文件系统统一成一个有序的结构。</p>
<h2 id="文件系统管理和优化"><a href="#文件系统管理和优化" class="headerlink" title="文件系统管理和优化"></a>文件系统管理和优化</h2><h3 id="磁盘空间管理"><a href="#磁盘空间管理" class="headerlink" title="磁盘空间管理"></a>磁盘空间管理</h3><ol>
<li>块大小</li>
<li>记录空闲块<ul>
<li>链表</li>
<li>位图</li>
</ul>
</li>
<li>磁盘配额<br>多用户操作系统中需要控制每一个用户能使用的配额，避免一个用户独占使用了所有磁盘的问题。</li>
<li>文件系统备份<ul>
<li>物理备份：简单，速度快，但是不能调过指定目录，无法增量转储，需要磁盘控制器对坏块有支持。（重新映射或者不转储）</li>
<li>逻辑备份：可以增量备份，需要处理链接和空洞的问题。</li>
</ul>
</li>
</ol>
<h3 id="文件系统的一致性"><a href="#文件系统的一致性" class="headerlink" title="文件系统的一致性"></a>文件系统的一致性</h3><h3 id="文件系统性能"><a href="#文件系统性能" class="headerlink" title="文件系统性能"></a>文件系统性能</h3>]]></content>
      <tags>
        <tag>OS</tag>
      </tags>
  </entry>
  <entry>
    <title>Java与模式-3软件的可维护性与可复用性</title>
    <url>/2019/08/18/2019-08-18-Java%E4%B8%8E%E6%A8%A1%E5%BC%8F-3%E8%BD%AF%E4%BB%B6%E7%9A%84%E5%8F%AF%E7%BB%B4%E6%8A%A4%E6%80%A7%E4%B8%8E%E5%8F%AF%E5%A4%8D%E7%94%A8%E6%80%A7/</url>
    <content><![CDATA[<h2 id="软件系统的可维护性"><a href="#软件系统的可维护性" class="headerlink" title="软件系统的可维护性"></a>软件系统的可维护性</h2><h3 id="系统“腐烂”的真正原因"><a href="#系统“腐烂”的真正原因" class="headerlink" title="系统“腐烂”的真正原因"></a>系统“腐烂”的真正原因</h3><ul>
<li>过于僵硬<br>  很难在系统中加入一个新的特性，因为新的特性会涉及到许多其他模块的改动。（不容易新增特性）</li>
<li>过于脆弱<br>  与过于僵硬同时存在，对一个地方的修改，往往导致看上去没有什么关系的另一个地方发生故障，造成系统一碰就会碎。（不容易对现有功能的修改）</li>
<li>复用率低<br>  代码依赖一大堆其他东西，导致很难将其复用，导致多处出现源代码剪贴的问题。（耦合性过高导致不容易复用）</li>
<li>黏度过高<br>  保持原始设计意图和原始设计框架的方式进行修改时比破坏意图的修改困难很多，导致因短期利益的原因破坏了设计意图。（走捷径导致设计意图被破坏）</li>
</ul>
<h3 id="设计的目标"><a href="#设计的目标" class="headerlink" title="设计的目标"></a>设计的目标</h3><ul>
<li>可扩展性<br>  新的功能可以容易地加入系统中.</li>
<li>灵活性<br>  允许代码修改平稳地发生，不会涉及到很多其他的模块。</li>
<li>可插入性<br>  可以很容易地将一个类抽出去，同时将另一个有同样接口的类加入进来。</li>
</ul>
<h2 id="系统的可复用性"><a href="#系统的可复用性" class="headerlink" title="系统的可复用性"></a>系统的可复用性</h2><h3 id="复用的重要性"><a href="#复用的重要性" class="headerlink" title="复用的重要性"></a>复用的重要性</h3><ul>
<li>较高的生产效率。（可以为将来构建新的项目节省时间）</li>
<li>较高的软件质量。（因为构件是已经经过测试的，并且复用率越高越容易发现缺陷，以及缺陷被彻底排除）</li>
<li>恰当使用可以改善系统的可维护性。（复用抽象）</li>
</ul>
<h2 id="设计原则"><a href="#设计原则" class="headerlink" title="设计原则"></a>设计原则</h2><p><img src="%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99"></p>
]]></content>
  </entry>
  <entry>
    <title>Java与模式-创建模式</title>
    <url>/2019/09/22/2019-09-22-Java%E4%B8%8E%E6%A8%A1%E5%BC%8F-%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%BC%8F/</url>
    <content><![CDATA[<h1 id="创建模式"><a href="#创建模式" class="headerlink" title="创建模式"></a>创建模式</h1><blockquote>
<p>创建模式是对类的实例化过程的抽象化。</p>
</blockquote>
<ul>
<li>类的创建模式：把类的创建延迟到子类，从而封装了客户端将得到哪些具体类的信息，并且隐藏了这些类的实例是如何被创建和放在一起的。</li>
<li>对象的创建模式：把对象的创建过程动态地委派给另一个对象，从而动态地决定客户端将得到哪些具体类的实例，以及这些类的实例是如何被创建和组合在一起的。</li>
</ul>
<h2 id="简单工厂模式（Simple-Factory"><a href="#简单工厂模式（Simple-Factory" class="headerlink" title="简单工厂模式（Simple Factory)"></a>简单工厂模式（Simple Factory)</h2><blockquote>
<p>简单工厂模式是类的创建模式，又叫做静态工厂方法模式，由一个工厂对象决定创建出哪一种产品类的实例。</p>
</blockquote>
<p><strong>优点：</strong><br>简单，一个工厂类处理所有产品的实例化，客户端相对独立于产品创建过程，一定程度上支持开闭原则。<br><strong>缺点：</strong><br>针对抽象产品有多个时不能很好地处理，并且只要有新的具体产品就需要修改工厂类。</p>
<p><strong>类图</strong><br><img src="/images/%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82.png" alt="简单工厂"></p>
<h2 id="工厂方法模式（Factory-Method）"><a href="#工厂方法模式（Factory-Method）" class="headerlink" title="工厂方法模式（Factory Method）"></a>工厂方法模式（Factory Method）</h2><blockquote>
<p>工厂方法模式是类的创建模式，定义一个创建产品对象的工厂接口，将实际创建工作推迟到子类中。</p>
</blockquote>
]]></content>
  </entry>
  <entry>
    <title>Spring笔记汇总</title>
    <url>/2019/12/15/2019-12-15-Spring%E7%AC%94%E8%AE%B0%E6%B1%87%E6%80%BB/</url>
    <content><![CDATA[<h1 id="Spring-bean生命周期"><a href="#Spring-bean生命周期" class="headerlink" title="Spring bean生命周期"></a>Spring bean生命周期</h1><p>在Spring容器中bean是通过BeanDefinition表示的.其中描述了bean定义的各种属性,例如是不是抽象的,是否具有factory-method等.</p>
<h3 id="Bean的实例化"><a href="#Bean的实例化" class="headerlink" title="Bean的实例化"></a>Bean的实例化</h3><ol>
<li><p>通过构造函数创建实例,例如通过xml文件中配置<code>&lt;bean id=&quot;clientService&quot; class=&quot;example.ClientService/&gt;.</code></p>
</li>
<li><p>通过静态工厂方法创建实例,例如通过xml中的<code>&lt;bean id=&quot;clientService&quot; factory-method=&#39;createInstance&#39; class=&quot;example.ClientService&quot;/&gt;</code>则通过example.ClientService.createInstance静态方法创建example.ClientService.</p>
</li>
<li><p>通过实例的工厂方法创建实例,<code>&lt;bean id=&quot;clientService&quot; factory-bean=&quot;serviceLocator&quot; factory-method=&quot;createInstance&quot;&gt;</code>其中serviceLocator为定义的另外一个bean的名字,通过serviceLocator.createInstance方法创建clientService实例.</p>
</li>
</ol>
<h3 id="依赖注入的方式"><a href="#依赖注入的方式" class="headerlink" title="依赖注入的方式"></a>依赖注入的方式</h3><ol>
<li>构造函数注入。</li>
<li>setter注入。</li>
<li>方法注入。<br> 3.1 lookup method injection。<br> <code>&lt;public|protected&gt; [abstract] &lt;return-type&gt; theMethodName(no-arguments);</code>被注入的方法必须满足上面的声明格式。(相当于一个模板方法)<br> 3.2 method replacement。<br> 通过实现MethodReplacer接口，提供一个新的方法替换原来的方法。</li>
</ol>
<blockquote>
<p>方法注入是通过代理实现，优先考虑构造函数注入，可以保证对象实例化后其属性是已经赋值了的。</p>
</blockquote>
<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><p>single：默认是single类型，容器中只有一个实例，并且由容器管理生命周期。<br>prototype：每次从容器中获取时都会实例化一个新的对象。<br><em>request,session,application,websocket</em>：需要在web环境下才能使用。</p>
<blockquote>
<p>注意：</p>
<ol>
<li>prototype的对象，其初始化回调方法会执行，但是对应的销毁回调方法不会执行，因此对一个作用域为prototype的对象，定义销毁方法没意义。</li>
<li>如果需要把作用域为prototype的对象注入到作用域为single的对象，需要使用lookup method injection。或者<code>@Scope(value=&quot;prototype&quot;,proxyMode=ScopedProxyMode.TARGET_CLASS)或者增加&lt;aop:scoped-proxy/&gt;&lt;bean id=&quot;userPreferences&quot; class=&quot;com.something.UserPreferences&quot; scope=&quot;session&quot;&gt;&lt;aop:scoped-proxy/&gt;&lt;/bean&gt;</code></li>
</ol>
</blockquote>
<h3 id="bean的生命周期"><a href="#bean的生命周期" class="headerlink" title="bean的生命周期"></a>bean的生命周期</h3><ul>
<li>初始化回调方法<ul>
<li>@PostConstructor。（通过BeanPostProcessor实现）</li>
<li>实现InitializingBean。（afterPropertiesSet方法）</li>
<li>手工配置init method或者default init method。</li>
</ul>
</li>
<li>销毁回调方法<ul>
<li>@PreDestroy。（通过BeanPostProcessor实现）</li>
<li>实现DisposableBean。（destroy方法）</li>
<li>手工配置destroy method或者default destroy method。</li>
</ul>
</li>
</ul>
<blockquote>
<p>如果同一个方法多次配置也只会执行一次，另外需要注意作用域为prototype的实例，对应的销毁回调方法不会执行。（<em>AOP的实现是通过BeanPostProcessor的postProcessAfterInitailization实现，因此回调方法不会被拦截</em>）</p>
</blockquote>
<ul>
<li><p>启动和关闭回调方法（容器收到启动或者关闭方法时执行）<br>由实现LifecycleProcessor的类具体实现（DefaultLifecycleProcessor）。</p>
</li>
<li><p>容器关闭的回调方法<br>通过ctx.registerShutdownHook()实现。</p>
</li>
</ul>
<h3 id="Spring容器的扩展点"><a href="#Spring容器的扩展点" class="headerlink" title="Spring容器的扩展点"></a>Spring容器的扩展点</h3><ul>
<li>通过BeanPostProcessor自定义bean.</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">该接口中的方法在bean实例化之后执行</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BeanPostProcessor</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    该方法在bean的任何初始化方法之前执行,例如InitializingBean的afterPropertiesSet,自定义的init-method,但是在其bean对应的属性已经赋值之后(例如setter注入的属性)</span></span><br><span class="line"><span class="comment">    可以返回目标实例的包装实例.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> Object <span class="title">postProcessBeforeInitialization</span><span class="params">(Object bean, String beanName)</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line">    	<span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    该方法在初始化方法执行后执行,例如InitializingBean的afterPropertiesSet和自定义的init-method后</span></span><br><span class="line"><span class="comment">    该方法在postProcessBeforeInstantiation方法返回了值的时候也会执行(触发了短路),但是postProcessBeforeInitialization不会执行.</span></span><br><span class="line"><span class="comment">    可以返回目标实例的包装实例.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> Object <span class="title">postProcessAfterInitialization</span><span class="params">(Object bean, String beanName)</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line">    	<span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">InstantiationAwareBeanPostProcessor</span> <span class="keyword">extends</span> <span class="title">BeanPostProcessor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    该方法在对象实例化之前调用,这个时候目标对象还未实例化,可以通过这个返回值来代替原本该生成的目标对象的实例.如果返回了不为null的对象,则后续只有postProcessAfterInitialization方法会调用.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> Object <span class="title">postProcessBeforeInstantiation</span><span class="params">(Class&lt;?&gt; beanClass, String beanName)</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line">    	<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    该方法在目标对象实例化后调用,但是该实例的属性没有设置,该方法的返回值决定要不要调用postProcessPropertyValues方法.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">boolean</span> <span class="title">postProcessAfterInstantiation</span><span class="params">(Object bean, String beanName)</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line">    	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    该方法可以对属性值进行修改或者验证是否必填的属性是否有值.(该方法在属性注入之前调用)</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="meta">@Nullable</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> PropertyValues <span class="title">postProcessPropertyValues</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">    		PropertyValues pvs, PropertyDescriptor[] pds, Object bean, String beanName)</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line">    </span><br><span class="line">    	<span class="keyword">return</span> pvs;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>以上两个接口分别代表了bean的初始化和实例化两个阶段可以进行扩展的地方。（只会对本容器的bean产生作用，并且对本身不会起作用）</p>
</blockquote>
<ul>
<li>通过BeanFactoryPostProcessor自定义bean的元数据,即通过修改BeanDefinition的内容进行bean的自定义.</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BeanFactoryPostProcessor</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">postProcessBeanFactory</span><span class="params">(ConfigurableListableBeanFactory beanFactory)</span> <span class="keyword">throws</span> BeansException</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>通过FactoryBean自定义初始化逻辑<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">FactoryBean</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">T <span class="title">getObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>;</span><br><span class="line">    Class&lt;?&gt; getObjectType();</span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">boolean</span> <span class="title">isSingleton</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">true</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
通过FactoryBean可以自定义bean的生成.</li>
</ul>
<h3 id="注解相关的配置"><a href="#注解相关的配置" class="headerlink" title="注解相关的配置"></a>注解相关的配置</h3><blockquote>
<p>@Autowired,@Inject,@Value,@Resource注解都是通过BeanPostProcessor实现的，因此不能在BeanPostProcessor和BeanFactoryPostProcessor中通过这些注解进行注入，必须通过XML文件或者@Bean进行注入。</p>
</blockquote>
<p>可以通过@Primary设置根据type注入时的优先级。还可以通过@Qualifier指定对应的名字。</p>
<p>@Autowired默认使用byType注入，当找到多个时使用byName注入，默认是required。@Resource默认使用byName注入，后使用byType注入。</p>
<p>自动注入的方式：none,byName,byType,constructor,autodetect(先构造函数再byType)</p>
<h3 id="BeanNameAutoProxyCreator详解"><a href="#BeanNameAutoProxyCreator详解" class="headerlink" title="BeanNameAutoProxyCreator详解"></a>BeanNameAutoProxyCreator详解</h3><p>通过beanNames属性指定需要代理的bean的名字,通过interceptorNames指定代理对应的intercepts.主要方法的实现在AbstractAutoProxyCreator类中.</p>
<ul>
<li><p>postProcessBeforeInstantiation通过判断是否具有自定义的TargetSource如果有则通过为自定义的targetSource创建一个代理,并返回.(BeanPostProcessor的初始化相关的方法不会执行,只会执行postProcessBeforeInitialization方法)</p>
</li>
<li><p>postProcessAfterInitialization中通过warpIfNecessary进行代理类的创建.通过获取与该bean相关的advice和advisor,通过ProxyFactory最终创建对应的代理类.</p>
<blockquote>
<p>wrapIfNecessary中通过getAdvicesAndAdvisorsForBean的反回值判断是否需要创建代理类,该方法返回匹配对应bean的advice和advisor.</p>
</blockquote>
</li>
</ul>
<h3 id="annotation-driven详解"><a href="#annotation-driven详解" class="headerlink" title="annotation-driven详解"></a>annotation-driven详解</h3><p>由TxNamespaceHandler中init方法的<code>registerBeanDefinitionParser(&quot;annotation-driven&quot;, new AnnotationDrivenBeanDefinitionParser());</code>可知,主要由AnnotationDrivenBeanDefinitionParser进行注解的解释.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> BeanDefinition <span class="title">parse</span><span class="params">(Element element, ParserContext parserContext)</span> </span>&#123;</span><br><span class="line">	registerTransactionalEventListenerFactory(parserContext);</span><br><span class="line">	String mode = element.getAttribute(<span class="string">&quot;mode&quot;</span>);</span><br><span class="line">	<span class="keyword">if</span> (<span class="string">&quot;aspectj&quot;</span>.equals(mode)) &#123;</span><br><span class="line">		<span class="comment">// mode=&quot;aspectj&quot;</span></span><br><span class="line">		registerTransactionAspect(element, parserContext);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="comment">// mode=&quot;proxy&quot;</span></span><br><span class="line">		AopAutoProxyConfigurer.configureAutoProxyCreator(element, parserContext);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>由上面的方法可知,根据mode的不同是通过aspectj还是proxy实现AOP.以proxy的方式为例:</p>
<ul>
<li>注册一个InfrastructureAdvisorAutoProxyCreator.</li>
<li>创建TransactionAttributeSource定义.(AnnotationTransactionAttributeSource通过注解判断是否满足要求)</li>
<li>创建TransactionInterceptor定义.</li>
<li>创建TransactionAttributeSourceAdvisor定义.</li>
</ul>
<h3 id="Spring事物管理"><a href="#Spring事物管理" class="headerlink" title="Spring事物管理"></a>Spring事物管理</h3><p>从上面的内容可知声明式事物的时候会创建TransactionInterceptor,其实是一个是surround advice.可以在方法执行前后进行处理,例如开始事物,方法执行后,根据方法执行的情况进行事物的提交或者回滚.具体代码如下:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> Object <span class="title">invokeWithinTransaction</span><span class="params">(Method method, <span class="meta">@Nullable</span> Class&lt;?&gt; targetClass,</span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="keyword">final</span> InvocationCallback invocation)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        </span><br><span class="line">    <span class="comment">// If the transaction attribute is null, the method is non-transactional.</span></span><br><span class="line">    TransactionAttributeSource tas = getTransactionAttributeSource();</span><br><span class="line">    <span class="keyword">final</span> TransactionAttribute txAttr = (tas != <span class="keyword">null</span> ? tas.getTransactionAttribute(method, targetClass) : <span class="keyword">null</span>);</span><br><span class="line">    <span class="keyword">final</span> PlatformTransactionManager tm = determineTransactionManager(txAttr);</span><br><span class="line">    <span class="keyword">final</span> String joinpointIdentification = methodIdentification(method, targetClass, txAttr);</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">if</span> (txAttr == <span class="keyword">null</span> || !(tm <span class="keyword">instanceof</span> CallbackPreferringPlatformTransactionManager)) &#123;</span><br><span class="line">    <span class="comment">// Standard transaction demarcation with getTransaction and commit/rollback calls.</span></span><br><span class="line">    TransactionInfo txInfo = createTransactionIfNecessary(tm, txAttr, joinpointIdentification);</span><br><span class="line">    Object retVal = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">    	<span class="comment">// This is an around advice: Invoke the next interceptor in the chain.</span></span><br><span class="line">    	<span class="comment">// This will normally result in a target object being invoked.</span></span><br><span class="line">    	retVal = invocation.proceedWithInvocation();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Throwable ex) &#123;</span><br><span class="line">    	<span class="comment">// target invocation exception</span></span><br><span class="line">    	completeTransactionAfterThrowing(txInfo, ex);</span><br><span class="line">    	<span class="keyword">throw</span> ex;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">finally</span> &#123;</span><br><span class="line">    	cleanupTransactionInfo(txInfo);</span><br><span class="line">    &#125;</span><br><span class="line">    commitTransactionAfterReturning(txInfo);</span><br><span class="line">    <span class="keyword">return</span> retVal;</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> ThrowableHolder throwableHolder = <span class="keyword">new</span> ThrowableHolder();</span><br><span class="line">        </span><br><span class="line">    <span class="comment">// It&#x27;s a CallbackPreferringPlatformTransactionManager: pass a TransactionCallback in.</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">    	Object result = ((CallbackPreferringPlatformTransactionManager) tm).execute(txAttr, status -&gt; &#123;</span><br><span class="line">    	TransactionInfo txInfo = prepareTransactionInfo(tm, txAttr, joinpointIdentification, status);</span><br><span class="line">    	<span class="keyword">try</span> &#123;</span><br><span class="line">    		<span class="keyword">return</span> invocation.proceedWithInvocation();</span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="keyword">catch</span> (Throwable ex) &#123;</span><br><span class="line">            <span class="keyword">if</span> (txAttr.rollbackOn(ex)) &#123;</span><br><span class="line">            	<span class="comment">// A RuntimeException: will lead to a rollback.</span></span><br><span class="line">            	<span class="keyword">if</span> (ex <span class="keyword">instanceof</span> RuntimeException) &#123;</span><br><span class="line">            		<span class="keyword">throw</span> (RuntimeException) ex;</span><br><span class="line">            	&#125;</span><br><span class="line">            	<span class="keyword">else</span> &#123;</span><br><span class="line">            		<span class="keyword">throw</span> <span class="keyword">new</span> ThrowableHolderException(ex);</span><br><span class="line">            	&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">            	<span class="comment">// A normal return value: will lead to a commit.</span></span><br><span class="line">            	throwableHolder.throwable = ex;</span><br><span class="line">            	<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="keyword">finally</span> &#123;</span><br><span class="line">    		cleanupTransactionInfo(txInfo);</span><br><span class="line">    	&#125;</span><br><span class="line">    	&#125;);</span><br><span class="line">        </span><br><span class="line">    	<span class="comment">// Check result state: It might indicate a Throwable to rethrow.</span></span><br><span class="line">    	<span class="keyword">if</span> (throwableHolder.throwable != <span class="keyword">null</span>) &#123;</span><br><span class="line">    		<span class="keyword">throw</span> throwableHolder.throwable;</span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="keyword">return</span> result;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ThrowableHolderException ex) &#123;</span><br><span class="line">    	<span class="keyword">throw</span> ex.getCause();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (TransactionSystemException ex2) &#123;</span><br><span class="line">    	<span class="keyword">if</span> (throwableHolder.throwable != <span class="keyword">null</span>) &#123;</span><br><span class="line">    		logger.error(<span class="string">&quot;Application exception overridden by commit exception&quot;</span>, throwableHolder.throwable);</span><br><span class="line">    		ex2.initApplicationException(throwableHolder.throwable);</span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="keyword">throw</span> ex2;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Throwable ex2) &#123;</span><br><span class="line">    	<span class="keyword">if</span> (throwableHolder.throwable != <span class="keyword">null</span>) &#123;</span><br><span class="line">    		logger.error(<span class="string">&quot;Application exception overridden by commit exception&quot;</span>, throwableHolder.throwable);</span><br><span class="line">    	&#125;</span><br><span class="line">        <span class="keyword">throw</span> ex2;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>事物相关对象说明:</p>
<ul>
<li><p>TransactionInfo:用来保存事物相关的信息.例如事物管理器,事物的状态,切入点,事物属性等.</p>
</li>
<li><p>TransactionAttribute:继承TransactionDefinition定义了事物的一些属性,例如传播方式,超时时间,隔离级别等.</p>
</li>
<li><p>TransactionManager:定义了事物处理的方法,通过TransactionDefinition获取TransactionStatus.提交或者回滚TransactionStatus代表的事物.</p>
</li>
<li><p>TransactionStatus:表示事物的状态,例如是否为新的事物,是否有savepoint,是否rollbackOnly,是否完成等.(只有是新事物才会真正的提交,与事物的传播机制有关)</p>
</li>
</ul>
<blockquote>
<p>关于事物管理器的说明：&lt;tx:annotation-driven transaction-manager=”transactionManager”&gt;&lt;/tx:annotation-driven&gt;中的transaction-manager为默认的事物管理器，不指定时其名字默认为”transactionManager”，也可以通过@Transaction(“txMg”)指定事务管理器，如果没有指定则会使用tx:annotation-driven中指定的事物管理器。</p>
</blockquote>
</br>

<blockquote>
<p><strong>注意：</strong>如果方法a定义为需要事物，方法b定义为需要新开启一个事物，如果在方法a中直接调用方法b不会生效，因为在方法a中调用b的对象是真实的对象而不是代理的对象，如果要生效需要把bean配置的expose-proxy属性设置为true，同时通过AopContext.currentProxy()调用b方法。</p>
</blockquote>
<p>事务的传播方式：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>REQUIRED</td>
<td>需要事务，如果没有则新建一个事务</td>
</tr>
<tr>
<td>SUPPORTS</td>
<td>如果之前有事务则在事务中，否则无事务</td>
</tr>
<tr>
<td>MANDATORY</td>
<td>需要在事务中执行，如果之前没有事务则抛出异常</td>
</tr>
<tr>
<td>REQUIRED_NEW</td>
<td>需要开启一个新的事务，如果之前有事务则把之前的事务挂起</td>
</tr>
<tr>
<td>NOT_SUPPORTED</td>
<td>不支持事务，如果之前有事务则把之前的事务挂起</td>
</tr>
<tr>
<td>NEVER</td>
<td>不支持事务，如果有事务抛出异常</td>
</tr>
<tr>
<td>NESTED</td>
<td>如果有事务则作为嵌套事务运行，否则和REQUIRED一样</td>
</tr>
</tbody></table>
<blockquote>
<p>NESTED方式时如果外部事务回滚则NESTED中的内容也会回滚，但是REQUIRED_NEW时不会回滚。</p>
</blockquote>
<h3 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h3><p>@EnableAspectJAutoProxy后可以通过@Aspect进行AOP的设置。</p>
<ol>
<li>@Around 可以修改返回值，控制目标方法是否执行。</li>
<li>@Before 不可以阻止目标方法的执行，除非抛出异常。</li>
<li>@After </li>
<li>@AfterReturning 正常返回时执行与AfterThrowing二选一，可以获得返回值。</li>
<li>@AfterThrowing 抛出异常时执行。</li>
</ol>
<blockquote>
<p>当有多个Advice时通过设置@Order或者实现Order接口确定优先级，值越少优先级越高。优先级高时（Around的前处理）Before会先执行，相反优先级低的（Around的后处理），After，AfterReturning，AfterThrowing会先执行。</p>
</blockquote>
<h3 id="通知"><a href="#通知" class="headerlink" title="通知"></a>通知</h3><table>
<thead>
<tr>
<th>类型</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>ContextRefreshedEvent</td>
<td>refresh方法调用时推送，bean被加载了，前后置处理器已经加载，单例已经实例化，ApplicationContext可以被使用</td>
</tr>
<tr>
<td>ContextStartedEvent</td>
<td>start方法调用时推送，Lifecycle对象会收到start的消息</td>
</tr>
<tr>
<td>ContextStoppedEvent</td>
<td>stop方法调用时推送，Lifecycle对象会收到start的消息</td>
</tr>
<tr>
<td>ContextClosedEvent</td>
<td>close方法调用时推送，此时单例将会被销毁（或许通过jvm的shutdown hook调用）</td>
</tr>
<tr>
<td>RequestHandledEvent</td>
<td>MVC中一个请求被处理完时推送</td>
</tr>
<tr>
<td>ServletRequestHandledEvent</td>
<td>是RequestHandledEvent的一个子类，增加了Servlet相关信息。</td>
</tr>
</tbody></table>
<blockquote>
<p>默认事件是同步执行的，可以通过设置处理器，或者把方法标志位@Async在单独的线程中处理。</p>
</blockquote>
]]></content>
  </entry>
  <entry>
    <title>Spring MVC 笔记</title>
    <url>/2019/12/22/2019-12-22-Spring-MVC-%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<p>DispatcherServlet</p>
]]></content>
  </entry>
  <entry>
    <title>GIT-专题</title>
    <url>/2020/05/21/2020-05-21-GIT-%E4%B8%93%E9%A2%98/</url>
    <content><![CDATA[<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>Git是一个开源的分布式版本控制系统。</p>
<h2 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h2><pre><code>git init &lt;directory&gt; 当前目录初始化git本地仓库
git clone &lt;remote_url&gt; 基于远程仓库克隆至本地

git add -A|&lt;fileName&gt;|&lt;directory&gt; 增加所有/文件/目录到暂存区

git rm --cached target -r 将指定的target移除暂存区

git commit -am remark 将所有文件提交，remark为描述
git commit file -m remark 将file提交，remark为描述

git reset --mixed|soft|hard HEAD~[1,2,3] 撤回commit到前一个，前2个提交.
git checkout -- filename 会撤销对filename的修改，直接用最新的版本替换
git commit --amend 只想更改注释时使用

git branch -avv 查看当前分支
git branch &lt;branch name&gt; 基于当前分支创建新的分支
git branch &lt;branch name&gt; &lt;commit id&gt; 基于提交创建分支
git branch -d &lt;branch name&gt; 删除分支
git branch &lt;new branch name&gt; &lt;base branch name&gt; 基于base创建new
git checkout &lt;branch name&gt; 切换到branch name
git checkout -b bf origin/serverfix 基于远程serverfix创建bf分支并切换到bf分支
git checkout --track origin/serverfix 类似上面的命令只是新建的分支也是serverfix
git merge &lt;target&gt; 将target分支合并到当前分支

git remote -v 查看远程分支
git remote add origin &lt;remote url&gt; 增加远程地址
git remote remove origin 删除远程地址
git push -u origin master 上传分支到远程(--set-upstream-to)第一次需要使用这种方式
git push -u origin localbranch:remobebranch 当本地和远程的分支名不一样时使用local:remote的形式 
git push origin/master:
git branch -u origin/master master 把本地分支master关联到远程分支origin/master
git push origin --delete branch 删除远程branch分支

git pull 想当于git fetch + git merge 从远程拉取数据并合并到当前分支

git tag 查看tag
git tag tagName 根据当前分支创建tag
git tag tagName branchName 根据branchName创建tagName
git tag -d tagName 删除tagName

git log 查看当前分支log
git log branchName 查看branchName分支log
git log --oneline 单行显示日志
git log branch1..branch2 比较两个分支的差异(显示branch2比branch1多的内容)
git diff branch1 branch2 fileName 比较两个分支对应fileName的差异
git log --pretty=format:&#39;%h %s&#39; --graph 以图表形式显示提交网络

git stash 会储藏工作目录的脏的状态，然后工作区会回到之前的状态，可以进行分支切换。（后续可以重新应用这些改动）
git stash list 可以查看所有的暂存信息
git stash apply [stashname] 可以重新应用暂存的内容
git stash drop [stashname] 删除暂存内容
git stash pop 应用暂存内容然后从栈上扔掉它

git --help 查看git的命令详情
git help commit 查看commit命令的详情(git commit --help, man git-commit)这三个命令是一样的效果
git config --list 查看配置信息</code></pre>
<blockquote>
<p>说明：git reset 默认为mixed：<strong>不删除</strong>工作空间改动代码，<strong>撤销</strong>commit和add操作。soft：<strong>不删除</strong>工作空间改动代码，<strong>撤销</strong>commit，<strong>不撤销</strong>add操作。hard：<strong>删除</strong>工作空间改动代码，<strong>撤销</strong>commit和add操作。<br><br>大部分命令默认是第二个参数是当前分支，除非指定第二个参数。<br><br>git init –bare 用来创建裸仓库，会直接把.git目录下的内容显示出来（裸仓库不包含工作区因此不能执行git相关的命令）一般远程仓库建议用裸仓库，这样就不能在远程直接修改文件了，减少冲突的几率。</p>
</blockquote>
<h2 id="底层原理"><a href="#底层原理" class="headerlink" title="底层原理"></a>底层原理</h2><ol>
<li><p>GIT提交对象</p>
<p>每一次提交为当前版本的一个快照，存储的内容为：一个顶级的树对象，上一次提交的对象hash，提交者的用户名，邮箱，提交时间以及评论。</p>
</li>
<li><p>GIT树对象</p>
<p>包含多个文件名称与其对应的hash，以及其他树对象的引用。类似于文件系统的文件夹。</p>
</li>
<li><p>GIT存储对象</p>
<p>存储实际的文件内容</p>
</li>
<li><p>GIT引用</p>
<p>当执行git branch branchName创建分支时，就是基于当前分支最新的提交创建一个应用文件，保存在.git/refs/heads下(存在分支引用，远程分支引用，标签引用三种类型)</p>
</li>
</ol>
<p><img src="/images/git_three_tree.svg" alt="git中的三棵树"></p>
<p>通过这三颗树可以很好的理解reset和checkout命令的影响</p>
<table>
<thead>
<tr>
<th>&nbsp;</th>
<th>HEAD</th>
<th>索引</th>
<th>工作区间</th>
<th>工作区间是否安全</th>
</tr>
</thead>
<tbody><tr>
<td>commit级别</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>reset –soft [commit]</td>
<td>REF</td>
<td>否</td>
<td>否</td>
<td>是</td>
</tr>
<tr>
<td>reset [commit]</td>
<td>REF</td>
<td>是</td>
<td>否</td>
<td>是</td>
</tr>
<tr>
<td>reset –hard [commit]</td>
<td>REF</td>
<td>是</td>
<td>是</td>
<td><font color=red><strong>否</strong></font></td>
</tr>
<tr>
<td>checkout [commit]</td>
<td>HEAD</td>
<td>是</td>
<td>是</td>
<td>是</td>
</tr>
<tr>
<td>文件级别</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>reset (commit) [file]</td>
<td>否</td>
<td>是</td>
<td>否</td>
<td>是</td>
</tr>
<tr>
<td>checkout (commit) [file]</td>
<td>否</td>
<td>是</td>
<td>是</td>
<td><font color=red><strong>否</strong></font></td>
</tr>
</tbody></table>
<p><em>reset和checkout的区别之一是reset会更改分支的指向，而checkout只会更改head的指向</em></p>
<blockquote>
<p>git cat-file -p hash 可以查看对应hash文件中的内容。<br>git hash-object -w fileName 相当于git add fileName把文件写入。<br>每次修改文件后提交，至少会新增一个commit对象，一个树对象，一个文件对象。<br>(find .git/objects -type f 查看所有的文件)<br>git ls-tree -r HEAD 查看最新版本的内容<br>git ls-files -s 查看add但是没有commit的内容</p>
</blockquote>
<h2 id="GIT支持的协议"><a href="#GIT支持的协议" class="headerlink" title="GIT支持的协议"></a>GIT支持的协议</h2><ol>
<li><p>Local（本地协议）</p>
<p>基于文件系统共享，只能在局域网使用，速度慢。使用文件系统对应的权限。</p>
</li>
<li><p>ssh</p>
<p>搭建简单，通过ssh访问是安全的，权限体系不灵活，必须提供操作系统账号密码，无法创建只读权限。</p>
</li>
<li><p>http</p>
<p>依赖于web容器，搭建复杂一些。又分为智能http和哑http协议（其中哑协议是只读的，相对于提供一个静态文件服务）。</p>
</li>
<li><p>git</p>
<p>无授权机制，需要开启一个新的守护进程，传输速度最快。</p>
</li>
</ol>
<h2 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h2><p>下图是一个典型的分支管理方式，master保存最新的代码，功能在feture分支开发，开发完后提交到master，有master创建release分支进行集成测试及发布，最终合并到master和打发布的标签。<br><img src="/images/git-branch.svg" alt="git 分支管理"></p>
<p>git merge source（合并source到当前分支）为了提交树更容易看懂，可以通过rebase进行合并，前提是source分支没有提交到远程，否则会引发其他麻烦。</p>
<p>git rebase master （当前分支dev基于master分支进行rebase）<br>git checkout master 切换到master分支<br>git merge dev 合并dev到master分支，会进行fast forward，提交树会变成一条直线。</p>
]]></content>
      <tags>
        <tag>GIT 专题</tag>
      </tags>
  </entry>
  <entry>
    <title>Maven-专题</title>
    <url>/2020/05/24/2020-05-24-Maven-%E4%B8%93%E9%A2%98/</url>
    <content><![CDATA[<p>maven是一个强大的构建工具，能够帮助我们进行自动化构建，从清理、编译、测试到生成报告，再到打包和部署。</p>
<h3 id="maven配置"><a href="#maven配置" class="headerlink" title="maven配置"></a>maven配置</h3><p>maven在安装路径的conf目录下有一个settings.xml文件，该文件可以配置全局的信息，对该电脑上的所有用户都生效。一般建议拷贝一个settings.xml文件到<del>/.m2/下只在用户范围配置信息。（</del>指用户的当前目录下）</p>
<h3 id="maven坐标"><a href="#maven坐标" class="headerlink" title="maven坐标"></a>maven坐标</h3><p>maven通过坐标唯一确定其依赖。</p>
<table>
<thead>
<tr>
<th>值</th>
<th>是否必填</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>groupId</td>
<td>是</td>
<td>-</td>
<td>一般用公司域名加项目的名字</td>
</tr>
<tr>
<td>artifactId</td>
<td>是</td>
<td>-</td>
<td>项目名字加maven模块名</td>
</tr>
<tr>
<td>version</td>
<td>是</td>
<td>-</td>
<td>版本号</td>
</tr>
<tr>
<td>packaging</td>
<td>否</td>
<td>jar</td>
<td>打包形式</td>
</tr>
<tr>
<td>classifier</td>
<td>否</td>
<td>-</td>
<td>附属构建例如源代码，文档等需要通过插件生成</td>
</tr>
</tbody></table>
<h3 id="mavn依赖范围关系"><a href="#mavn依赖范围关系" class="headerlink" title="mavn依赖范围关系"></a>mavn依赖范围关系</h3><table>
<thead>
<tr>
<th>类型</th>
<th>编译classpath</th>
<th>测试classpath</th>
<th>运行classpath</th>
<th>样例</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>compile</td>
<td>有效</td>
<td>有效</td>
<td>有效</td>
<td>spring-core</td>
<td></td>
</tr>
<tr>
<td>test</td>
<td>无效</td>
<td>有效</td>
<td>无效</td>
<td>junit</td>
<td>只有测试时需要，其他情况都不需要</td>
</tr>
<tr>
<td>runtime</td>
<td>无效</td>
<td>有效</td>
<td>有效</td>
<td>数据库驱动</td>
<td>因为测试也相当于是要运行的</td>
</tr>
<tr>
<td>provided</td>
<td>有效</td>
<td>有效</td>
<td>无效</td>
<td>servlet-api</td>
<td>容器提供，只有运行时不需要</td>
</tr>
<tr>
<td>system</td>
<td>有效</td>
<td>有效</td>
<td>无效</td>
<td>本地jar例如oracle驱动</td>
<td>与provided一样，依赖构建的环境，可能导致构建不可移植</td>
</tr>
<tr>
<td>import</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>与依赖管理一起使用</td>
</tr>
</tbody></table>
<p><font color=HotPink><em>注意：运行classpath无效时，打包时不会包含对应的jar包</em></font></p>
<p>传递性依赖和依赖范围<br>假设A依赖B，B依赖C则A对C的依赖为传递性依赖。</p>
<table>
<thead>
<tr>
<th>第一依赖/第二依赖</th>
<th>compile</th>
<th>test</th>
<th>provided</th>
<th>runtime</th>
</tr>
</thead>
<tbody><tr>
<td>compile</td>
<td>compile</td>
<td>-</td>
<td>-</td>
<td>runtime</td>
</tr>
<tr>
<td>test</td>
<td>test</td>
<td>-</td>
<td>-</td>
<td>test</td>
</tr>
<tr>
<td>provided</td>
<td>provided</td>
<td>-</td>
<td>provided</td>
<td>provided</td>
</tr>
<tr>
<td>runtime</td>
<td>runtime</td>
<td>-</td>
<td>-</td>
<td>runtime</td>
</tr>
</tbody></table>
<blockquote>
<p>如果第二依赖为compile则传递性的依赖等同于第一依赖。当第二依赖为test时依赖不会传递。当第二依赖为provided时只有第一依赖也为provided时起作用。当第二依赖为runtime时与第一依赖一致除了compile（还是为runtime）</p>
</blockquote>
<p>可选依赖：</p>
<p>可选依赖通过&lt;option&gt;true&lt;/option&gt;实现，可选依赖不会传递，假如A依赖B，B依赖C和D并且定义为&lt;option&gt;true&lt;/option&gt;则A不会依赖C和D。如果需要使用C或者D需要在A中重新定义。例如一个持久化层包B依赖mysql或者pg的驱动包，但是实际只会使用其中的一个，则由A来确定使用哪一个。但是B在编译时必须依赖C和D。</p>
<p>依赖的排除：</p>
<p>依赖的排除&lt;exclusions&gt;&lt;execlusion&gt;&lt;groupId&gt;groupId&lt;/groupId&gt;&lt;artifactId&gt;artifactId&lt;/artifactId&gt;&lt;/execlusion&gt;&lt;/exclusions&gt;</p>
<blockquote>
<p>依赖关系优先级，路径最短的优先，非同一个文件中的优先定义的高，同一个文件中定义的则后定义的高。例如在pom文件中依赖了A和B，A和B都依赖C，则C以A中定义的优先，但是在pom文件中先后依赖了A的1.0和A的1.1版本，则以1.1版本为准。</p>
</blockquote>
<h3 id="maven常用命令"><a href="#maven常用命令" class="headerlink" title="maven常用命令"></a>maven常用命令</h3><p>mvn clean //清理<br>mvn compile //编译<br>mvn test //运行测试<br>mvn site //生成sit<br>mvn package //打包<br>mvn install //部署到本地仓库<br>mvn deploye //部署到远程仓库，需要配置distributionManagement<br>mvn clean install -U//-U指定强制更新，对快照版本有效<br>mvn source:jar //对源码进行打包<br>mvn help:system 打印所有java系统属性和环境变量</p>
<blockquote>
<p>mvn插件的执行格式为：mvn groupId:artifactId:version:goal（groupId和version可以省略，artifactId可以用前缀替换，例如maven官方的插件默认都是maven-***-plugin）<br>mvn执行命令时可以通过命令行传递参数例如，-Dmaven.test.skip=true调过测试代码的编译和的执行， -DskipTests只会调过测试代码的执行。</p>
</blockquote>
<h3 id="maven常用配置元素说明"><a href="#maven常用配置元素说明" class="headerlink" title="maven常用配置元素说明"></a>maven常用配置元素说明</h3><p>mirror 可以用来镜像对仓库的引用，例如配置一个阿里的镜像来加快依赖包的下载。<br>repository 用来定义不同的仓库，可以设置是否允许快照版本，以及更新频率，快照默认为1天更新一次。可以通增加-U强制刷新,例如mvn clean install -U。<br>servers 用来配置用户名和密码，配置代理，访问远程仓库，上传jar包到私服时可能需要登录信息。<br>proxy 用来设置代理，例如有些公司外网需要通过代理进行访问。<br>dependency 用来配置依赖。<br>dependencyManagement 用来配置依赖管理，主要是管理版本信息。<br>distributionManagement 用来配置上传jar包对应的repository。可以通过在pom或者setting.xml中的profile中定义。</p>
<pre><code>用于部署本地jar包到私服，一般需要同时在server下配置id对应的用户名密码。distributionManagement可以在pom文件中定义，和profile中定义
&lt;distributionManagement&gt;
  &lt;repository&gt;
    &lt;id&gt;release&lt;/id&gt;
  &lt;name&gt;release repository&lt;name&gt;
  &lt;url&gt;ip:port/nexus/content/repositories/releases&lt;/url&gt;
  &lt;/repository&gt;
  &lt;repository&gt;
    &lt;id&gt;snapshorts&lt;/id&gt;
    &lt;name&gt;snapshorts repository&lt;name&gt;
    &lt;url&gt;ip:port/nexus/content/repositories/snapshorts&lt;/url&gt;
  &lt;/repository&gt;
&lt;/distributionManagement&gt;
servers只能在setting.xml文件中配置
&lt;servers&gt;
  &lt;server&gt;
    &lt;id&gt;releases&lt;/id&gt;
    &lt;username&gt;admin&lt;/username&gt;
    &lt;password&gt;*****&lt;/password&gt;
  &lt;/server&gt;
&lt;/servers&gt;</code></pre>
<h3 id="生命周期和绑定"><a href="#生命周期和绑定" class="headerlink" title="生命周期和绑定"></a>生命周期和绑定</h3><p>maven一共有三个生命周期，每个生命周期又包括不同的阶段，通过将插件绑定到不同生命周期的不同阶段实现不同的目标，同一个生命周期的同一个阶段如果有多个插件绑定则执行顺序由声明的顺序决定。</p>
<ol>
<li>clean生命周期</li>
<li>default生命周期</li>
<li>sit生命周期</li>
</ol>
<p>生命周期之间没有先后顺序，同一个生命周期的不同阶段是有先后顺序的，执行后面的阶段会导致之前的阶段都会执行。（生命周期的阶段类似于模板方法）</p>
<h3 id="maven插件"><a href="#maven插件" class="headerlink" title="maven插件"></a>maven插件</h3><h4 id="插件的解析"><a href="#插件的解析" class="headerlink" title="插件的解析"></a>插件的解析</h4><p>官方插件的默认groupId为org.apache.maven.plugins可以省略，同时前缀和artifactId可以通过settings.xml文件配置自定义的内容，这样可以通过前缀匹配到artifactId，版本号通过最新的或者超级POM中配置的版本号获取。</p>
<p>org/apache/maven/plugins/artifactId/maven-metadata.xml定义了插件的版本信息<br>org/apache/maven/plugins/maven-metadata.xml中检查前缀对应的artifactId。<br> <pluginGroups><br>  <pluginGroup>com.your.plugins</pluginGroup><br> </pluginGroups><br>还会检查com/your/plugins/maven-metadata.xml中的内容</p>
<blockquote>
<p>mvn dependency:tree 可以打印依赖树，mvn dependency:analyze可以对依赖包进行分析，会输出哪些有引用但是没有依赖的以及依赖但是没有使用的包。ide中可以通过show effective pom生成最终生效的pom文件，和查看包的依赖关系图。</p>
</blockquote>
<h4 id="插件的实现"><a href="#插件的实现" class="headerlink" title="插件的实现"></a>插件的实现</h4><p>通过继承org.apache.maven.plugin.AbstractMojo实现，同时插件对应的打包方式必须为maven-plugin，插件需要指定goal和绑定阶段。</p>
<h3 id="聚合和继承"><a href="#聚合和继承" class="headerlink" title="聚合和继承"></a>聚合和继承</h3><p>聚合：当需要把多个模块聚合在一起时使用。<br>继承：子模块会继承父模块的属性，例如依赖，groupId，artifactId等。</p>
<p>聚合和继承POM中的packaging必须是pom，一般项目的根同时是聚合POM和父POM。</p>
<blockquote>
<p>dependencyManagement声明依赖但是不会引入依赖，一般用来定义版本号，用来保证同一个项目中的不同模块都使用同一个版本的jar包。dependencyManagement中可以声明import的scope用来引用其他文件的dependencyManagement声明的内容。</p>
</blockquote>
<h3 id="maven内置变量及profile"><a href="#maven内置变量及profile" class="headerlink" title="maven内置变量及profile"></a>maven内置变量及profile</h3><p>内置属性：${basedir}, ${version}<br>POM属性：${project.artifactId}, ${project.build.sourceDirectory}等<br>自定义属性：在POM中定义的properties属性。<br>Settings属性：${settings.localRepository}<br>Java系统属性：${user.home}可以通过mvn help:system查看<br>环境变量属性：${env.JAVA_HOME}</p>
<h3 id="nexus-说明"><a href="#nexus-说明" class="headerlink" title="nexus 说明"></a>nexus 说明</h3><p>maven中分本地仓库和远程仓库，远程仓库再分中央仓库，私服，其他远程仓库。默认先从本地仓库找，只有在本地仓库找不到才从远程仓库找。</p>
<p>nexus中内置的仓库</p>
<ol>
<li>Maven Central：代理Maven的中央仓库，只会下载和缓存中央仓库的release版本。</li>
<li>Releases：release版本的宿主类型仓库，用来部署组织内的发布版本。</li>
<li>Snapshots：snapshot的宿主类型仓库，用来部署组织内的快照版本。</li>
<li>3rd party：release版本的宿主类型仓库，用来部署无法从公共仓库获得的第三方发布版本。</li>
<li>Public Repositories：将所有的release仓库聚合并通过一致的地址提供服务。</li>
<li>Public Snapshot Repositories：将所有的snapshot仓库聚合并通过一致的地址提供服务。</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>Mybatis-专题</title>
    <url>/2020/05/30/2020-05-30-Mybatis-%E4%B8%93%E9%A2%98/</url>
    <content><![CDATA[<h4 id="xml文件解析的三种方式"><a href="#xml文件解析的三种方式" class="headerlink" title="xml文件解析的三种方式"></a>xml文件解析的三种方式</h4><h5 id="DOM方式："><a href="#DOM方式：" class="headerlink" title="DOM方式："></a>DOM方式：</h5><p>   把整个xml文件加载入内存并构建一个DOM树，基于这棵树形结构对各个节点进行操作。XML文档中的每个成分都是一个节点：有文档节点，元素节点，文本阶段，属性节点，注释节点等内容。</p>
<h5 id="SAX方式："><a href="#SAX方式：" class="headerlink" title="SAX方式："></a>SAX方式：</h5><p>   基于事件模型的方式解析XML，不需要将整个XMl文档加入内存中，只需要将一部分加载到内存即可，由SAX解析器解析到某个类型节点时，触发注册在该类型节点上的回调函数，一般通过继承DefaultHandler重写相关的回调方法即可<code>startDocument,startElement,characters,endElement,endDocument方法</code>。又称为推的模式，通过SAX解析器解析到对应的类型主动调用回调方法。（被动接受）</p>
<h5 id="StAX方式："><a href="#StAX方式：" class="headerlink" title="StAX方式："></a>StAX方式：</h5><p>   又称为拉的模式，解析器不会主动解析XMl由用户主动控制需要处理事件类型以及事件的调用。（主动接受）</p>
<h4 id="mybatis-一级缓存"><a href="#mybatis-一级缓存" class="headerlink" title="mybatis 一级缓存"></a>mybatis 一级缓存</h4><ul>
<li><p>开启或者关闭一级缓存</p>
<p>mybatis默认开启session级缓存，可以通过配置<code>&lt;settings&gt;&lt;setting name=&quot;localCacheScope&quot; value=&quot;STATEMENT&quot;/&gt;&lt;/settings&gt;</code>关闭。（默认值为SESSION也就开启一级缓存）</p>
</li>
<li><p>缓存的cachekey</p>
<p>缓存的cachekey由<code>statementId+offset+limit+sql+params</code>组成，当这五项一样时会认为是相同的sql，可以从缓存中获取数据。</p>
</li>
<li><p>缓存失效：</p>
<p>当同一个sqlsession执行insert，update，delete，commit方法时会清除缓存。（如果获取sqlsession时指定autocomit为true则不需要手动执行commit则缓存不会清除）</p>
<blockquote>
<p>其他的sqlsession进行数据新增，修改或者删除时不会导致当前sqlsession的缓存失效，也就是一级缓存的范围是sqlsession级别，会导致因为缓存而读到之前的数据。</p>
</blockquote>
</li>
<li><p>缓存的实现：</p>
<p>mybatis的默认实现为PerpetualCache通过维护一个hashmap实现。同时还提供了很多装饰者模式实现的cache，底层用的都是PerpetualCache，只是增加了一些其他功能，例如FifoCache，LruCache，BlockingCache，SoftCache，WeakCache等。</p>
</li>
</ul>
<h4 id="mybatis-二级缓存"><a href="#mybatis-二级缓存" class="headerlink" title="mybatis 二级缓存"></a>mybatis 二级缓存</h4><ul>
<li><p>二级缓存的开启：<br>通过在mybatis-config.xml中配置<code>&lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot;/&gt;</code>开启二级缓存，同时在映射文件中配置<code>&lt;cache/&gt;</code>或者<code>&lt;cache-ref/&gt;</code>配置cache的相关内容，可以通过cache-ref配置多个MappedStatement使用同一个命名空间的cache。</p>
</li>
<li><p>二级缓存的实现：<br>mybatis开启二级缓存后则会使用CachingExecutor进行sql语句的执行，会先从二级缓存对应namespace查找对应的值(MappedStatement中配置的cache)，再从一级缓存查找，最后才会查数据库。内部都是通过PerpetualCache存储数据，数据是存在本地，并且二级缓存需要在commit之后才会生效。当有表关联的数据并且属于不同的命名空间时存在读取脏数据的情况（在命名空间A中保存了a和b表关联的结果，如果在命名空间B中更新了b表的数据在命名空间A还是获取到之前的旧内容），可以通过cache-ref使用相同的命名空间，但是会导致缓存失效的情况变多。CachingExecutor通过装饰器模式内部包装了SimpleExecutor并增加了二级缓存的内容。</p>
</li>
</ul>
<center><h6>二级缓存示意图</h6></center>

<p><img src="/images/mybatis-cache.svg"></p>
<h4 id="理解过程中梳理的图"><a href="#理解过程中梳理的图" class="headerlink" title="理解过程中梳理的图"></a>理解过程中梳理的图</h4><center><h6>SQL语句执行示意图</h6></center>

<p><img src="/images/mybatis-execute.svg"></p>
<blockquote>
<p>在上图中的核心部分，也就是Executor，StatementHandler，ParameterHandler，ResultSetHandler的处理过程中都可以编写相关的拦截器进行处理。</p>
</blockquote>
<center><h6>类之间的依赖关系（只包含主要的关系）</h6></center>

<p><img src="/images/mybatis-dependency.svg"></p>
<blockquote>
<p>ResultSetHandler中包含Executor是因为涉及到子查询和延迟加载的情况，需要重新通过Executor执行相关的命令。<br>  mybatis中的configuration是一个‘上帝类’从中可以获取Executor，StatementHandler，ParameterHandler，ResultSetHandler，并且在获取时都会调用interceptorChain.pluginAll调用拦截器进行处理。</p>
</blockquote>
<center><h6>open session对应的时序图</h6></center>

<p><img src="/images/mybatis-session.svg" alt="mybatis open session"></p>
<blockquote>
<p>configuration中存有environment对应有数据源相关的内容（对应mybatis-config.xml中配置的内容），同时有默认的executeType，通过传入从environment获取的datasource从transactionfactory获取transaction，根据transaction和executeType从configuration获取Executor，再通过Executor，configuration，autoCommit创建一个SqlSession。（Transaction的创建使用了工厂方法模式，由对应的TransactionFactory创建对应的Transaction）</p>
</blockquote>
</br>
<center><h6>执行insert时对应的时序图（以默认的实现为例）</h6></center>

<p><img src="/images/mybatis-insert.svg" alt="mybatis insert"></p>
<blockquote>
<p>对SqlSession的操作最终都会委托到Executor的update方法，Executor的update方法会清除缓存，准备好StatementHandler, StatementHandler调用ParameterHandler处理传入的参数，执行update方法，调用ResultSetHandler处理返回结果。SqlSession的commit方法通过委托给Executor最终通过Transaction执行提交。</p>
</blockquote>
<center><h6>SQL语句查询序列图</h6></center>

<p><img src="/images/mybatis-query.svg"></p>
<blockquote>
<p>上图描述的是二级和一级缓存都失败的执行情况</p>
</blockquote>
<center><h6>Mapper相关的类图</h6></center>

<p><img src="/images/mybatis-mapper-class.svg"></p>
<blockquote>
<p>MapperRegistry注册了所有Mapper类对应的MapperProxyFactory,通过MapperProxyFactory获取MapperProxy，MapperProxy为Mapper的代理类，Mapper中的Method在MapperProxy有一个对应的MapppedMethod与之相对应，通过MappedMethod的execute方法实现Mapper中Method的实际数据库的调用。MappedMethod中最终通过SqlSession进行数据库相关方法的调用。SqlCommand封装了需要执行的sql的类型以及对应的MappedStatement对应的id（类名+方法名），MethodSignature的主要作用为通过ParamNameResolver对传进来的参数进行解析。</p>
</blockquote>
<center><h6>获取mapper的时序图</h6></center>

<p><img src="/images/mybatis-mapper.svg"></p>
<h4 id="其他内容"><a href="#其他内容" class="headerlink" title="其他内容"></a>其他内容</h4><ul>
<li>#{}和\${}的区别<br>#{}会生成预编译的sql，会正确处理数据类型并且可以避免sql注入，\${}仅仅是文本替换。\${}一般用在order by，group by，limit等场景。</li>
<li>like拼接%有两种方式，一种是在参数中直接拼接，另一种是通过CONCAT(‘%’,CONCAT(#{query.strategyName,jdbcType=VARCHAR},’%’))拼接。</li>
</ul>
<h4 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h4><p><small>[1] Mybatis技术内幕</small></p>
]]></content>
  </entry>
  <entry>
    <title>线程-专题</title>
    <url>/2020/06/07/2020-06-07-%E7%BA%BF%E7%A8%8B-%E4%B8%93%E9%A2%98/</url>
    <content><![CDATA[<h3 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h3><p>线程为现代操作系统的最少调度单位，也称为轻量级进程。每个线程具有自己的计数器，堆栈和局部变量，且能访问共享的内存变量。<br>java中有两种线程类型，一种普通的，一种为daemon线程，daemon线程主要用来执行一些支持性工作例如Reference Handler，Finalizer，GC线程，当jvm中只存在daemon线程时jvm会退出。<font color='red'><em>daemon线程中的finally方法有可能不会执行</em></font></p>
<ul>
<li>java线程状态流转图<br><img src="/images/thread-status.svg"></li>
</ul>
<h4 id="线程池"><a href="#线程池" class="headerlink" title="线程池"></a>线程池</h4><p>为了避免线程的创建及销毁应该尽量使用线程池来达到同样的目的。</p>
<ul>
<li>线程池创建参数说明</li>
</ul>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>corePoolSize</td>
<td>核心线程数</td>
</tr>
<tr>
<td>maxmumPoolSize</td>
<td>最大线程数</td>
</tr>
<tr>
<td>threadFactory</td>
<td>线程工厂</td>
</tr>
<tr>
<td>runnableTaskQueue</td>
<td>任务队列</td>
</tr>
<tr>
<td>handler</td>
<td>拒绝策略</td>
</tr>
<tr>
<td>keepAliveTime</td>
<td>空闲线程的最大存活时间</td>
</tr>
<tr>
<td>timeUnit</td>
<td>空闲线程的最大存活时间</td>
</tr>
</tbody></table>
<ul>
<li>线程池中的Work内部类说明<br>java.util.concurrent.ThreadPoolExecutor.Worker本身是一个Runnable对象，并且内部有一个thread的成员变量，同时在初始化thread时把this当做参数传入thread中，当线程启动时就会调用Worker的run方法。run方法委托给runWorker方法，在内部会循环从初始任务或者任务队列中取出任务执行对应的run方法。（被提交到线程池的任务最终都会是runnable的实现类，submit的Callable参数会被封装为FutureTask）</li>
<li>线程池中的RejectHandler内部类说明</li>
</ul>
<table>
<thead>
<tr>
<th>拒绝策略</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>AbortPolicy</td>
<td>直接抛出RejectedExecutionException</td>
</tr>
<tr>
<td>CallerRunsPolicy</td>
<td>在调用execute方法的线程处理请求</td>
</tr>
<tr>
<td>DiscardPolicy</td>
<td>丢弃被拒绝的请求本身</td>
</tr>
<tr>
<td>DiscardOldestPolicy</td>
<td>丢弃最老的未处理的请求</td>
</tr>
</tbody></table>
<ul>
<li>线程池线程创建流程图</li>
</ul>
<p><img src="/images/thread-pool.svg"></p>
<ul>
<li>线程池的种类</li>
</ul>
<ol>
<li>普通的（ThreadPoolExecutor）<br>用来执行一次性的任务。</li>
<li>定时的（ScheduledThreadPoolExecutor)<br>用来执行需要定时执行的任务，包括<em>固定频率</em>和<em>固定延迟</em>两种任务。<br>实现原理：主要通过DelayedWorkQueue和ScheduledFutureTask来实现。<br>DelayedWorkQueue：获取taks时通过比较当前时间和delay的大小进行比较，只有delay小于等于当前时间才返回task（表示已经达到task的执行时间），否则会进行等待，等待时长为delay对应的时间。当队列中有新的任务增加时会进行唤醒。（因为存在后增加的任务比先增加的任务先执行的情况）。<br>ScheduledFutureTask：在run方法执行完后会重新新增一个任务，根据固定频率和固定延迟两种方式计算下次执行的时间点。固定评率下次的执行时间为<em>任务的执行时间+period</em>，固定延迟为<em>当前时间+period</em>。（内部实现通过period&gt;0表示固定频率任务，=0表示一次性任务，&lt;0表示固定延迟任务）</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>PPT-专题</title>
    <url>/2020/06/09/2020-06-09-PPT-%E4%B8%93%E9%A2%98/</url>
    <content><![CDATA[<h4 id="审美观"><a href="#审美观" class="headerlink" title="审美观"></a>审美观</h4><p>从海报、视觉、画册、平面设计、演示中学习，增加自己的审美观。</p>
<h4 id="文字修饰"><a href="#文字修饰" class="headerlink" title="文字修饰"></a>文字修饰</h4><ol>
<li>为文字增加线框</li>
<li>倒影效果 （形状倒影）</li>
<li>镂空效果（合并形状剪除）</li>
<li>三维旋转 (颜色渐变+旋转)</li>
</ol>
<h4 id="形状"><a href="#形状" class="headerlink" title="形状"></a>形状</h4><ol>
<li>合并形状</li>
<li>通过形状画小图标</li>
<li>通过形状分割版面 （开放路径）</li>
<li>版面透明框</li>
<li>强度内容，增加背景形状。</li>
</ol>
<h4 id="配色"><a href="#配色" class="headerlink" title="配色"></a>配色</h4><ol>
<li>颜色太多</li>
<li>取色器获取配色方案</li>
<li>主色调，背景色，字体颜色</li>
<li>通过色调值变化成其他主题的颜色</li>
</ol>
<h4 id="图标优化"><a href="#图标优化" class="headerlink" title="图标优化"></a>图标优化</h4><ol>
<li>增加图标专业度</li>
<li>降低信息量</li>
<li>修饰布局</li>
</ol>
<h4 id="表格修饰"><a href="#表格修饰" class="headerlink" title="表格修饰"></a>表格修饰</h4><ol>
<li>建立主色调</li>
<li>建立边框线</li>
<li>规律性底纹</li>
</ol>
<h4 id="版面设计"><a href="#版面设计" class="headerlink" title="版面设计"></a>版面设计</h4><ol>
<li>对齐</li>
<li>对比（颜色，大小，形状，距离）</li>
<li>亲密性（相关的内容距离更近）</li>
<li>重复（风格统一）</li>
</ol>
<h4 id="页面框架"><a href="#页面框架" class="headerlink" title="页面框架"></a>页面框架</h4><ol>
<li>分割（上下，左右）</li>
<li>分裂（多个区域）</li>
<li>居中（中间放文字）</li>
<li>包围</li>
<li>对称</li>
<li>杂志</li>
</ol>
<h4 id="相关网站"><a href="#相关网站" class="headerlink" title="相关网站"></a>相关网站</h4><p><a href="http://www.stickpng.org/">http://www.stickpng.org</a><br><a href="https://huaban.com/">https://huaban.com/</a><br><a href="http://www.yanj.cn/">http://www.yanj.cn/</a><br><a href="https://www.zcool.com.cn/">https://www.zcool.com.cn/</a> </p>
<p><a href="https://www.hellofont.cn/">https://www.hellofont.cn/</a><br><a href="https://www.iconfont.cn/">https://www.iconfont.cn/</a><br><a href="http://font.chinaz.com/">http://font.chinaz.com/</a><br><a href="http://www.qiuziti.com/">http://www.qiuziti.com/</a><br><a href="https://www.58pic.com/">https://www.58pic.com/</a></p>
<p><a href="http://www.ppj.io/">http://www.ppj.io/</a></p>
<p><a href="https://dribbble.com/">https://dribbble.com/</a><br><a href="http://www.peise.net/">http://www.peise.net/</a></p>
]]></content>
      <tags>
        <tag>PPT</tag>
      </tags>
  </entry>
  <entry>
    <title>JMM与锁</title>
    <url>/2020/06/14/2020-06-14-JMM%E4%B8%8E%E9%94%81/</url>
    <content><![CDATA[<h3 id="Lock"><a href="#Lock" class="headerlink" title="Lock"></a>Lock</h3><p>jdk1.5之后除了synchronized关键字还可以使用lock来进行线程的同步。Lock给使用者更多的选择，并且能支持公平和非公平的锁，获取不到锁时允许中断，超时获取锁等。<br>因为synchronized关键字是非显示的申明获取锁因此又称为隐式锁，synchronized可以用在代码块和方法上，当用在方法上时通过标记ACC_SYNCHRONIZED实现，用在代码块中通过monitorenter和monitorexit实现（javap查看）。</p>
<p>lock的使用方式：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">lock.lock();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="comment">//业务代码</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">  lock.unlock();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><small>注意：<em>当使用tryLock时不能使用这种格式，会导致没有获取到锁也去释放锁，应该使用以下的方式</em></small></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(lock.tryLock()) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">//业务代码</span></span><br><span class="line">  &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    lock.unlock();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="Lock方法说明"><a href="#Lock方法说明" class="headerlink" title="Lock方法说明"></a>Lock方法说明</h4><table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>void lock()</td>
<td>获取锁，获取不到则等待</td>
</tr>
<tr>
<td>void lockInterruptibly()</td>
<td>获取到锁则返回，否则加入等待队列。如果获取到锁或者被中断则返回</td>
</tr>
<tr>
<td>boolean tryLock()</td>
<td>如果获取锁成功则返回true，获取失败返回false，都会立即返回不会阻塞</td>
</tr>
<tr>
<td>boolean tryLock(time, timeUnit)</td>
<td>如果获取锁成功则返回true。否则会阻塞直到获取锁或者被中断或者阻塞时间到，只有获取到锁时返回true，其他情况返回false</td>
</tr>
<tr>
<td>void unlock()</td>
<td>释放锁</td>
</tr>
<tr>
<td>Condition newCondition()</td>
<td>返回一个绑定到该锁的一个新的条件对象</td>
</tr>
</tbody></table>
<h4 id="同步器AQS-AbstractQueuedSynchronizer"><a href="#同步器AQS-AbstractQueuedSynchronizer" class="headerlink" title="同步器AQS(AbstractQueuedSynchronizer)"></a>同步器AQS(AbstractQueuedSynchronizer)</h4><p>同步器获取和修改状态的方法</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>getState()</td>
<td>获取当前的同步状态</td>
</tr>
<tr>
<td>setState(int newState)</td>
<td>设置当前同步状态</td>
</tr>
<tr>
<td>compareAndSetState(int expect, int update)</td>
<td>使用CAS设置同步状态</td>
</tr>
</tbody></table>
<p>同步器可以重写的方法</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>booelan tryAcquire(int arg)</td>
<td>独占式获取同步状态,获取成功则返回true，否则返回false</td>
</tr>
<tr>
<td>tryRelease(int arg)</td>
<td>独占式释放同步状态，等待获取同步状态的线程有机会获取同步状态</td>
</tr>
<tr>
<td>boolean tryAcquireShared(int arg)</td>
<td>共享式获取同步状态，大于等于0表示获取成功，否则获取失败</td>
</tr>
<tr>
<td>tryReleaseShared(int arg)</td>
<td>共享式释放同步状态</td>
</tr>
<tr>
<td>boolean isHeldExclusively()</td>
<td>表示当前线程是否独占锁</td>
</tr>
</tbody></table>
<p>AQS内部结构：<br><img src="/images/lock-aqs.svg"></p>
<blockquote>
<p>Conditon是锁的内部类，必须获得锁才能调用await和signal方法，condition从await返回可以当做两步理解，第一从等待队列移到同步队列，第二成为同步队列的首节点(获得锁)。</p>
</blockquote>
<h4 id="线程池"><a href="#线程池" class="headerlink" title="线程池"></a>线程池</h4><h5 id="线程的实现方式"><a href="#线程的实现方式" class="headerlink" title="线程的实现方式"></a>线程的实现方式</h5><ol>
<li>继承Thread，通过start()启动线程会执行线程的run方法。</li>
<li>实现Runnable，然后把runnable当做线程的参数，通过start()启动线程后会执行runnable的run方法[线程的默认实现run方法为调用target的run方法]。</li>
<li>针对有返回值的情况下实现Callable，然后构造一个FutureTask，把FutrueTask当做线程的参数传入线程，通过start()启动线程后最终会调用到Callable的call()方法。</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Callable callable = <span class="keyword">new</span> Callable(()-&gt;<span class="string">&quot;Say Hello&quot;</span>);</span><br><span class="line">FutureTask futureTask = <span class="keyword">new</span> FutureTask(callable);</span><br><span class="line"><span class="keyword">new</span> Thread(futureTask).start();</span><br><span class="line">futureTask.get();<span class="comment">//会返回“Say Hello&quot;</span></span><br></pre></td></tr></table></figure>

<p><small>FutureTask支持取消任务，如果任务能够响应中断还能取消正在运行的任务。submit最终也是调用execute方法，只是传递给execute的为封装为FutureTask的对象</small></p>
<p>java线程的状态及转换：<br><img src="/images/thread-status.svg"></p>
<h5 id="线程池的初始化"><a href="#线程池的初始化" class="headerlink" title="线程池的初始化"></a>线程池的初始化</h5><p>线程池初始化时可以指定核心线程数，最大线程数，线程工厂，阻塞队列，空闲时间，空闲时间参数，拒绝策略。（核心线程也可以通过设置allowCoreThreadTimeOut达到空闲时间进行移除）往线程池增加任务时的流程如下图：</p>
<p><img src="/images/thread-pool-init.svg"></p>
<p>工作线程启动后会调用runWorker方法，在循环中不断从队列中获取任务并执行任务。流程图如下：</p>
<p><img src="/images/thread-pool-run.svg"></p>
<p><small> 通过在获取task时进行工作线程的空闲时间处理，如果超过核心线程数，或者允许核心线程数移除则在获取任务时会设置最长的阻塞时间，如果这段时间还是获取不到任务则返回null，则会导致线程的runWorker方法执行完毕，最终会执行清除线程的方法。</small></p>
<blockquote>
<p>线程池执行的任务一种为runnable，一种为callable，实际是通过工作线程调用runnable和callable接口的方法。工作线程由线程池进行初始化，通过在工作线程池的run方法中执行相应的run和call方法。</p>
</blockquote>
<h5 id="线程池的停止"><a href="#线程池的停止" class="headerlink" title="线程池的停止"></a>线程池的停止</h5><p>和线程池停止相关的方法</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>shuntDown</td>
<td>停止线程池，不再接受新的任务（放入新的任务会执行拒绝策略），已经在队列中的任务还是会执行。</td>
</tr>
<tr>
<td>shuntDownNow</td>
<td>停止线程池，不再接受新的任务（放入新的任务会执行拒绝策略），通过中断处理正在执行的任务。返回在队列中的任务列表。</td>
</tr>
<tr>
<td>awaitTermination</td>
<td>等待线程池停止，返回true表示任务都执行完成，结合shuntDown使用。</td>
</tr>
</tbody></table>
<h3 id="jvm参数"><a href="#jvm参数" class="headerlink" title="jvm参数"></a>jvm参数</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">java 输出jvm标准参数</span><br><span class="line">java -X 输出非标准参数（默认jvm实现这些参数的功能，但是并不保证所有jvm实现都满足，且不保证向后兼容）</span><br><span class="line">java -XX:+PrintFlagsFinal 输出非稳定参数（此类参数各个jvm实现会有所不同，将来可能会随时取消，需要慎重使用）</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>myql-基础</title>
    <url>/2020/07/25/2020-07-25-myql-%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<h3 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h3><ol>
<li>字符集指的是某个字符范围的编码规则。</li>
<li>比较规则是针对某个字符集中的字符比较大小的一种规则。</li>
<li>mysql中，一个字符集可以有若干中比较规则，有一个默认的比较规则。</li>
<li>查看mysql中支持的字符集和比较规则的语句如下：</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> (<span class="built_in">character</span> <span class="keyword">set</span>|<span class="keyword">charset</span>) [<span class="keyword">like</span> 模式];</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">collation</span> [<span class="keyword">like</span> 模式];</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>mysql有四个级别的字符集和比较规则：<ul>
<li>服务器级别：由charset_set_server,collation_server表示字符和比较规则。</li>
<li>数据库级别：创建和修改数据库时可以指定字符集和比较规则，如果不指定默认为服务器级别的值。</li>
<li>表级别：创建和修改表时指定。</li>
<li>字段级别：创建和修改列定义时指定。</li>
</ul>
</li>
<li>发送请求到接收结果过程中发生的字符集转换。</li>
</ol>
<table>
<thead>
<tr>
<th>系统变量</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>character_set_client</td>
<td>服务器解码请求时用到的字符集</td>
</tr>
<tr>
<td>character_set_connection</td>
<td>处理请求时会把请求字符串从character_set_client转换为character_set_connection</td>
</tr>
<tr>
<td>character_set_result</td>
<td>服务器向客户端返回数据时的字符集</td>
</tr>
</tbody></table>
<blockquote>
<p>一般情况下要保持这三个变量的值和客户端的字符集一致。</p>
</blockquote>
<ol start="7">
<li>比较规则的作用通常用来进行字符串大小的表达式，以及排序中。</li>
</ol>
]]></content>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>mysql-锁</title>
    <url>/2020/07/26/2020-07-26-mysql-%E9%94%81/</url>
    <content><![CDATA[<h3 id="表锁与行锁"><a href="#表锁与行锁" class="headerlink" title="表锁与行锁"></a>表锁与行锁</h3><h4 id="表锁"><a href="#表锁" class="headerlink" title="表锁"></a>表锁</h4><p>表锁主要有IS，IX，S，X，四种。其中IS，IX为意向锁，意向锁是兼容的也就是可以在同一个表中加多个IX锁。在为记录加S和X锁时会在对应的表上加IS和IX锁。</p>
<p>表锁的兼容性为：</p>
<table>
<thead>
<tr>
<th></th>
<th>IS</th>
<th>IX</th>
<th>S</th>
<th>X</th>
</tr>
</thead>
<tbody><tr>
<td>IS</td>
<td>兼容</td>
<td>兼容</td>
<td>兼容</td>
<td>不兼容</td>
</tr>
<tr>
<td>IX</td>
<td>兼容</td>
<td>兼容</td>
<td>不兼容</td>
<td>不兼容</td>
</tr>
<tr>
<td>S</td>
<td>兼容</td>
<td>不兼容</td>
<td>兼容</td>
<td>不兼容</td>
</tr>
<tr>
<td>X</td>
<td>不兼容</td>
<td>不兼容</td>
<td>不兼容</td>
<td>不兼容</td>
</tr>
</tbody></table>
<p>AUTO-INC锁，当使用自增长列时，在插入数据时不知道会插入多少条数据时使用。这个时候插入语句会阻塞。（例如两个会话都执行insert tablea select * from tablea 时有一个会阻塞）</p>
<h4 id="行锁"><a href="#行锁" class="headerlink" title="行锁"></a>行锁</h4><ol>
<li>Record Locks： 记录锁，只会锁住记录本身。</li>
<li>Gap Locks：间隙锁，锁住该记录之前的间隙。</li>
<li>Next-Key Locks：锁住记录本身和记录前的间隙，相当于记录锁+间隙锁。</li>
<li>Insert Intention Locks：插入意向锁，插入数据时如果对应的间隙被锁住则需要等待。</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2020/svg/2006869/1598774840470-5b1a48fc-1379-4b52-a93b-08efd7d13443.svg"> </p>
<blockquote>
<p>mysql中每一个页都会有一个代表该页的最小和最大的两条记录，通过在最大记录上加上间隙锁代表记录35到+∞都是被锁住的。</p>
</blockquote>
<h3 id="读未提交-读已提交"><a href="#读未提交-读已提交" class="headerlink" title="读未提交|读已提交"></a>读未提交|读已提交</h3><h4 id="主键精确查询"><a href="#主键精确查询" class="headerlink" title="主键精确查询"></a>主键精确查询</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">table</span> <span class="keyword">where</span> <span class="keyword">key</span> = xxx [<span class="keyword">for</span> <span class="keyword">update</span>|<span class="keyword">lock</span> <span class="keyword">in</span> <span class="keyword">share</span> <span class="keyword">mode</span>]</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">table</span> <span class="keyword">set</span> <span class="keyword">column</span> = xxx <span class="keyword">where</span> <span class="keyword">key</span> = xxx</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">table</span> <span class="keyword">where</span> <span class="keyword">key</span> = xxx</span><br></pre></td></tr></table></figure>

<blockquote>
<p>select语句可以指定加锁的类型是X锁还是S锁，update和delete都是加X锁。</p>
</blockquote>
<p>select/update/delete 都会对指定主键的记录加对应的锁。update如果更新到了二级索引则还会在更新到的二级索引中主键值为key的记录加X锁。delete则会给所有的二级索引中主键值对key的记录加X锁。（相当于所有的二级索引都需要进行更新）</p>
<h4 id="主键范围查询"><a href="#主键范围查询" class="headerlink" title="主键范围查询"></a>主键范围查询</h4><p>主键范围查询与主键精确查询类似，只是会对第一个不满足条件的主键记录会<em>先加锁然后再释放</em>。</p>
<h4 id="二级索引精确查询"><a href="#二级索引精确查询" class="headerlink" title="二级索引精确查询"></a>二级索引精确查询</h4><p>先对二级索引对应的记录加锁，然后再对二级索引找到的记录对应的主键记录加索引。（先二级索引记录再主键索引记录）</p>
<h4 id="二级索引范围查询"><a href="#二级索引范围查询" class="headerlink" title="二级索引范围查询"></a>二级索引范围查询</h4><p>同二级索引精确查询，只是在ICP的情况下，还是会锁住不满足要求的二级索引边界值。（并不会释放，主键范围时是先加锁然后释放）</p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>间隙锁是用来解决幻读的，因为读未提交和读已提交都不能避免幻读，因此在这两种隔离级别中不会出现间隙锁，因此也不会出现next-key lock以及插入意向锁，只会存在记录锁。根据实际查找数据的顺序进行加锁，例如根据二级索引查找时会先对二级索引记录加锁，再对主键记录加锁，反之也一样。另外需要注意在<em>范围查询时</em>对不满足要求的<em>边界记录</em>会<em>先加锁然后再释放锁</em>的情况。（<em>在5.6版本测试过程中发现范围查询时select语句会锁不满足的边界记录但是update和delete语句不会</em>）。insert一般不会加锁，当插入数据导致违法唯一约束时会加S锁，在update *** where id in (select id from b)时会对b表加上S锁。</p>
<p><em>只有二级索引才会使用ICP，并且使用ICP时select语句会锁不满足条件的边界值并且不会释放锁，updae不会加锁也就不存在释放</em></p>
<blockquote>
<p>索引下推(index condition pushdown)，当存储引擎获取数据时如果能够根据索引对应的字段进行过滤则不会把数据返回到server层，直接在返回数据之前进行过滤。返回server层的数据再对没有下推的条件进行过滤，可以减少返回server层的数据。（当全部使用ICP时查询计划中只会有index condition pushdown，当有server层的过滤时会显示using where）</p>
</blockquote>
<h3 id="可重复读"><a href="#可重复读" class="headerlink" title="可重复读"></a>可重复读</h3><p>mysql的可重复读通过间隙锁解决幻读的问题。</p>
<h4 id="主键精确查询-1"><a href="#主键精确查询-1" class="headerlink" title="主键精确查询"></a>主键精确查询</h4><ol>
<li>select * from table where primaryKey = *** lock in share mode。<br>当查询的记录存在时，锁定对应的记录(record lock)，因为不会有其他事务插入和主键相同的数据，所以不需要间隙锁，因此和读已提交情况的加锁一致。<br>当查询的记录不存在时，需要锁定该记录所在的间隙(gap lock)，避免在该间隙中插入与查询条件相同的主键数据。</li>
<li>update/delete语句与读已提交情况一致。（某种程度上说明不能解决幻读，例如在事务的中间另外一个事务更新了某条数据导致后续的update的where条件满足）</li>
</ol>
<h4 id="主键范围查询-1"><a href="#主键范围查询-1" class="headerlink" title="主键范围查询"></a>主键范围查询</h4><p>以select * from tableA where key betwwen left and right for update为例：</p>
<ol>
<li>left的加锁情况：如果left的值存在则加record lock，否则则在满足条件的第一条记录上加next-key lock。</li>
<li>right的加锁情况：会找到第一条不满足条件的记录加next-key lock。</li>
<li>left和right之间的记录全部加next-key lock。</li>
</ol>
<p>update/insert与select类似，只是在更新了二级索引字段时会在二级索引对应的记录加record lock。</p>
<h4 id="二级索引精确查询-1"><a href="#二级索引精确查询-1" class="headerlink" title="二级索引精确查询"></a>二级索引精确查询</h4><h5 id="唯一二级索引"><a href="#唯一二级索引" class="headerlink" title="唯一二级索引"></a>唯一二级索引</h5><p>效果与主键精确查询一样，只是会锁住二级索引的同时还会锁住主键索引(都是record lock)。（如果没有找到记录则只会给二级索引加一个间隙锁。）</p>
<h5 id="非唯一二级索引"><a href="#非唯一二级索引" class="headerlink" title="非唯一二级索引"></a>非唯一二级索引</h5><p>理论上非唯一二级索引不存在精确查找。</p>
<p>以select * from tableA where b = ‘sencod unique index’ for update 为例：<br>因为b是非唯一二级索引相当于有很多满足条件的数据，避免在之前，之后，之中插入数据，需要对第一条满足条件的数据到第一条不满足条件的数据全部加next-key lock。</p>
<h4 id="二级索引范围查询-1"><a href="#二级索引范围查询-1" class="headerlink" title="二级索引范围查询"></a>二级索引范围查询</h4><h5 id="唯一二级索引-1"><a href="#唯一二级索引-1" class="headerlink" title="唯一二级索引"></a>唯一二级索引</h5><p>同主键范围查询<em>区别点在于都是加next-key lock</em>而主键范围对左边条件满足时只会加record lock。</p>
<h5 id="非唯一二级索引-1"><a href="#非唯一二级索引-1" class="headerlink" title="非唯一二级索引"></a>非唯一二级索引</h5><p>同唯一二级索引范围查询</p>
<h4 id="全表扫描"><a href="#全表扫描" class="headerlink" title="全表扫描"></a>全表扫描</h4><p>全部加next-key lock。</p>
<h4 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h4><p>repetable下为了避免幻读，需要增加gap锁，因此一般都是加的next-key lock。只有主键或者唯一索引查找时可能加recod lock或者gap锁。范围查找时也需要对第一个不满足条件的数据加next-key lock并且不会释放。</p>
]]></content>
      <tags>
        <tag>mysql</tag>
        <tag>锁</tag>
      </tags>
  </entry>
  <entry>
    <title>常用SQL</title>
    <url>/2020/07/29/2020-07-29-%E5%B8%B8%E7%94%A8SQL/</url>
    <content><![CDATA[<h3 id="强制走索引force-index"><a href="#强制走索引force-index" class="headerlink" title="强制走索引force index"></a>强制走索引force index</h3><ol>
<li>ignore index 忽略特点的索引</li>
<li>use index 只参考特点的索引</li>
<li>force index 强制使用特点的索引</li>
</ol>
<blockquote>
<p>delete指定force index 时需要指定表两次，例如 delete tablea from tablea force index(<code>index_name</code>) where condition; update tablea force index(<code>index_name</code>) set columna = *** where condition;</p>
</blockquote>
<h3 id="查看trace"><a href="#查看trace" class="headerlink" title="查看trace"></a>查看trace</h3><p>SHOW VARIABLES LIKE ‘%optimizer_trace%’;<br>SET optimizer_trace=”enabled=on”;<br>delete sales from sales  where sales.sale_date = ‘2020-05-04’;<br>SELECT * FROM INFORMATION_SCHEMA.OPTIMIZER_TRACE;<br>SET optimizer_trace=”enabled=off”;<br>通过查看trace文件可以分析优化器为啥选择相应的执行计划</p>
<h3 id="查看引擎状态"><a href="#查看引擎状态" class="headerlink" title="查看引擎状态"></a>查看引擎状态</h3><p>show engine innodb status;老版本为show innodb status;</p>
<h3 id="事务相关设置"><a href="#事务相关设置" class="headerlink" title="事务相关设置"></a>事务相关设置</h3><h4 id="设置事务隔离级别"><a href="#设置事务隔离级别" class="headerlink" title="设置事务隔离级别"></a>设置事务隔离级别</h4><p>set session transaction isolation level read uncommitted | read committed | repeatable read |  serializable;</p>
<h4 id="查看事务的隔离级别"><a href="#查看事务的隔离级别" class="headerlink" title="查看事务的隔离级别"></a>查看事务的隔离级别</h4><p>select @@tx_isolation;</p>
]]></content>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>mysql-innodb</title>
    <url>/2020/08/30/2020-08-30-mysql-innodb/</url>
    <content><![CDATA[<p>innodb的架构如下（摘自官网）</p>
<p><img src="https://cdn.nlark.com/yuque/0/2020/png/2006869/1598792277142-1771ff23-2cd5-4d8a-8497-9daa81dce721.png"></p>
<h3 id="buffer-pool"><a href="#buffer-pool" class="headerlink" title="buffer pool"></a>buffer pool</h3><p>缓存表和索引信息，通过一个修改的LRU算法进行缓存页的替换。新加载的块会放入LRU list的中间(默认是队列的5/8处)而不是队列头，避免全表扫描或者加载大量数据时把队列中的其他数据全部失效。</p>
<h3 id="change-buffer"><a href="#change-buffer" class="headerlink" title="change buffer"></a>change buffer</h3><p>change buffer保存不在buffer pool中的二级索引的更改。这些更改在对应的页被加载到buffer pool时进行合并，减少因为二级索引的随机访问。</p>
<p><small><em>唯一索引不支持change buffer否则无法判断是否唯一，另外也不支持带降序排列字段的二级索引或者主键索引中有降序排列的字段</em></small></p>
<h3 id="adaptive-hash-index"><a href="#adaptive-hash-index" class="headerlink" title="adaptive hash index"></a>adaptive hash index</h3><p>hash索引对根据key查找的数据速度很快，因此mysql在内部对那些经常根据key访问的数据可能会在内存中建立hash索引加快访问速度。</p>
<h3 id="log-buffer"><a href="#log-buffer" class="headerlink" title="log buffer"></a>log buffer</h3><p>存放redo日志的buffer，redo日志也是先写缓存，log buffer会定时刷新到磁盘，一个大的log buffer可以支撑大事务在没有commit之前刷数据到磁盘。当innodb_flush_log_at_trx_commit=1时在事务提交时会把数据刷新到磁盘。</p>
<h3 id="double-write-buffer"><a href="#double-write-buffer" class="headerlink" title="double write buffer"></a>double write buffer</h3><p>用来避免页只有一部分写入成功的问题，一般页的大小是16k，16k的数据写入磁盘不是原子性的。因此在把pool buffer的数据更新到磁盘前会先把数据保存一份到double write buffer中，因为double write buffer是顺序写速度比较快。</p>
<p>double write buffer的示意图如下：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2020/svg/2006869/1598797787875-e5244328-5aa0-4029-99c6-641bd960650c.svg"></p>
<p>每次最多会写入64*16K数据到共享表空间，只有②成功后才会进行第③步操作把更新写入数据对应的磁盘中。<br>数据的恢复逻辑：</p>
<ol>
<li>如果第②步成功第③步失败则直接拿第②步的共享表空间的内容覆盖数据中对应的页再应用redo日志。</li>
<li>如果第②步失败则数据文件是完整的，只需要重新应用redo日志即可把数据文件更新到最新。</li>
</ol>
<p><em>double write buffer只是用来避免内存中的数据更新到磁盘时导致磁盘中的数据出现不一致的情况，redo日志确保事务的持久化</em></p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iNDc4cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo4NzNweDtoZWlnaHQ6NDc4cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA4NzMgNDc4IiB3aWR0aD0iODczcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZmplMG50ZDVvN2FnbyIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVs1MTMyY2VlOTI4YzE3MGQyYjg3MjkzYmQyNzVjNzY0Nl0KY2x1c3RlciBjbGFzcyBBYnN0cmFjdEZhY3Rvcnko5oq96LGh5bel5Y6C5qih5byPKS0tPjxwb2x5Z29uIGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmamUwbnRkNW83YWdvKSIgcG9pbnRzPSIxNiw2LDMwNiw2LDMxMywyOC4yOTY5LDg1NiwyOC4yOTY5LDg1Niw0NzEsMTYsNDcxLDE2LDYiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjE2IiB4Mj0iMzEzIiB5MT0iMjguMjk2OSIgeTI9IjI4LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjg0IiB4PSIyMCIgeT0iMjAuOTk1MSI+Y2xhc3MgQWJzdHJhY3RGYWN0b3J5KOaKveixoeW3peWOguaooeW8jyk8L3RleHQ+PCEtLU1ENT1bMDZiOGY4Y2ZmZDc5NzVkOWJhYjc3YWQ2NGI1OTNkNGJdCmNsYXNzIEFic3RyYWN0UHJvZHVjdEEtLT48cmVjdCBjb2RlTGluZT0iNCIgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZqZTBudGQ1bzdhZ28pIiBoZWlnaHQ9IjYwLjgwNDciIGlkPSJBYnN0cmFjdFByb2R1Y3RBIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxMzgiIHg9IjcwMiIgeT0iMjY2LjUiLz48ZWxsaXBzZSBjeD0iNzE3IiBjeT0iMjgyLjUiIGZpbGw9IiNBOURDREYiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNNzE5LjA3ODEsMjg0LjMxMjUgTDcxOS40Njg4LDI4NS4yOTY5IEw3MTkuMDc4MSwyODUuMjk2OSBDNzE4LjYyNSwyODUuMjk2OSA3MTguNTE1NiwyODUuMzEyNSA3MTguMzU5NCwyODUuNDIxOSBDNzE4LjEwOTQsMjg1LjU3ODEgNzE3Ljk1MzEsMjg1Ljg1OTQgNzE3Ljk1MzEsMjg2LjE1NjMgQzcxNy45NTMxLDI4Ni40MjE5IDcxOC4wOTM4LDI4Ni42NzE5IDcxOC4zMTI1LDI4Ni44MjgxIEM3MTguNDUzMSwyODYuOTUzMSA3MTguNjU2MywyODcgNzE5LjA3ODEsMjg3IEw3MjEuNDM3NSwyODcgQzcyMS43OTY5LDI4NyA3MjIuMDE1NiwyODYuOTY4OCA3MjIuMTU2MywyODYuODc1IEM3MjIuNDA2MywyODYuNzM0NCA3MjIuNTYyNSwyODYuNDM3NSA3MjIuNTYyNSwyODYuMTU2MyBDNzIyLjU2MjUsMjg1Ljg3NSA3MjIuNDIxOSwyODUuNjI1IDcyMi4yMDMxLDI4NS40Njg4IEM3MjIuMDMxMywyODUuMzI4MSA3MjEuODc1LDI4NS4yOTY5IDcyMS40MDYzLDI4NS4yOTY5IEw3MTguMDE1NiwyNzcuMDkzOCBMNzE0LjM0MzgsMjc3LjA5MzggQzcxMy44OTA2LDI3Ny4wOTM4IDcxMy43NjU2LDI3Ny4xMDk0IDcxMy42MDk0LDI3Ny4yMDMxIEM3MTMuMzU5NCwyNzcuMzc1IDcxMy4yMDMxLDI3Ny42NTYzIDcxMy4yMDMxLDI3Ny45Mzc1IEM3MTMuMjAzMSwyNzguMjE4OCA3MTMuMzQzOCwyNzguNDY4OCA3MTMuNTYyNSwyNzguNjQwNiBDNzEzLjczNDQsMjc4Ljc1IDcxMy45MDYzLDI3OC43ODEzIDcxNC4zNDM4LDI3OC43ODEzIEw3MTUuNDIxOSwyNzguNzgxMyBMNzEyLjc4MTMsMjg1LjI5NjkgQzcxMi4zNTk0LDI4NS4yOTY5IDcxMi4yMDMxLDI4NS4zMTI1IDcxMi4wNDY5LDI4NS40MjE5IEM3MTEuNzk2OSwyODUuNTc4MSA3MTEuNjQwNiwyODUuODU5NCA3MTEuNjQwNiwyODYuMTU2MyBDNzExLjY0MDYsMjg2LjcxODggNzEyLjAxNTYsMjg3IDcxMi43NjU2LDI4NyBMNzE1LjAzMTMsMjg3IEM3MTUuMzkwNiwyODcgNzE1LjYwOTQsMjg2Ljk2ODggNzE1LjczNDQsMjg2Ljg3NSBDNzE2LDI4Ni43MzQ0IDcxNi4xNDA2LDI4Ni40Mzc1IDcxNi4xNDA2LDI4Ni4xNTYzIEM3MTYuMTQwNiwyODUuODc1IDcxNi4wMTU2LDI4NS42MjUgNzE1Ljc5NjksMjg1LjQ1MzEgQzcxNS42MjUsMjg1LjMyODEgNzE1LjQ4NDQsMjg1LjI5NjkgNzE1LjAzMTMsMjg1LjI5NjkgTDcxNC42NDA2LDI4NS4yOTY5IEw3MTUuMDMxMywyODQuMzEyNSBMNzE5LjA3ODEsMjg0LjMxMjUgWiBNNzE4LjM3NSwyODIuNjA5NCBMNzE1LjcwMzEsMjgyLjYwOTQgTDcxNy4wNDY5LDI3OS4zNDM4IEw3MTguMzc1LDI4Mi42MDk0IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYiIHg9IjczMSIgeT0iMjg2LjY1NDMiPkFic3RyYWN0UHJvZHVjdEE8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNzAzIiB4Mj0iODM5IiB5MT0iMjk4LjUiIHkyPSIyOTguNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjcwMyIgeDI9IjgzOSIgeTE9IjMwNi41IiB5Mj0iMzA2LjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4OCIgeD0iNzA4IiB5PSIzMjAuNzEwNCI+K21ldGhvZCgpOnZvaWQ8L3RleHQ+PCEtLU1ENT1bZmVjMmEzN2FhMGI3YjI4NDliYzYwYWRhMTNhZjUzNTFdCmNsYXNzIEFic3RyYWN0UHJvZHVjdEItLT48cmVjdCBjb2RlTGluZT0iOSIgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZqZTBudGQ1bzdhZ28pIiBoZWlnaHQ9IjYwLjgwNDciIGlkPSJBYnN0cmFjdFByb2R1Y3RCIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxMzgiIHg9IjMyIiB5PSIyNjYuNSIvPjxlbGxpcHNlIGN4PSI0NyIgY3k9IjI4Mi41IiBmaWxsPSIjQTlEQ0RGIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTQ5LjA3ODEsMjg0LjMxMjUgTDQ5LjQ2ODgsMjg1LjI5NjkgTDQ5LjA3ODEsMjg1LjI5NjkgQzQ4LjYyNSwyODUuMjk2OSA0OC41MTU2LDI4NS4zMTI1IDQ4LjM1OTQsMjg1LjQyMTkgQzQ4LjEwOTQsMjg1LjU3ODEgNDcuOTUzMSwyODUuODU5NCA0Ny45NTMxLDI4Ni4xNTYzIEM0Ny45NTMxLDI4Ni40MjE5IDQ4LjA5MzgsMjg2LjY3MTkgNDguMzEyNSwyODYuODI4MSBDNDguNDUzMSwyODYuOTUzMSA0OC42NTYzLDI4NyA0OS4wNzgxLDI4NyBMNTEuNDM3NSwyODcgQzUxLjc5NjksMjg3IDUyLjAxNTYsMjg2Ljk2ODggNTIuMTU2MywyODYuODc1IEM1Mi40MDYzLDI4Ni43MzQ0IDUyLjU2MjUsMjg2LjQzNzUgNTIuNTYyNSwyODYuMTU2MyBDNTIuNTYyNSwyODUuODc1IDUyLjQyMTksMjg1LjYyNSA1Mi4yMDMxLDI4NS40Njg4IEM1Mi4wMzEzLDI4NS4zMjgxIDUxLjg3NSwyODUuMjk2OSA1MS40MDYzLDI4NS4yOTY5IEw0OC4wMTU2LDI3Ny4wOTM4IEw0NC4zNDM4LDI3Ny4wOTM4IEM0My44OTA2LDI3Ny4wOTM4IDQzLjc2NTYsMjc3LjEwOTQgNDMuNjA5NCwyNzcuMjAzMSBDNDMuMzU5NCwyNzcuMzc1IDQzLjIwMzEsMjc3LjY1NjMgNDMuMjAzMSwyNzcuOTM3NSBDNDMuMjAzMSwyNzguMjE4OCA0My4zNDM4LDI3OC40Njg4IDQzLjU2MjUsMjc4LjY0MDYgQzQzLjczNDQsMjc4Ljc1IDQzLjkwNjMsMjc4Ljc4MTMgNDQuMzQzOCwyNzguNzgxMyBMNDUuNDIxOSwyNzguNzgxMyBMNDIuNzgxMywyODUuMjk2OSBDNDIuMzU5NCwyODUuMjk2OSA0Mi4yMDMxLDI4NS4zMTI1IDQyLjA0NjksMjg1LjQyMTkgQzQxLjc5NjksMjg1LjU3ODEgNDEuNjQwNiwyODUuODU5NCA0MS42NDA2LDI4Ni4xNTYzIEM0MS42NDA2LDI4Ni43MTg4IDQyLjAxNTYsMjg3IDQyLjc2NTYsMjg3IEw0NS4wMzEzLDI4NyBDNDUuMzkwNiwyODcgNDUuNjA5NCwyODYuOTY4OCA0NS43MzQ0LDI4Ni44NzUgQzQ2LDI4Ni43MzQ0IDQ2LjE0MDYsMjg2LjQzNzUgNDYuMTQwNiwyODYuMTU2MyBDNDYuMTQwNiwyODUuODc1IDQ2LjAxNTYsMjg1LjYyNSA0NS43OTY5LDI4NS40NTMxIEM0NS42MjUsMjg1LjMyODEgNDUuNDg0NCwyODUuMjk2OSA0NS4wMzEzLDI4NS4yOTY5IEw0NC42NDA2LDI4NS4yOTY5IEw0NS4wMzEzLDI4NC4zMTI1IEw0OS4wNzgxLDI4NC4zMTI1IFogTTQ4LjM3NSwyODIuNjA5NCBMNDUuNzAzMSwyODIuNjA5NCBMNDcuMDQ2OSwyNzkuMzQzOCBMNDguMzc1LDI4Mi42MDk0IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDYiIHg9IjYxIiB5PSIyODYuNjU0MyI+QWJzdHJhY3RQcm9kdWN0QjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIzMyIgeDI9IjE2OSIgeTE9IjI5OC41IiB5Mj0iMjk4LjUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIzMyIgeDI9IjE2OSIgeTE9IjMwNi41IiB5Mj0iMzA2LjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4OCIgeD0iMzgiIHk9IjMyMC43MTA0Ij4rbWV0aG9kKCk6dm9pZDwvdGV4dD48IS0tTUQ1PVtlZmZmZDgzZDQzZTY0MzE3NDFlMjMzNWI1MGVhOTBiNV0KY2xhc3MgQ29uY3JldGVQcm9kdWN0QTEtLT48cmVjdCBjb2RlTGluZT0iMTQiIGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmamUwbnRkNW83YWdvKSIgaGVpZ2h0PSI2MC44MDQ3IiBpZD0iQ29uY3JldGVQcm9kdWN0QTEiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjE0NyIgeD0iNDk1LjUiIHk9IjM5NCIvPjxlbGxpcHNlIGN4PSI1MTAuNSIgY3k9IjQxMCIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik01MTIuODQzOCw0MDUuNjcxOSBDNTExLjkwNjMsNDA1LjIzNDQgNTExLjMxMjUsNDA1LjA5MzggNTEwLjQzNzUsNDA1LjA5MzggQzUwNy44MTI1LDQwNS4wOTM4IDUwNS44MTI1LDQwNy4xNzE5IDUwNS44MTI1LDQwOS44OTA2IEw1MDUuODEyNSw0MTEuMDE1NiBDNTA1LjgxMjUsNDEzLjU5MzggNTA3LjkyMTksNDE1LjQ4NDQgNTEwLjgxMjUsNDE1LjQ4NDQgQzUxMi4wMzEzLDQxNS40ODQ0IDUxMy4xODc1LDQxNS4xODc1IDUxMy45Mzc1LDQxNC42NDA2IEM1MTQuNTE1Niw0MTQuMjM0NCA1MTQuODQzOCw0MTMuNzgxMyA1MTQuODQzOCw0MTMuMzkwNiBDNTE0Ljg0MzgsNDEyLjkzNzUgNTE0LjQ1MzEsNDEyLjU0NjkgNTEzLjk4NDQsNDEyLjU0NjkgQzUxMy43NjU2LDQxMi41NDY5IDUxMy41NjI1LDQxMi42MjUgNTEzLjM3NSw0MTIuODEyNSBDNTEyLjkyMTksNDEzLjI5NjkgNTEyLjkyMTksNDEzLjI5NjkgNTEyLjczNDQsNDEzLjM5MDYgQzUxMi4zMTI1LDQxMy42NTYzIDUxMS42MjUsNDEzLjc4MTMgNTEwLjg1OTQsNDEzLjc4MTMgQzUwOC44MTI1LDQxMy43ODEzIDUwNy41MTU2LDQxMi42ODc1IDUwNy41MTU2LDQxMC45ODQ0IEw1MDcuNTE1Niw0MDkuODkwNiBDNTA3LjUxNTYsNDA4LjEwOTQgNTA4Ljc2NTYsNDA2Ljc5NjkgNTEwLjUsNDA2Ljc5NjkgQzUxMS4wNzgxLDQwNi43OTY5IDUxMS42ODc1LDQwNi45NTMxIDUxMi4xNTYzLDQwNy4yMDMxIEM1MTIuNjQwNiw0MDcuNDg0NCA1MTIuODEyNSw0MDcuNzAzMSA1MTIuOTA2Myw0MDguMTA5NCBDNTEyLjk2ODgsNDA4LjUxNTYgNTEzLDQwOC42NDA2IDUxMy4xNDA2LDQwOC43NjU2IEM1MTMuMjgxMyw0MDguOTA2MyA1MTMuNTE1Niw0MDkuMDE1NiA1MTMuNzM0NCw0MDkuMDE1NiBDNTE0LDQwOS4wMTU2IDUxNC4yNjU2LDQwOC44NzUgNTE0LjQzNzUsNDA4LjY1NjMgQzUxNC41NDY5LDQwOC41IDUxNC41NzgxLDQwOC4zMTI1IDUxNC41NzgxLDQwNy44OTA2IEw1MTQuNTc4MSw0MDYuNDY4OCBDNTE0LjU3ODEsNDA2LjAzMTMgNTE0LjU2MjUsNDA1LjkwNjMgNTE0LjQ2ODgsNDA1Ljc1IEM1MTQuMzEyNSw0MDUuNDg0NCA1MTQuMDMxMyw0MDUuMzQzOCA1MTMuNzM0NCw0MDUuMzQzOCBDNTEzLjQzNzUsNDA1LjM0MzggNTEzLjIzNDQsNDA1LjQzNzUgNTEzLjAxNTYsNDA1Ljc1IEw1MTIuODQzOCw0MDUuNjcxOSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNSIgeD0iNTI0LjUiIHk9IjQxNC4xNTQzIj5Db25jcmV0ZVByb2R1Y3RBMTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI0OTYuNSIgeDI9IjY0MS41IiB5MT0iNDI2IiB5Mj0iNDI2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNDk2LjUiIHgyPSI2NDEuNSIgeTE9IjQzNCIgeTI9IjQzNCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg4IiB4PSI1MDEuNSIgeT0iNDQ4LjIxMDQiPittZXRob2QoKTp2b2lkPC90ZXh0PjwhLS1NRDU9W2EzMDFlOTlmNWQ3ZjA1YzNlZmEyZmQ1OWZiYTY0YjFkXQpjbGFzcyBDb25jcmV0ZVByb2R1Y3RBMi0tPjxyZWN0IGNvZGVMaW5lPSIxOSIgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZqZTBudGQ1bzdhZ28pIiBoZWlnaHQ9IjYwLjgwNDciIGlkPSJDb25jcmV0ZVByb2R1Y3RBMiIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMTQ4IiB4PSI2ODUiIHk9IjM5NCIvPjxlbGxpcHNlIGN4PSI3MDAiIGN5PSI0MTAiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNNzAyLjM0MzgsNDA1LjY3MTkgQzcwMS40MDYzLDQwNS4yMzQ0IDcwMC44MTI1LDQwNS4wOTM4IDY5OS45Mzc1LDQwNS4wOTM4IEM2OTcuMzEyNSw0MDUuMDkzOCA2OTUuMzEyNSw0MDcuMTcxOSA2OTUuMzEyNSw0MDkuODkwNiBMNjk1LjMxMjUsNDExLjAxNTYgQzY5NS4zMTI1LDQxMy41OTM4IDY5Ny40MjE5LDQxNS40ODQ0IDcwMC4zMTI1LDQxNS40ODQ0IEM3MDEuNTMxMyw0MTUuNDg0NCA3MDIuNjg3NSw0MTUuMTg3NSA3MDMuNDM3NSw0MTQuNjQwNiBDNzA0LjAxNTYsNDE0LjIzNDQgNzA0LjM0MzgsNDEzLjc4MTMgNzA0LjM0MzgsNDEzLjM5MDYgQzcwNC4zNDM4LDQxMi45Mzc1IDcwMy45NTMxLDQxMi41NDY5IDcwMy40ODQ0LDQxMi41NDY5IEM3MDMuMjY1Niw0MTIuNTQ2OSA3MDMuMDYyNSw0MTIuNjI1IDcwMi44NzUsNDEyLjgxMjUgQzcwMi40MjE5LDQxMy4yOTY5IDcwMi40MjE5LDQxMy4yOTY5IDcwMi4yMzQ0LDQxMy4zOTA2IEM3MDEuODEyNSw0MTMuNjU2MyA3MDEuMTI1LDQxMy43ODEzIDcwMC4zNTk0LDQxMy43ODEzIEM2OTguMzEyNSw0MTMuNzgxMyA2OTcuMDE1Niw0MTIuNjg3NSA2OTcuMDE1Niw0MTAuOTg0NCBMNjk3LjAxNTYsNDA5Ljg5MDYgQzY5Ny4wMTU2LDQwOC4xMDk0IDY5OC4yNjU2LDQwNi43OTY5IDcwMCw0MDYuNzk2OSBDNzAwLjU3ODEsNDA2Ljc5NjkgNzAxLjE4NzUsNDA2Ljk1MzEgNzAxLjY1NjMsNDA3LjIwMzEgQzcwMi4xNDA2LDQwNy40ODQ0IDcwMi4zMTI1LDQwNy43MDMxIDcwMi40MDYzLDQwOC4xMDk0IEM3MDIuNDY4OCw0MDguNTE1NiA3MDIuNSw0MDguNjQwNiA3MDIuNjQwNiw0MDguNzY1NiBDNzAyLjc4MTMsNDA4LjkwNjMgNzAzLjAxNTYsNDA5LjAxNTYgNzAzLjIzNDQsNDA5LjAxNTYgQzcwMy41LDQwOS4wMTU2IDcwMy43NjU2LDQwOC44NzUgNzAzLjkzNzUsNDA4LjY1NjMgQzcwNC4wNDY5LDQwOC41IDcwNC4wNzgxLDQwOC4zMTI1IDcwNC4wNzgxLDQwNy44OTA2IEw3MDQuMDc4MSw0MDYuNDY4OCBDNzA0LjA3ODEsNDA2LjAzMTMgNzA0LjA2MjUsNDA1LjkwNjMgNzAzLjk2ODgsNDA1Ljc1IEM3MDMuODEyNSw0MDUuNDg0NCA3MDMuNTMxMyw0MDUuMzQzOCA3MDMuMjM0NCw0MDUuMzQzOCBDNzAyLjkzNzUsNDA1LjM0MzggNzAyLjczNDQsNDA1LjQzNzUgNzAyLjUxNTYsNDA1Ljc1IEw3MDIuMzQzOCw0MDUuNjcxOSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNiIgeD0iNzE0IiB5PSI0MTQuMTU0MyI+Q29uY3JldGVQcm9kdWN0QTI8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNjg2IiB4Mj0iODMyIiB5MT0iNDI2IiB5Mj0iNDI2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNjg2IiB4Mj0iODMyIiB5MT0iNDM0IiB5Mj0iNDM0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODgiIHg9IjY5MSIgeT0iNDQ4LjIxMDQiPittZXRob2QoKTp2b2lkPC90ZXh0PjwhLS1NRDU9W2NjYzk2NDhmYjM2NjhiYjY4ODZkM2Q3N2RjODRlMGVhXQpjbGFzcyBDb25jcmV0ZVByb2R1Y3RCMS0tPjxyZWN0IGNvZGVMaW5lPSIyNCIgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZqZTBudGQ1bzdhZ28pIiBoZWlnaHQ9IjYwLjgwNDciIGlkPSJDb25jcmV0ZVByb2R1Y3RCMSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMTQ3IiB4PSI4Ny41IiB5PSIzOTQiLz48ZWxsaXBzZSBjeD0iMTAyLjUiIGN5PSI0MTAiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMTA0Ljg0MzgsNDA1LjY3MTkgQzEwMy45MDYzLDQwNS4yMzQ0IDEwMy4zMTI1LDQwNS4wOTM4IDEwMi40Mzc1LDQwNS4wOTM4IEM5OS44MTI1LDQwNS4wOTM4IDk3LjgxMjUsNDA3LjE3MTkgOTcuODEyNSw0MDkuODkwNiBMOTcuODEyNSw0MTEuMDE1NiBDOTcuODEyNSw0MTMuNTkzOCA5OS45MjE5LDQxNS40ODQ0IDEwMi44MTI1LDQxNS40ODQ0IEMxMDQuMDMxMyw0MTUuNDg0NCAxMDUuMTg3NSw0MTUuMTg3NSAxMDUuOTM3NSw0MTQuNjQwNiBDMTA2LjUxNTYsNDE0LjIzNDQgMTA2Ljg0MzgsNDEzLjc4MTMgMTA2Ljg0MzgsNDEzLjM5MDYgQzEwNi44NDM4LDQxMi45Mzc1IDEwNi40NTMxLDQxMi41NDY5IDEwNS45ODQ0LDQxMi41NDY5IEMxMDUuNzY1Niw0MTIuNTQ2OSAxMDUuNTYyNSw0MTIuNjI1IDEwNS4zNzUsNDEyLjgxMjUgQzEwNC45MjE5LDQxMy4yOTY5IDEwNC45MjE5LDQxMy4yOTY5IDEwNC43MzQ0LDQxMy4zOTA2IEMxMDQuMzEyNSw0MTMuNjU2MyAxMDMuNjI1LDQxMy43ODEzIDEwMi44NTk0LDQxMy43ODEzIEMxMDAuODEyNSw0MTMuNzgxMyA5OS41MTU2LDQxMi42ODc1IDk5LjUxNTYsNDEwLjk4NDQgTDk5LjUxNTYsNDA5Ljg5MDYgQzk5LjUxNTYsNDA4LjEwOTQgMTAwLjc2NTYsNDA2Ljc5NjkgMTAyLjUsNDA2Ljc5NjkgQzEwMy4wNzgxLDQwNi43OTY5IDEwMy42ODc1LDQwNi45NTMxIDEwNC4xNTYzLDQwNy4yMDMxIEMxMDQuNjQwNiw0MDcuNDg0NCAxMDQuODEyNSw0MDcuNzAzMSAxMDQuOTA2Myw0MDguMTA5NCBDMTA0Ljk2ODgsNDA4LjUxNTYgMTA1LDQwOC42NDA2IDEwNS4xNDA2LDQwOC43NjU2IEMxMDUuMjgxMyw0MDguOTA2MyAxMDUuNTE1Niw0MDkuMDE1NiAxMDUuNzM0NCw0MDkuMDE1NiBDMTA2LDQwOS4wMTU2IDEwNi4yNjU2LDQwOC44NzUgMTA2LjQzNzUsNDA4LjY1NjMgQzEwNi41NDY5LDQwOC41IDEwNi41NzgxLDQwOC4zMTI1IDEwNi41NzgxLDQwNy44OTA2IEwxMDYuNTc4MSw0MDYuNDY4OCBDMTA2LjU3ODEsNDA2LjAzMTMgMTA2LjU2MjUsNDA1LjkwNjMgMTA2LjQ2ODgsNDA1Ljc1IEMxMDYuMzEyNSw0MDUuNDg0NCAxMDYuMDMxMyw0MDUuMzQzOCAxMDUuNzM0NCw0MDUuMzQzOCBDMTA1LjQzNzUsNDA1LjM0MzggMTA1LjIzNDQsNDA1LjQzNzUgMTA1LjAxNTYsNDA1Ljc1IEwxMDQuODQzOCw0MDUuNjcxOSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNSIgeD0iMTE2LjUiIHk9IjQxNC4xNTQzIj5Db25jcmV0ZVByb2R1Y3RCMTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI4OC41IiB4Mj0iMjMzLjUiIHkxPSI0MjYiIHkyPSI0MjYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI4OC41IiB4Mj0iMjMzLjUiIHkxPSI0MzQiIHkyPSI0MzQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4OCIgeD0iOTMuNSIgeT0iNDQ4LjIxMDQiPittZXRob2QoKTp2b2lkPC90ZXh0PjwhLS1NRDU9W2MwODQyNzU5YWE2M2FlYzY0YTQ5ZDk5NTI0NDVhNzFjXQpjbGFzcyBDb25jcmV0ZVByb2R1Y3RCMi0tPjxyZWN0IGNvZGVMaW5lPSIyOSIgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZqZTBudGQ1bzdhZ28pIiBoZWlnaHQ9IjYwLjgwNDciIGlkPSJDb25jcmV0ZVByb2R1Y3RCMiIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMTQ4IiB4PSIyOTgiIHk9IjM5NCIvPjxlbGxpcHNlIGN4PSIzMTMiIGN5PSI0MTAiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMzE1LjM0MzgsNDA1LjY3MTkgQzMxNC40MDYzLDQwNS4yMzQ0IDMxMy44MTI1LDQwNS4wOTM4IDMxMi45Mzc1LDQwNS4wOTM4IEMzMTAuMzEyNSw0MDUuMDkzOCAzMDguMzEyNSw0MDcuMTcxOSAzMDguMzEyNSw0MDkuODkwNiBMMzA4LjMxMjUsNDExLjAxNTYgQzMwOC4zMTI1LDQxMy41OTM4IDMxMC40MjE5LDQxNS40ODQ0IDMxMy4zMTI1LDQxNS40ODQ0IEMzMTQuNTMxMyw0MTUuNDg0NCAzMTUuNjg3NSw0MTUuMTg3NSAzMTYuNDM3NSw0MTQuNjQwNiBDMzE3LjAxNTYsNDE0LjIzNDQgMzE3LjM0MzgsNDEzLjc4MTMgMzE3LjM0MzgsNDEzLjM5MDYgQzMxNy4zNDM4LDQxMi45Mzc1IDMxNi45NTMxLDQxMi41NDY5IDMxNi40ODQ0LDQxMi41NDY5IEMzMTYuMjY1Niw0MTIuNTQ2OSAzMTYuMDYyNSw0MTIuNjI1IDMxNS44NzUsNDEyLjgxMjUgQzMxNS40MjE5LDQxMy4yOTY5IDMxNS40MjE5LDQxMy4yOTY5IDMxNS4yMzQ0LDQxMy4zOTA2IEMzMTQuODEyNSw0MTMuNjU2MyAzMTQuMTI1LDQxMy43ODEzIDMxMy4zNTk0LDQxMy43ODEzIEMzMTEuMzEyNSw0MTMuNzgxMyAzMTAuMDE1Niw0MTIuNjg3NSAzMTAuMDE1Niw0MTAuOTg0NCBMMzEwLjAxNTYsNDA5Ljg5MDYgQzMxMC4wMTU2LDQwOC4xMDk0IDMxMS4yNjU2LDQwNi43OTY5IDMxMyw0MDYuNzk2OSBDMzEzLjU3ODEsNDA2Ljc5NjkgMzE0LjE4NzUsNDA2Ljk1MzEgMzE0LjY1NjMsNDA3LjIwMzEgQzMxNS4xNDA2LDQwNy40ODQ0IDMxNS4zMTI1LDQwNy43MDMxIDMxNS40MDYzLDQwOC4xMDk0IEMzMTUuNDY4OCw0MDguNTE1NiAzMTUuNSw0MDguNjQwNiAzMTUuNjQwNiw0MDguNzY1NiBDMzE1Ljc4MTMsNDA4LjkwNjMgMzE2LjAxNTYsNDA5LjAxNTYgMzE2LjIzNDQsNDA5LjAxNTYgQzMxNi41LDQwOS4wMTU2IDMxNi43NjU2LDQwOC44NzUgMzE2LjkzNzUsNDA4LjY1NjMgQzMxNy4wNDY5LDQwOC41IDMxNy4wNzgxLDQwOC4zMTI1IDMxNy4wNzgxLDQwNy44OTA2IEwzMTcuMDc4MSw0MDYuNDY4OCBDMzE3LjA3ODEsNDA2LjAzMTMgMzE3LjA2MjUsNDA1LjkwNjMgMzE2Ljk2ODgsNDA1Ljc1IEMzMTYuODEyNSw0MDUuNDg0NCAzMTYuNTMxMyw0MDUuMzQzOCAzMTYuMjM0NCw0MDUuMzQzOCBDMzE1LjkzNzUsNDA1LjM0MzggMzE1LjczNDQsNDA1LjQzNzUgMzE1LjUxNTYsNDA1Ljc1IEwzMTUuMzQzOCw0MDUuNjcxOSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNiIgeD0iMzI3IiB5PSI0MTQuMTU0MyI+Q29uY3JldGVQcm9kdWN0QjI8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMjk5IiB4Mj0iNDQ1IiB5MT0iNDI2IiB5Mj0iNDI2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMjk5IiB4Mj0iNDQ1IiB5MT0iNDM0IiB5Mj0iNDM0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODgiIHg9IjMwNCIgeT0iNDQ4LjIxMDQiPittZXRob2QoKTp2b2lkPC90ZXh0PjwhLS1NRDU9WzUzNmZlNzU3N2U4Y2YxOTU5N2VlODU4ODZiODJjZDZhXQpjbGFzcyBBYnN0cmFjdEZhY3RvcnktLT48cmVjdCBjb2RlTGluZT0iMzQiIGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmamUwbnRkNW83YWdvKSIgaGVpZ2h0PSI3My42MDk0IiBpZD0iQWJzdHJhY3RGYWN0b3J5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIyMTMiIHg9IjMyOS41IiB5PSIxMjYiLz48ZWxsaXBzZSBjeD0iMzgzLjc1IiBjeT0iMTQyIiBmaWxsPSIjQTlEQ0RGIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTM4NS44MjgxLDE0My44MTI1IEwzODYuMjE4OCwxNDQuNzk2OSBMMzg1LjgyODEsMTQ0Ljc5NjkgQzM4NS4zNzUsMTQ0Ljc5NjkgMzg1LjI2NTYsMTQ0LjgxMjUgMzg1LjEwOTQsMTQ0LjkyMTkgQzM4NC44NTk0LDE0NS4wNzgxIDM4NC43MDMxLDE0NS4zNTk0IDM4NC43MDMxLDE0NS42NTYzIEMzODQuNzAzMSwxNDUuOTIxOSAzODQuODQzOCwxNDYuMTcxOSAzODUuMDYyNSwxNDYuMzI4MSBDMzg1LjIwMzEsMTQ2LjQ1MzEgMzg1LjQwNjMsMTQ2LjUgMzg1LjgyODEsMTQ2LjUgTDM4OC4xODc1LDE0Ni41IEMzODguNTQ2OSwxNDYuNSAzODguNzY1NiwxNDYuNDY4OCAzODguOTA2MywxNDYuMzc1IEMzODkuMTU2MywxNDYuMjM0NCAzODkuMzEyNSwxNDUuOTM3NSAzODkuMzEyNSwxNDUuNjU2MyBDMzg5LjMxMjUsMTQ1LjM3NSAzODkuMTcxOSwxNDUuMTI1IDM4OC45NTMxLDE0NC45Njg4IEMzODguNzgxMywxNDQuODI4MSAzODguNjI1LDE0NC43OTY5IDM4OC4xNTYzLDE0NC43OTY5IEwzODQuNzY1NiwxMzYuNTkzOCBMMzgxLjA5MzgsMTM2LjU5MzggQzM4MC42NDA2LDEzNi41OTM4IDM4MC41MTU2LDEzNi42MDk0IDM4MC4zNTk0LDEzNi43MDMxIEMzODAuMTA5NCwxMzYuODc1IDM3OS45NTMxLDEzNy4xNTYzIDM3OS45NTMxLDEzNy40Mzc1IEMzNzkuOTUzMSwxMzcuNzE4OCAzODAuMDkzOCwxMzcuOTY4OCAzODAuMzEyNSwxMzguMTQwNiBDMzgwLjQ4NDQsMTM4LjI1IDM4MC42NTYzLDEzOC4yODEzIDM4MS4wOTM4LDEzOC4yODEzIEwzODIuMTcxOSwxMzguMjgxMyBMMzc5LjUzMTMsMTQ0Ljc5NjkgQzM3OS4xMDk0LDE0NC43OTY5IDM3OC45NTMxLDE0NC44MTI1IDM3OC43OTY5LDE0NC45MjE5IEMzNzguNTQ2OSwxNDUuMDc4MSAzNzguMzkwNiwxNDUuMzU5NCAzNzguMzkwNiwxNDUuNjU2MyBDMzc4LjM5MDYsMTQ2LjIxODggMzc4Ljc2NTYsMTQ2LjUgMzc5LjUxNTYsMTQ2LjUgTDM4MS43ODEzLDE0Ni41IEMzODIuMTQwNiwxNDYuNSAzODIuMzU5NCwxNDYuNDY4OCAzODIuNDg0NCwxNDYuMzc1IEMzODIuNzUsMTQ2LjIzNDQgMzgyLjg5MDYsMTQ1LjkzNzUgMzgyLjg5MDYsMTQ1LjY1NjMgQzM4Mi44OTA2LDE0NS4zNzUgMzgyLjc2NTYsMTQ1LjEyNSAzODIuNTQ2OSwxNDQuOTUzMSBDMzgyLjM3NSwxNDQuODI4MSAzODIuMjM0NCwxNDQuNzk2OSAzODEuNzgxMywxNDQuNzk2OSBMMzgxLjM5MDYsMTQ0Ljc5NjkgTDM4MS43ODEzLDE0My44MTI1IEwzODUuODI4MSwxNDMuODEyNSBaIE0zODUuMTI1LDE0Mi4xMDk0IEwzODIuNDUzMSwxNDIuMTA5NCBMMzgzLjc5NjksMTM4Ljg0MzggTDM4NS4xMjUsMTQyLjEwOTQgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk2IiB4PSI0MDQuMjUiIHk9IjE0Ni4xNTQzIj5BYnN0cmFjdEZhY3Rvcnk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMzMwLjUiIHgyPSI1NDEuNSIgeTE9IjE1OCIgeTI9IjE1OCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjMzMC41IiB4Mj0iNTQxLjUiIHkxPSIxNjYiIHkyPSIxNjYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDEiIHg9IjMzNS41IiB5PSIxODAuMjEwNCI+K2NyZWF0ZVByb2R1Y3RBKCk6QWJzdHJhY3RQcm9kdWN0QTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDEiIHg9IjMzNS41IiB5PSIxOTMuMDE1MSI+K2NyZWF0ZVByb2R1Y3RCKCk6QWJzdHJhY3RQcm9kdWN0QjwvdGV4dD48cGF0aCBkPSJNMzk5LjUsNDEgTDM5OS41LDY2LjEzMjggQTAsMCAwIDAgMCAzOTkuNSw2Ni4xMzI4IEw0MzIsNjYuMTMyOCBMNDM2LDEyNS44NCBMNDQwLDY2LjEzMjggTDQ3Mi41LDY2LjEzMjggQTAsMCAwIDAgMCA0NzIuNSw2Ni4xMzI4IEw0NzIuNSw1MSBMNDYyLjUsNDEgTDM5OS41LDQxIEEwLDAgMCAwIDAgMzk5LjUsNDEgIiBmaWxsPSIjRkJGQjc3IiBmaWx0ZXI9InVybCgjZmplMG50ZDVvN2FnbykiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik00NjIuNSw0MSBMNDYyLjUsNTEgTDQ3Mi41LDUxIEw0NjIuNSw0MSAiIGZpbGw9IiNGQkZCNzciIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUyIiB4PSI0MDUuNSIgeT0iNTguMDY2OSI+5oq96LGh5bel5Y6CPC90ZXh0PjwhLS1NRDU9WzQwMDMyYWZkZjNiN2JhMTEyMDZkODQ4ZjFiOTY1Mjk5XQpjbGFzcyBDb25jcmV0ZUZhY3RvcnkxLS0+PHJlY3QgY29kZUxpbmU9IjQxIiBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZmplMG50ZDVvN2FnbykiIGhlaWdodD0iNzMuNjA5NCIgaWQ9IkNvbmNyZXRlRmFjdG9yeTEiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjIxMyIgeD0iMjA1LjUiIHk9IjI2MCIvPjxlbGxpcHNlIGN4PSIyNTQuMjUiIGN5PSIyNzYiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMjU2LjU5MzgsMjcxLjY3MTkgQzI1NS42NTYzLDI3MS4yMzQ0IDI1NS4wNjI1LDI3MS4wOTM4IDI1NC4xODc1LDI3MS4wOTM4IEMyNTEuNTYyNSwyNzEuMDkzOCAyNDkuNTYyNSwyNzMuMTcxOSAyNDkuNTYyNSwyNzUuODkwNiBMMjQ5LjU2MjUsMjc3LjAxNTYgQzI0OS41NjI1LDI3OS41OTM4IDI1MS42NzE5LDI4MS40ODQ0IDI1NC41NjI1LDI4MS40ODQ0IEMyNTUuNzgxMywyODEuNDg0NCAyNTYuOTM3NSwyODEuMTg3NSAyNTcuNjg3NSwyODAuNjQwNiBDMjU4LjI2NTYsMjgwLjIzNDQgMjU4LjU5MzgsMjc5Ljc4MTMgMjU4LjU5MzgsMjc5LjM5MDYgQzI1OC41OTM4LDI3OC45Mzc1IDI1OC4yMDMxLDI3OC41NDY5IDI1Ny43MzQ0LDI3OC41NDY5IEMyNTcuNTE1NiwyNzguNTQ2OSAyNTcuMzEyNSwyNzguNjI1IDI1Ny4xMjUsMjc4LjgxMjUgQzI1Ni42NzE5LDI3OS4yOTY5IDI1Ni42NzE5LDI3OS4yOTY5IDI1Ni40ODQ0LDI3OS4zOTA2IEMyNTYuMDYyNSwyNzkuNjU2MyAyNTUuMzc1LDI3OS43ODEzIDI1NC42MDk0LDI3OS43ODEzIEMyNTIuNTYyNSwyNzkuNzgxMyAyNTEuMjY1NiwyNzguNjg3NSAyNTEuMjY1NiwyNzYuOTg0NCBMMjUxLjI2NTYsMjc1Ljg5MDYgQzI1MS4yNjU2LDI3NC4xMDk0IDI1Mi41MTU2LDI3Mi43OTY5IDI1NC4yNSwyNzIuNzk2OSBDMjU0LjgyODEsMjcyLjc5NjkgMjU1LjQzNzUsMjcyLjk1MzEgMjU1LjkwNjMsMjczLjIwMzEgQzI1Ni4zOTA2LDI3My40ODQ0IDI1Ni41NjI1LDI3My43MDMxIDI1Ni42NTYzLDI3NC4xMDk0IEMyNTYuNzE4OCwyNzQuNTE1NiAyNTYuNzUsMjc0LjY0MDYgMjU2Ljg5MDYsMjc0Ljc2NTYgQzI1Ny4wMzEzLDI3NC45MDYzIDI1Ny4yNjU2LDI3NS4wMTU2IDI1Ny40ODQ0LDI3NS4wMTU2IEMyNTcuNzUsMjc1LjAxNTYgMjU4LjAxNTYsMjc0Ljg3NSAyNTguMTg3NSwyNzQuNjU2MyBDMjU4LjI5NjksMjc0LjUgMjU4LjMyODEsMjc0LjMxMjUgMjU4LjMyODEsMjczLjg5MDYgTDI1OC4zMjgxLDI3Mi40Njg4IEMyNTguMzI4MSwyNzIuMDMxMyAyNTguMzEyNSwyNzEuOTA2MyAyNTguMjE4OCwyNzEuNzUgQzI1OC4wNjI1LDI3MS40ODQ0IDI1Ny43ODEzLDI3MS4zNDM4IDI1Ny40ODQ0LDI3MS4zNDM4IEMyNTcuMTg3NSwyNzEuMzQzOCAyNTYuOTg0NCwyNzEuNDM3NSAyNTYuNzY1NiwyNzEuNzUgTDI1Ni41OTM4LDI3MS42NzE5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA3IiB4PSIyNzQuNzUiIHk9IjI4MC4xNTQzIj5Db25jcmV0ZUZhY3RvcnkxPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjIwNi41IiB4Mj0iNDE3LjUiIHkxPSIyOTIiIHkyPSIyOTIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIyMDYuNSIgeDI9IjQxNy41IiB5MT0iMzAwIiB5Mj0iMzAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjAxIiB4PSIyMTEuNSIgeT0iMzE0LjIxMDQiPitjcmVhdGVQcm9kdWN0QSgpOkFic3RyYWN0UHJvZHVjdEE8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjAxIiB4PSIyMTEuNSIgeT0iMzI3LjAxNTEiPitjcmVhdGVQcm9kdWN0QigpOkFic3RyYWN0UHJvZHVjdEI8L3RleHQ+PCEtLU1ENT1bZTdiODRjZTI1MDVmZTc3ZDkyNGJhMTg2ODcxZDBiOGJdCmNsYXNzIENvbmNyZXRlRmFjdG9yeTItLT48cmVjdCBjb2RlTGluZT0iNDciIGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmamUwbnRkNW83YWdvKSIgaGVpZ2h0PSI3My42MDk0IiBpZD0iQ29uY3JldGVGYWN0b3J5MiIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMjEzIiB4PSI0NTMuNSIgeT0iMjYwIi8+PGVsbGlwc2UgY3g9IjUwMS43NSIgY3k9IjI3NiIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik01MDQuMDkzOCwyNzEuNjcxOSBDNTAzLjE1NjMsMjcxLjIzNDQgNTAyLjU2MjUsMjcxLjA5MzggNTAxLjY4NzUsMjcxLjA5MzggQzQ5OS4wNjI1LDI3MS4wOTM4IDQ5Ny4wNjI1LDI3My4xNzE5IDQ5Ny4wNjI1LDI3NS44OTA2IEw0OTcuMDYyNSwyNzcuMDE1NiBDNDk3LjA2MjUsMjc5LjU5MzggNDk5LjE3MTksMjgxLjQ4NDQgNTAyLjA2MjUsMjgxLjQ4NDQgQzUwMy4yODEzLDI4MS40ODQ0IDUwNC40Mzc1LDI4MS4xODc1IDUwNS4xODc1LDI4MC42NDA2IEM1MDUuNzY1NiwyODAuMjM0NCA1MDYuMDkzOCwyNzkuNzgxMyA1MDYuMDkzOCwyNzkuMzkwNiBDNTA2LjA5MzgsMjc4LjkzNzUgNTA1LjcwMzEsMjc4LjU0NjkgNTA1LjIzNDQsMjc4LjU0NjkgQzUwNS4wMTU2LDI3OC41NDY5IDUwNC44MTI1LDI3OC42MjUgNTA0LjYyNSwyNzguODEyNSBDNTA0LjE3MTksMjc5LjI5NjkgNTA0LjE3MTksMjc5LjI5NjkgNTAzLjk4NDQsMjc5LjM5MDYgQzUwMy41NjI1LDI3OS42NTYzIDUwMi44NzUsMjc5Ljc4MTMgNTAyLjEwOTQsMjc5Ljc4MTMgQzUwMC4wNjI1LDI3OS43ODEzIDQ5OC43NjU2LDI3OC42ODc1IDQ5OC43NjU2LDI3Ni45ODQ0IEw0OTguNzY1NiwyNzUuODkwNiBDNDk4Ljc2NTYsMjc0LjEwOTQgNTAwLjAxNTYsMjcyLjc5NjkgNTAxLjc1LDI3Mi43OTY5IEM1MDIuMzI4MSwyNzIuNzk2OSA1MDIuOTM3NSwyNzIuOTUzMSA1MDMuNDA2MywyNzMuMjAzMSBDNTAzLjg5MDYsMjczLjQ4NDQgNTA0LjA2MjUsMjczLjcwMzEgNTA0LjE1NjMsMjc0LjEwOTQgQzUwNC4yMTg4LDI3NC41MTU2IDUwNC4yNSwyNzQuNjQwNiA1MDQuMzkwNiwyNzQuNzY1NiBDNTA0LjUzMTMsMjc0LjkwNjMgNTA0Ljc2NTYsMjc1LjAxNTYgNTA0Ljk4NDQsMjc1LjAxNTYgQzUwNS4yNSwyNzUuMDE1NiA1MDUuNTE1NiwyNzQuODc1IDUwNS42ODc1LDI3NC42NTYzIEM1MDUuNzk2OSwyNzQuNSA1MDUuODI4MSwyNzQuMzEyNSA1MDUuODI4MSwyNzMuODkwNiBMNTA1LjgyODEsMjcyLjQ2ODggQzUwNS44MjgxLDI3Mi4wMzEzIDUwNS44MTI1LDI3MS45MDYzIDUwNS43MTg4LDI3MS43NSBDNTA1LjU2MjUsMjcxLjQ4NDQgNTA1LjI4MTMsMjcxLjM0MzggNTA0Ljk4NDQsMjcxLjM0MzggQzUwNC42ODc1LDI3MS4zNDM4IDUwNC40ODQ0LDI3MS40Mzc1IDUwNC4yNjU2LDI3MS43NSBMNTA0LjA5MzgsMjcxLjY3MTkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDgiIHg9IjUyMi4yNSIgeT0iMjgwLjE1NDMiPkNvbmNyZXRlRmFjdG9yeTI8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNDU0LjUiIHgyPSI2NjUuNSIgeTE9IjI5MiIgeTI9IjI5MiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjQ1NC41IiB4Mj0iNjY1LjUiIHkxPSIzMDAiIHkyPSIzMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDEiIHg9IjQ1OS41IiB5PSIzMTQuMjEwNCI+K2NyZWF0ZVByb2R1Y3RBKCk6QWJzdHJhY3RQcm9kdWN0QTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMDEiIHg9IjQ1OS41IiB5PSIzMjcuMDE1MSI+K2NyZWF0ZVByb2R1Y3RCKCk6QWJzdHJhY3RQcm9kdWN0QjwvdGV4dD48IS0tTUQ1PVs1Y2I2MGNiMzFkZWE0OTRiYTU2MzJlNzM1ZTEyNjIxN10KcmV2ZXJzZSBsaW5rIEFic3RyYWN0UHJvZHVjdEEgdG8gQ29uY3JldGVQcm9kdWN0QTEtLT48cGF0aCBjb2RlTGluZT0iNTMiIGQ9Ik03MDUuOTg4LDMzOC4zOTEgQzY3Ni45MzUsMzU2LjQ0MiA2NDMuMzEsMzc3LjMzMiA2MTYuNjQ1LDM5My44OTg2ICIgZmlsbD0ibm9uZSIgaWQ9IkFic3RyYWN0UHJvZHVjdEEtYmFja3RvLUNvbmNyZXRlUHJvZHVjdEExIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjcwMi43MDIsMzMyLjE5Miw3MjMuMzg1LDMyNy41ODMsNzEwLjA5LDM0NC4wODMsNzAyLjcwMiwzMzIuMTkyIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48IS0tTUQ1PVtlZmI1YTdiMjg5YTJlMGMwNWEyNzlkNmIyYTJlODhjMV0KcmV2ZXJzZSBsaW5rIEFic3RyYWN0UHJvZHVjdEEgdG8gQ29uY3JldGVQcm9kdWN0QTItLT48cGF0aCBjb2RlTGluZT0iNTQiIGQ9Ik03NjYuMjUsMzQ3LjY4MSBDNzY0Ljc1MSwzNjMuMzU3IDc2My4xNDMsMzgwLjE3MSA3NjEuODIzLDM5My45NzE3ICIgZmlsbD0ibm9uZSIgaWQ9IkFic3RyYWN0UHJvZHVjdEEtYmFja3RvLUNvbmNyZXRlUHJvZHVjdEEyIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9Ijc1OS4yODQsMzQ2Ljk4NSw3NjguMTU2LDMyNy43NDIsNzczLjIyMSwzNDguMzE3LDc1OS4yODQsMzQ2Ljk4NSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bZmQyMjViZTFlNTdjZTdiN2VkOTgxMmJlYjk4MjY3N2VdCnJldmVyc2UgbGluayBBYnN0cmFjdFByb2R1Y3RCIHRvIENvbmNyZXRlUHJvZHVjdEIxLS0+PHBhdGggY29kZUxpbmU9IjU1IiBkPSJNMTIzLjg2NiwzNDUuODI3IEMxMzEuNjA4LDM2Mi4wMjIgMTQwLjAyNCwzNzkuNjI1IDE0Ni44ODMsMzkzLjk3MTcgIiBmaWxsPSJub25lIiBpZD0iQWJzdHJhY3RQcm9kdWN0Qi1iYWNrdG8tQ29uY3JldGVQcm9kdWN0QjEiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMTE3LjUzLDM0OC44MDUsMTE1LjIxOSwzMjcuNzQyLDEzMC4xNjEsMzQyLjc2NiwxMTcuNTMsMzQ4LjgwNSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bZmNmMTc5OTAwMWNhZGVkYTdkMGM0YzczY2U0Y2QyYmVdCnJldmVyc2UgbGluayBBYnN0cmFjdFByb2R1Y3RCIHRvIENvbmNyZXRlUHJvZHVjdEIyLS0+PHBhdGggY29kZUxpbmU9IjU2IiBkPSJNMTgzLjI4OSwzMzYuMTA4IEMyMjMuMzUsMzU0LjY2IDI3MC43ODgsMzc2LjYyOSAzMDguMDgsMzkzLjg5ODYgIiBmaWxsPSJub25lIiBpZD0iQWJzdHJhY3RQcm9kdWN0Qi1iYWNrdG8tQ29uY3JldGVQcm9kdWN0QjIiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMTgwLjA4NywzNDIuMzM5LDE2NC44OCwzMjcuNTgzLDE4NS45NywzMjkuNjM1LDE4MC4wODcsMzQyLjMzOSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bOTAxOGUwOTU1ZDM4ZGJkOWU2MmRiZmNhMTY2NWNlODldCnJldmVyc2UgbGluayBBYnN0cmFjdEZhY3RvcnkgdG8gQ29uY3JldGVGYWN0b3J5MS0tPjxwYXRoIGNvZGVMaW5lPSI1NyIgZD0iTTM4OC40MDIsMjE0LjY2OSBDMzc0LjIxNCwyMjkuNzcyIDM1OC45NjEsMjQ2LjAxIDM0NS44NDMsMjU5Ljk3NCAiIGZpbGw9Im5vbmUiIGlkPSJBYnN0cmFjdEZhY3RvcnktYmFja3RvLUNvbmNyZXRlRmFjdG9yeTEiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMzgzLjMyMSwyMDkuODU0LDQwMi4xMTYsMjAwLjA3LDM5My41MjUsMjE5LjQzOSwzODMuMzIxLDIwOS44NTQiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjwhLS1NRDU9W2FhYjBlYTE0NzU5MGRmZTYyYzdiYWY1YTY1ZTM5OWZiXQpyZXZlcnNlIGxpbmsgQWJzdHJhY3RGYWN0b3J5IHRvIENvbmNyZXRlRmFjdG9yeTItLT48cGF0aCBjb2RlTGluZT0iNTgiIGQ9Ik00ODMuNTk4LDIxNC42NjkgQzQ5Ny43ODYsMjI5Ljc3MiA1MTMuMDM5LDI0Ni4wMSA1MjYuMTU3LDI1OS45NzQgIiBmaWxsPSJub25lIiBpZD0iQWJzdHJhY3RGYWN0b3J5LWJhY2t0by1Db25jcmV0ZUZhY3RvcnkyIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjQ3OC40NzUsMjE5LjQzOSw0NjkuODg0LDIwMC4wNyw0ODguNjc5LDIwOS44NTQsNDc4LjQ3NSwyMTkuNDM5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48IS0tTUQ1PVs5YzRiYjQ1ZmMwNmJkZjIyZTdkM2M0ZWRmMWNlYTU1OV0KbGluayBDb25jcmV0ZUZhY3RvcnkxIHRvIENvbmNyZXRlUHJvZHVjdEExLS0+PHBhdGggY29kZUxpbmU9IjU5IiBkPSJNMzg1Ljk5LDMzNC4xMzEgQzQyMy4xNzIsMzUyLjI4OCA0NjcuODI4LDM3NC4wOTUgNTAzLjcyLDM5MS42MjIxICIgZmlsbD0ibm9uZSIgaWQ9IkNvbmNyZXRlRmFjdG9yeTEtdG8tQ29uY3JldGVQcm9kdWN0QTEiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjUwOC41LDM5My45NTYyLDUwMi4xNjg0LDM4Ni40MTIzLDUwNC4wMDcyLDM5MS43NjE5LDQ5OC42NTc2LDM5My42MDA4LDUwOC41LDM5My45NTYyIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48IS0tTUQ1PVs4MWQ2YjgwMzBlN2I0YmJjYWEzYjg3OGJkZjU5YmNhN10KbGluayBDb25jcmV0ZUZhY3RvcnkxIHRvIENvbmNyZXRlUHJvZHVjdEIxLS0+PHBhdGggY29kZUxpbmU9IjYwIiBkPSJNMjY4LjMyNSwzMzQuMyBDMjQ3LjA5NCwzNTEuOTQ1IDIyMS43NTMsMzczLjAwNyAyMDEuMDI3LDM5MC4yMzIyICIgZmlsbD0ibm9uZSIgaWQ9IkNvbmNyZXRlRmFjdG9yeTEtdG8tQ29uY3JldGVQcm9kdWN0QjEiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjE5Ni45NDYsMzkzLjYyNCwyMDYuNDI0MywzOTAuOTQ3OSwyMDAuNzkxNCwzOTAuNDI4MiwyMDEuMzExLDM4NC43OTUzLDE5Ni45NDYsMzkzLjYyNCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bOTkxMjEzNzA4ODQxYTVjOWZlMDY3MjYwMmI4M2ZiNzFdCmxpbmsgQ29uY3JldGVGYWN0b3J5MiB0byBDb25jcmV0ZVByb2R1Y3RBMi0tPjxwYXRoIGNvZGVMaW5lPSI2MSIgZD0iTTYxNy4yOTIsMzM0LjEzMSBDNjQ1Ljg0OCwzNTIuMTQgNjgwLjA5NiwzNzMuNzM5IDcwNy43NzEsMzkxLjE5MiAiIGZpbGw9Im5vbmUiIGlkPSJDb25jcmV0ZUZhY3RvcnkyLXRvLUNvbmNyZXRlUHJvZHVjdEEyIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI3MTIuMTU0LDM5My45NTYyLDcwNi42NzUxLDM4NS43NzIsNzA3LjkyNDgsMzkxLjI4OTEsNzAyLjQwNzcsMzkyLjUzODgsNzEyLjE1NCwzOTMuOTU2MiIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bNmZjNTBkNjI4MDI4ZDI2NjkyMDFhODQwYWQ4ZjE3NjRdCmxpbmsgQ29uY3JldGVGYWN0b3J5MiB0byBDb25jcmV0ZVByb2R1Y3RCMi0tPjxwYXRoIGNvZGVMaW5lPSI2MiIgZD0iTTUwNS44NzUsMzM0LjEzMSBDNDc5LjAwOSwzNTIuMDY2IDQ0Ni44MDgsMzczLjU2MiA0MjAuNzIxLDM5MC45NzYzICIgZmlsbD0ibm9uZSIgaWQ9IkNvbmNyZXRlRmFjdG9yeTItdG8tQ29uY3JldGVQcm9kdWN0QjIiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjQxNi4yNTcsMzkzLjk1NjIsNDI1Ljk2MzMsMzkyLjI4NjcsNDIwLjQxNTcsMzkxLjE4MDQsNDIxLjUyMiwzODUuNjMyOCw0MTYuMjU3LDM5My45NTYyIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48IS0tTUQ1PVs5YWFiYTU5NWM5YjFkZjk0YmU1Njc3NmYwMzQ5YTE1Yl0KQHN0YXJ0dW1sDQpza2lucGFyYW0gY2xhc3NBdHRyaWJ1dGVJY29uU2l6ZSAwDQoNCnBhY2thZ2UgImNsYXNzIEFic3RyYWN0RmFjdG9yeSjmir3osaHlt6XljoLmqKHlvI8pIiAjRkZGRkZGIHsNCiAgICBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdFByb2R1Y3RBDQogICAgew0KICAgICttZXRob2QoKTp2b2lkDQogICAgfQ0KDQogICAgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RQcm9kdWN0Qg0KICAgIHsNCiAgICArbWV0aG9kKCk6dm9pZA0KICAgIH0NCg0KICAgIGNsYXNzIENvbmNyZXRlUHJvZHVjdEExDQogICAgew0KICAgICttZXRob2QoKTp2b2lkDQogICAgfQ0KDQogICAgY2xhc3MgQ29uY3JldGVQcm9kdWN0QTINCiAgICB7DQogICAgK21ldGhvZCgpOnZvaWQNCiAgICB9DQoNCiAgICBjbGFzcyBDb25jcmV0ZVByb2R1Y3RCMQ0KICAgIHsNCiAgICArbWV0aG9kKCk6dm9pZA0KICAgIH0NCg0KICAgIGNsYXNzIENvbmNyZXRlUHJvZHVjdEIyDQogICAgew0KICAgICttZXRob2QoKTp2b2lkDQogICAgfQ0KDQogICAgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RGYWN0b3J5DQogICAgew0KICAgICtjcmVhdGVQcm9kdWN0QSgpOkFic3RyYWN0UHJvZHVjdEENCiAgICArY3JlYXRlUHJvZHVjdEIoKTpBYnN0cmFjdFByb2R1Y3RCDQogICAgfQ0KICAgIG5vdGUgdG9wIG9mIEFic3RyYWN0RmFjdG9yeTog5oq96LGh5bel5Y6CDQoNCiAgICBjbGFzcyBDb25jcmV0ZUZhY3RvcnkxDQogICAgew0KICAgICtjcmVhdGVQcm9kdWN0QSgpOkFic3RyYWN0UHJvZHVjdEENCiAgICArY3JlYXRlUHJvZHVjdEIoKTpBYnN0cmFjdFByb2R1Y3RCDQogICAgfQ0KDQogICAgY2xhc3MgQ29uY3JldGVGYWN0b3J5Mg0KICAgIHsNCiAgICArY3JlYXRlUHJvZHVjdEEoKTpBYnN0cmFjdFByb2R1Y3RBDQogICAgK2NyZWF0ZVByb2R1Y3RCKCk6QWJzdHJhY3RQcm9kdWN0Qg0KICAgIH0NCg0KICAgIEFic3RyYWN0UHJvZHVjdEEgPHwtIC0gQ29uY3JldGVQcm9kdWN0QTENCiAgICBBYnN0cmFjdFByb2R1Y3RBIDx8LSAtIENvbmNyZXRlUHJvZHVjdEEyDQogICAgQWJzdHJhY3RQcm9kdWN0QiA8fC0gLSBDb25jcmV0ZVByb2R1Y3RCMQ0KICAgIEFic3RyYWN0UHJvZHVjdEIgPHwtIC0gQ29uY3JldGVQcm9kdWN0QjINCiAgICBBYnN0cmFjdEZhY3RvcnkgPHwtIC0gQ29uY3JldGVGYWN0b3J5MQ0KICAgIEFic3RyYWN0RmFjdG9yeSA8fC0gLSBDb25jcmV0ZUZhY3RvcnkyDQogICAgQ29uY3JldGVGYWN0b3J5MSAuLj4gQ29uY3JldGVQcm9kdWN0QTENCiAgICBDb25jcmV0ZUZhY3RvcnkxIC4uPiBDb25jcmV0ZVByb2R1Y3RCMQ0KICAgIENvbmNyZXRlRmFjdG9yeTIgLi4+IENvbmNyZXRlUHJvZHVjdEEyDQogICAgQ29uY3JldGVGYWN0b3J5MiAuLj4gQ29uY3JldGVQcm9kdWN0QjINCn0NCkBlbmR1bWwNCgpQbGFudFVNTCB2ZXJzaW9uIDEuMjAyMS4wMWJldGEzKFVua25vd24gY29tcGlsZSB0aW1lKQooR1BMIHNvdXJjZSBkaXN0cmlidXRpb24pCkphdmEgUnVudGltZTogSmF2YShUTSkgU0UgUnVudGltZSBFbnZpcm9ubWVudApKVk06IEphdmEgSG90U3BvdChUTSkgNjQtQml0IFNlcnZlciBWTQpEZWZhdWx0IEVuY29kaW5nOiBVVEYtOApMYW5ndWFnZTogZW4KQ291bnRyeTogVVMKLS0+PC9nPjwvc3ZnPg=='>


<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">digraph &#123;</span><br><span class="line">  node [shape&#x3D;&quot;record&quot;]</span><br><span class="line">  man[label&#x3D;&quot;&#123;Man|name:string|&lt;age&gt;age:number|isAdmin:boolean｜&lt;phone&gt;phone:Phone&#125;&quot;]</span><br><span class="line">  phone[label&#x3D;&quot;&#123;Phone|id:number|&lt;type&gt;type:string&#125;&quot;]</span><br><span class="line">  plain[label&#x3D;&quot;&#123;Plain|&lt;key1&gt;key1:aaa|key2:bbb&#125;&quot;]</span><br><span class="line">  </span><br><span class="line">  man:phone-&gt;phone</span><br><span class="line">  man:age-&gt;plain:key1 [color&#x3D;&quot;red&quot;]</span><br><span class="line">  phone:type-&gt;plain:key1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>mysql</tag>
        <tag>innodb</tag>
      </tags>
  </entry>
  <entry>
    <title>mysql-日志</title>
    <url>/2020/08/30/2020-08-30-mysql-%E6%97%A5%E5%BF%97/</url>
    <content><![CDATA[<p>mysql中比较关心的日志主要有binlog，redolog，undolog。其中binlog为mysql server层的日志用来进行备份使用。redolog和undolog是innodb存储引擎的日志用来保证事务的持久性以及mvcc实现。</p>
<h3 id="日志的分类"><a href="#日志的分类" class="headerlink" title="日志的分类"></a>日志的分类</h3><p>按日志保存的内容可以分为逻辑日志和物理日志，物理日志保留的是文件的内容，通过直接覆盖就可以恢复，并且是幂等的（同一份日志应用多次结果是一样的。），逻辑日志一般记录的是更改文件相关的语句或事件，通过软件应用相同的语句和事件达到恢复文件内容的目的。</p>
<h3 id="binlog"><a href="#binlog" class="headerlink" title="binlog"></a>binlog</h3><p>mysql中的binlog为逻辑日志，且有三种模式（语句，行，混合形式）推荐使用行的模式。binlog中的内容在事务提交时保存到磁盘中，一个事务只会写一次磁盘。</p>
<h3 id="redolog"><a href="#redolog" class="headerlink" title="redolog"></a>redolog</h3><p>innodb引擎中的redolog为物理日志（记录的是在页面上做的修改内容）。mysql使用wal的方式来保证数据库发生异常时确保事务的持久性。更新数据时，innodb会先把需要更新的内容写入redolog中，并更新内存中的数据，当innodb_flush_log_at_trx_commit=1时事务提交时redolog中的内容会保存到磁盘中。而内存中的数据即使没有保存到磁盘中后续也可可以通过redolog进行恢复。（数据的更新一般是随机写，而redolog是顺序写因此性能会高）</p>
<p>为了保证redolog和binlog数据的一致性，redolog引入了两阶段提交，步骤如下图所示：</p>
<p><img src="https://cdn.nlark.com/yuque/0/2020/svg/2006869/1598786884209-601c2b70-1908-4e88-8e7d-b83b8f95ec9a.svg"></p>
<p>事务提交时redolog写入磁盘同时记录为prepare状态，成功后binlog写入磁盘，最后redolog标记事务为commit状态。（三个步骤中都会记录txid）。</p>
<p>页通过对比LSN来判断是否需要进行恢复。</p>
<p><small>redolog是按512k大小写磁盘的因此不需要像数据缓存一样刷两次磁盘</small></p>
<h4 id="异常恢复（binlog与redolog一致性）"><a href="#异常恢复（binlog与redolog一致性）" class="headerlink" title="异常恢复（binlog与redolog一致性）"></a>异常恢复（binlog与redolog一致性）</h4><ol>
<li>在①时发生错误，事务提交失败，binlog也不会写入磁盘，不需要进行任何处理。</li>
<li>在②时发生错误，redolog为prepare状态，binlog未写入磁盘，需要进行回滚操作。</li>
<li>在③时发生错误，redolog为prepare状态，binlog已经写入磁盘，此时事务少一个commit状态，需要进行commit操作。</li>
</ol>
<blockquote>
<p>通过redolog中prepare状态的txid在binlog中判断是否存在，如果存在则提交事务，否则回滚事务。</p>
</blockquote>
<h3 id="undolog"><a href="#undolog" class="headerlink" title="undolog"></a>undolog</h3><p>undolog用来保存数据被更新之前的内容，一是用来进行回滚，另外是用来实现MVCC，可以找到该数据之前的版本信息。其中insert的undolog在事务提交时就可以删除，但是update的undolog则不行，需要等到使用了该数据的所有事务都提交后才能删除。</p>
]]></content>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>一分钟经理人读后感</title>
    <url>/2020/10/17/%E4%B8%80%E5%88%86%E9%92%9F%E7%BB%8F%E7%90%86%E4%BA%BA%E8%AF%BB%E5%90%8E%E6%84%9F/</url>
    <content><![CDATA[<p>&lt;&lt;一分钟经理人&gt;&gt;读书分享。<br>文中描写了一个年轻人寻找高效率经理，通过和“一分钟经理人”的交流，自己也学得了“一分钟经理人”的三个诀窍并成为了一个“一分钟经理人”的故事。书中说明了管理的三个诀窍，以及三个诀窍为什么会有作用。</p>
<p>一、一分钟目标<br>目标是个人或组织期望的结果，是大家达成一致的，并且有达成目标的具体措施，其次每天需要检查自己的行为是否符合目标。</p>
<p>书中通过打保龄球举例说明为什么一分钟目标有效，因为打保龄球时投球者能明确的知道他的目标，并且每次投球后能马上得到反馈。但是平时工作中如果目标不明确，并且对自己干得好坏都不清楚，就会变得动力不足，得过且过。通过目标的定义员工清楚的知道自己的目标是什么，同时管理者可以在目标执行过程中通过阶段性成果进行检测，及时给出表扬或者批评来帮助员工成长。</p>
<p>二、一分钟表扬<br>及时告诉员工哪些具体的内容做得对，表达你的情绪你为他们作对的事情感到高兴，并且作对的事情产生了哪些好的影响，同时鼓励他们再接再厉。</p>
<p>书中通过训练鸽子踩跳板的例子进行说明，不要只有完成目标时才给予奖励，而是应该在朝着目标前进的路上及时给予奖励，这样才会知道做的事情是正确的，并且朝着目标前进，否则有可能因为达不到目标而直接饿死。因此发现员工有做的好的事情需要及时表扬，让他知道自己在朝着目标前进，并且做的还不错，还可以加强他们的信心。</p>
<p>三、一分钟批评<br>及时指出员工犯了什么错误，告诉他们你对此事的感受，强调你所不满的是他们工作的失误而不是他们本人，同时要告诉他们你是相信他们能做好的对他们充满信心。</p>
<p>因为一分钟批评是及时的，而不是事后，或者是一段时间后把所有的错误拿出来讲，员工更加容易接受，并且不会出现因为时间太长而出现事实不清的情况。同时避免了平时不管只有在绩效考核时再算账的问题。</p>
<p>感想：<br>通过和员工一起制定目标，同时根据员工完成目标的难度进行适当的检查，发现做的好的及时表扬，发现做得不好的及时批评，组织内的员工都清楚自己的目标，并且知道哪些方面做得好，哪些方面得加强，通过一个个目标的实现一方面提高了员工自身的能力，另一方面提高了组织的效率。同时组织内员工也会模仿与学习管理者，从而形成一个团队的管理风格。</p>
]]></content>
  </entry>
  <entry>
    <title>可复制的领导力</title>
    <url>/2020/09/23/%E5%8F%AF%E5%A4%8D%E5%88%B6%E7%9A%84%E9%A2%86%E5%AF%BC%E5%8A%9B/</url>
    <content><![CDATA[<h4 id="领导力的四重修炼"><a href="#领导力的四重修炼" class="headerlink" title="领导力的四重修炼"></a>领导力的四重修炼</h4><ul>
<li>建立信任。</li>
<li>建立团队。</li>
<li>建立体系。</li>
<li>建立文化。</li>
</ul>
<h4 id="明确角色定位"><a href="#明确角色定位" class="headerlink" title="明确角色定位"></a>明确角色定位</h4><p>管理就是通过别人完成任务。管理者在团队中有三种角色：下层执行，中层管理，上层领导。</p>
<ul>
<li>下层执行：使命必达。</li>
<li>中层管理：面面俱到。</li>
<li>高层领导：营造氛围。</li>
</ul>
<h4 id="游戏化组织，让工作变得更有趣"><a href="#游戏化组织，让工作变得更有趣" class="headerlink" title="游戏化组织，让工作变得更有趣"></a>游戏化组织，让工作变得更有趣</h4><ul>
<li>设定明确的团队愿景。</li>
<li>制定清晰的游戏规则。</li>
<li>建立及时的反馈系统。</li>
<li>自愿参与的游戏机制。<ul>
<li>找到自愿参与的人。</li>
<li>为员工设置期望值。</li>
<li>用协议时刻提醒员工。 </li>
</ul>
</li>
</ul>
<h4 id="理清关系，打造团队一致性"><a href="#理清关系，打造团队一致性" class="headerlink" title="理清关系，打造团队一致性"></a>理清关系，打造团队一致性</h4><p>团队就是“球队”，目标是“赢球”。</p>
<ul>
<li>把你要员工做的事，变成他自己要做的事。</li>
<li>强化员工为自己工作的观念。</li>
<li>用共同的目标管理。</li>
<li>适度有效授权。</li>
<li>前员工是熟人，而非路人。<ul>
<li>给现有员工的示范作用。</li>
<li>维护企业的口碑。</li>
<li>为企业带来新的发展机遇。</li>
</ul>
</li>
</ul>
<h4 id="用目标管人，而不是人管人"><a href="#用目标管人，而不是人管人" class="headerlink" title="用目标管人，而不是人管人"></a>用目标管人，而不是人管人</h4><ul>
<li>方向型目标：是团队奋斗的大方向，像灯塔一样，指引者团队成员奋斗。</li>
<li>过程型目标：是团队近期可以达到的效果，具有一定的逻辑性，结构性也比较强。</li>
<li>理性清晰的具体目标：指一些具体的数据指标。</li>
</ul>
<h4 id="目标管理的四大难题"><a href="#目标管理的四大难题" class="headerlink" title="目标管理的四大难题"></a>目标管理的四大难题</h4><ul>
<li>成员参与度不高，执行积极性不高。<ul>
<li>目标的制定需要团队成员参与。</li>
<li>对目标的理解达成一致。</li>
<li>目标的管理中地位平等。</li>
</ul>
</li>
<li>资源匮乏。<ul>
<li>用突破性思维寻找解决问题，寻求上级支持。</li>
</ul>
</li>
<li>目标拆分不合理。<ul>
<li>需要根据实际情况进行具体评估。</li>
</ul>
</li>
<li>目标总在变化。<ul>
<li>理解企业决定。</li>
<li>提前准备预案。</li>
</ul>
</li>
</ul>
<h4 id="沟通"><a href="#沟通" class="headerlink" title="沟通"></a>沟通</h4><p>沟通视窗：</p>
<p>| |自己知道|自己不知道|<br>-|-|-|-<br><strong>他人知道</strong>|公开象限|盲点象限|<br><strong>他人不知道</strong>|隐私象限|潜能象限</p>
<p>可以通过 <strong>自我揭示</strong> 和 <strong>恳请反馈</strong> 扩大公开象限，公开象限大则其社会影响力大，人们会产生信任感。让员工尊重你而不是怕你。</p>
<p><em>不要轻视每一位员工的潜能</em></p>
<h4 id="倾听"><a href="#倾听" class="headerlink" title="倾听"></a>倾听</h4><ul>
<li>深呼吸：稳定情绪。</li>
<li>提问：和对方做更多的交流和沟通。</li>
<li>复述：确认信息的一致性。</li>
</ul>
<h4 id="及时反馈"><a href="#及时反馈" class="headerlink" title="及时反馈"></a>及时反馈</h4><ul>
<li>不用绩效考核代替反馈，不能只有最终结果，而是在过程当中就需要指正或者帮助员工成长，而不是告诉员工差的结果。</li>
<li>避免推理，而应该讲事实情况。</li>
<li>反馈时需要讲具体的事实，避免员工觉得是敷衍。</li>
</ul>
<h4 id="有效利用时间"><a href="#有效利用时间" class="headerlink" title="有效利用时间"></a>有效利用时间</h4><p>尽量把精力集中在<strong>重要不紧急</strong>的事情下提前做好准备，<strong>避免</strong>出现重要紧急的事情</p>
<p>使用六顶思维帽做决策。</p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>领导的核心是需要培养员工，平时和员工建立好的人际关系，才能在“批评”员工时使得员工不会觉得有针对性和害怕，而是为员工好。同时在指导员工过程中要给予及时的反馈，而不是放任不管只在最后告诉员工表现差。</p>
]]></content>
      <categories>
        <category>领导力</category>
      </categories>
      <tags>
        <tag>领导力</tag>
      </tags>
  </entry>
  <entry>
    <title>设计模式-创建型</title>
    <url>/2020/09/28/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%9B%E5%BB%BA%E5%9E%8B/</url>
    <content><![CDATA[<h3 id="创建模式"><a href="#创建模式" class="headerlink" title="创建模式"></a>创建模式</h3><h4 id="单例（SINGLE）"><a href="#单例（SINGLE）" class="headerlink" title="单例（SINGLE）"></a>单例（SINGLE）</h4><ul>
<li>单例类只有一个实例。</li>
<li>单例类自己创建自己。</li>
<li>单例类必须给其他对象提供这一实例。</li>
</ul>
<details>
<summary>代码示例</summary>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Single</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Single</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//如果不允许反射可以判断SingleHolder.instance是否为null，不为null可以抛出异常</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Single <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> SingleHolder.instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">SingleHolder</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Single instance = <span class="keyword">new</span> Single();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMTIzcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDoxNjdweDtoZWlnaHQ6MTIzcHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxNjcgMTIzIiB3aWR0aD0iMTY3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjJ2OGNzaGx2b24xMiIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVs4YjkyNmVjZmYxYjA1YjBiZTg5ZmFkMGQ5MGQ3ZTgyNF0KY2xhc3MgU2luZ2xlLS0+PHJlY3QgY29kZUxpbmU9IjUiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmMnY4Y3NobHZvbjEyKSIgaGVpZ2h0PSI3My42MDk0IiBpZD0iU2luZ2xlIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxMzUiIHg9IjciIHk9IjI0Ii8+PGVsbGlwc2UgY3g9IjUxLjc1IiBjeT0iNDAiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNNTQuMDkzOCwzNS42NzE5IEM1My4xNTYzLDM1LjIzNDQgNTIuNTYyNSwzNS4wOTM4IDUxLjY4NzUsMzUuMDkzOCBDNDkuMDYyNSwzNS4wOTM4IDQ3LjA2MjUsMzcuMTcxOSA0Ny4wNjI1LDM5Ljg5MDYgTDQ3LjA2MjUsNDEuMDE1NiBDNDcuMDYyNSw0My41OTM4IDQ5LjE3MTksNDUuNDg0NCA1Mi4wNjI1LDQ1LjQ4NDQgQzUzLjI4MTMsNDUuNDg0NCA1NC40Mzc1LDQ1LjE4NzUgNTUuMTg3NSw0NC42NDA2IEM1NS43NjU2LDQ0LjIzNDQgNTYuMDkzOCw0My43ODEzIDU2LjA5MzgsNDMuMzkwNiBDNTYuMDkzOCw0Mi45Mzc1IDU1LjcwMzEsNDIuNTQ2OSA1NS4yMzQ0LDQyLjU0NjkgQzU1LjAxNTYsNDIuNTQ2OSA1NC44MTI1LDQyLjYyNSA1NC42MjUsNDIuODEyNSBDNTQuMTcxOSw0My4yOTY5IDU0LjE3MTksNDMuMjk2OSA1My45ODQ0LDQzLjM5MDYgQzUzLjU2MjUsNDMuNjU2MyA1Mi44NzUsNDMuNzgxMyA1Mi4xMDk0LDQzLjc4MTMgQzUwLjA2MjUsNDMuNzgxMyA0OC43NjU2LDQyLjY4NzUgNDguNzY1Niw0MC45ODQ0IEw0OC43NjU2LDM5Ljg5MDYgQzQ4Ljc2NTYsMzguMTA5NCA1MC4wMTU2LDM2Ljc5NjkgNTEuNzUsMzYuNzk2OSBDNTIuMzI4MSwzNi43OTY5IDUyLjkzNzUsMzYuOTUzMSA1My40MDYzLDM3LjIwMzEgQzUzLjg5MDYsMzcuNDg0NCA1NC4wNjI1LDM3LjcwMzEgNTQuMTU2MywzOC4xMDk0IEM1NC4yMTg4LDM4LjUxNTYgNTQuMjUsMzguNjQwNiA1NC4zOTA2LDM4Ljc2NTYgQzU0LjUzMTMsMzguOTA2MyA1NC43NjU2LDM5LjAxNTYgNTQuOTg0NCwzOS4wMTU2IEM1NS4yNSwzOS4wMTU2IDU1LjUxNTYsMzguODc1IDU1LjY4NzUsMzguNjU2MyBDNTUuNzk2OSwzOC41IDU1LjgyODEsMzguMzEyNSA1NS44MjgxLDM3Ljg5MDYgTDU1LjgyODEsMzYuNDY4OCBDNTUuODI4MSwzNi4wMzEzIDU1LjgxMjUsMzUuOTA2MyA1NS43MTg4LDM1Ljc1IEM1NS41NjI1LDM1LjQ4NDQgNTUuMjgxMywzNS4zNDM4IDU0Ljk4NDQsMzUuMzQzOCBDNTQuNjg3NSwzNS4zNDM4IDU0LjQ4NDQsMzUuNDM3NSA1NC4yNjU2LDM1Ljc1IEw1NC4wOTM4LDM1LjY3MTkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNyIgeD0iNzIuMjUiIHk9IjQ0LjE1NDMiPlNpbmdsZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI4IiB4Mj0iMTQxIiB5MT0iNTYiIHkyPSI1NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHQtZGVjb3JhdGlvbj0idW5kZXJsaW5lIiB0ZXh0TGVuZ3RoPSI5MSIgeD0iMTMiIHk9IjcwLjIxMDQiPi1pbnN0YW5jZTpTaW5nbGU8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iOCIgeDI9IjE0MSIgeTE9Ijc2LjgwNDciIHkyPSI3Ni44MDQ3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjEyMyIgeD0iMTMiIHk9IjkxLjAxNTEiPitnZXRJbnN0YW5jZSgpOlNpbmdsZTwvdGV4dD48IS0tTUQ1PVs3NjY3MmViMzU1NDQwOWI3NDllOTdkYzhmZTMxZjVkMV0KbGluayBTaW5nbGUgdG8gU2luZ2xlLS0+PHBhdGggY29kZUxpbmU9IjEwIiBkPSJNNzQuNSwyMy43MDUxIEM3NC41LDEzLjg5NiA3NC41LDYgNzQuNSw2IEM3NC41LDYgMTYwLDYgMTYwLDYgQzE2MCw2IDE2MCwxMTYgMTYwLDExNiBDMTYwLDExNiA3NC41LDExNiA3NC41LDExNiBDNzQuNSwxMTYgNzQuNSwxMDMuMjk0OSA3NC41LDEwMy4yOTQ5ICIgZmlsbD0ibm9uZSIgaWQ9IlNpbmdsZS10by1TaW5nbGUiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9Ijc0LjUsOTguMjk0OSw3MC41LDEwNy4yOTQ5LDc0LjUsMTAzLjI5NDksNzguNSwxMDcuMjk0OSw3NC41LDk4LjI5NDkiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjwhLS1NRDU9W2U2YjMwYTNmZDYwYzVkMmZkOGVjNGQzZTZjMzIwMDg2XQpAc3RhcnR1bWwNCnNraW5wYXJhbSBtb25vY2hyb21lIHRydWUNCnNraW5wYXJhbSBsaW5ldHlwZSBvcnRobw0Kc2tpbnBhcmFtIGNsYXNzQXR0cmlidXRlSWNvblNpemUgMA0KDQpjbGFzcyBTaW5nbGUgew0KICAgIHtzdGF0aWN9IC0gaW5zdGFuY2U6U2luZ2xlDQogICAge3N0YXRpY30gKyBnZXRJbnN0YW5jZSgpOlNpbmdsZQ0KfQ0KDQpTaW5nbGUgLi4+U2luZ2xlDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjEuMDFiZXRhMyhVbmtub3duIGNvbXBpbGUgdGltZSkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IGVuCkNvdW50cnk6IFVTCi0tPjwvZz48L3N2Zz4='>


<h4 id="静态工厂（STATIC-FACTORY）"><a href="#静态工厂（STATIC-FACTORY）" class="headerlink" title="静态工厂（STATIC FACTORY）"></a>静态工厂（STATIC FACTORY）</h4><p>静态工厂封装了创造产品的逻辑，客户只需通过给定的参数即可从工厂获得对应的产品。当需要新增产品时，静态工厂需要修改以便能返回新的产品对象。（需要修改静态工厂和工厂使用方）</p>
<details>
<summary>代码样例</summary>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IProduct</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductA</span> <span class="keyword">implements</span> <span class="title">IProduct</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ProductA do something&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductB</span> <span class="keyword">implements</span> <span class="title">IProduct</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ProductB do something&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Factory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> IProduct <span class="title">getProduct</span><span class="params">(String pro)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;productA&quot;</span>.equals(pro)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> ProductA();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;productB&quot;</span>.equals(pro)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> ProductB();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;not supported product &quot;</span> + pro);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</details>

<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjk3cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDozMTJweDtoZWlnaHQ6Mjk3cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzMTIgMjk3IiB3aWR0aD0iMzEycHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjEwbW1ieDNreGdkY24iIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PCEtLU1ENT1bYjNiNTc2MjJjOWY5OTBjNTc0NmQ2MjQwNzdlYTMyYzddCmNsYXNzIElQcm9kdWN0LS0+PHJlY3QgY29kZUxpbmU9IjUiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmMTBtbWJ4M2t4Z2RjbikiIGhlaWdodD0iNDgiIGlkPSJJUHJvZHVjdCIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iODMiIHg9Ijk0IiB5PSI3Ii8+PGVsbGlwc2UgY3g9IjEwOSIgY3k9IjIzIiBmaWxsPSIjQjFCMUIxIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTEwOS45NTMxLDE5Ljc4MTMgTDExMS42NzE5LDE5Ljc4MTMgQzExMi4wNjI1LDE5Ljc4MTMgMTEyLjI1LDE5Ljc1IDExMi4zNzUsMTkuNjcxOSBDMTEyLjY0MDYsMTkuNTE1NiAxMTIuNzgxMywxOS4yMzQ0IDExMi43ODEzLDE4LjkzNzUgQzExMi43ODEzLDE4LjY3MTkgMTEyLjY3MTksMTguNDA2MyAxMTIuNDM3NSwxOC4yMzQ0IEMxMTIuMjY1NiwxOC4xMjUgMTEyLjEyNSwxOC4wOTM4IDExMS42NzE5LDE4LjA5MzggTDEwNi41MzEzLDE4LjA5MzggQzEwNi4wOTM4LDE4LjA5MzggMTA1Ljk2ODgsMTguMTA5NCAxMDUuODEyNSwxOC4yMDMxIEMxMDUuNTYyNSwxOC4zNTk0IDEwNS40MDYzLDE4LjY1NjMgMTA1LjQwNjMsMTguOTM3NSBDMTA1LjQwNjMsMTkuMjE4OCAxMDUuNTQ2OSwxOS40Njg4IDEwNS43NjU2LDE5LjY0MDYgQzEwNS45MjE5LDE5Ljc1IDEwNi4xMDk0LDE5Ljc4MTMgMTA2LjUzMTMsMTkuNzgxMyBMMTA4LjI1LDE5Ljc4MTMgTDEwOC4yNSwyNi4yOTY5IEwxMDYuNTMxMywyNi4yOTY5IEMxMDYuMDkzOCwyNi4yOTY5IDEwNS45Njg4LDI2LjMxMjUgMTA1LjgxMjUsMjYuNDIxOSBDMTA1LjU2MjUsMjYuNTc4MSAxMDUuNDA2MywyNi44NTk0IDEwNS40MDYzLDI3LjE1NjMgQzEwNS40MDYzLDI3LjQwNjMgMTA1LjU0NjksMjcuNjcxOSAxMDUuNzY1NiwyNy44MjgxIEMxMDUuOTIxOSwyNy45NTMxIDEwNi4xMjUsMjggMTA2LjUzMTMsMjggTDExMS42NzE5LDI4IEMxMTIuNDIxOSwyOCAxMTIuNzgxMywyNy43MTg4IDExMi43ODEzLDI3LjE1NjMgQzExMi43ODEzLDI2Ljg3NSAxMTIuNjcxOSwyNi42MjUgMTEyLjQzNzUsMjYuNDUzMSBDMTEyLjI2NTYsMjYuMzI4MSAxMTIuMTI1LDI2LjI5NjkgMTExLjY3MTksMjYuMjk2OSBMMTA5Ljk1MzEsMjYuMjk2OSBMMTA5Ljk1MzEsMTkuNzgxMyBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTEiIHg9IjEyMyIgeT0iMjcuMTU0MyI+SVByb2R1Y3Q8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iOTUiIHgyPSIxNzYiIHkxPSIzOSIgeTI9IjM5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iOTUiIHgyPSIxNzYiIHkxPSI0NyIgeTI9IjQ3Ii8+PCEtLU1ENT1bNWYyYmQ3MzllYTc0NDAzYzM1MWY2ODQyZmU1YzdiYTJdCmNsYXNzIFByb2R1Y3RBLS0+PHJlY3QgY29kZUxpbmU9IjYiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmMTBtbWJ4M2t4Z2RjbikiIGhlaWdodD0iNDgiIGlkPSJQcm9kdWN0QSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iODUiIHg9IjkzIiB5PSIxMTUiLz48ZWxsaXBzZSBjeD0iMTA4IiBjeT0iMTMxIiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTExMC4zNDM4LDEyNi42NzE5IEMxMDkuNDA2MywxMjYuMjM0NCAxMDguODEyNSwxMjYuMDkzOCAxMDcuOTM3NSwxMjYuMDkzOCBDMTA1LjMxMjUsMTI2LjA5MzggMTAzLjMxMjUsMTI4LjE3MTkgMTAzLjMxMjUsMTMwLjg5MDYgTDEwMy4zMTI1LDEzMi4wMTU2IEMxMDMuMzEyNSwxMzQuNTkzOCAxMDUuNDIxOSwxMzYuNDg0NCAxMDguMzEyNSwxMzYuNDg0NCBDMTA5LjUzMTMsMTM2LjQ4NDQgMTEwLjY4NzUsMTM2LjE4NzUgMTExLjQzNzUsMTM1LjY0MDYgQzExMi4wMTU2LDEzNS4yMzQ0IDExMi4zNDM4LDEzNC43ODEzIDExMi4zNDM4LDEzNC4zOTA2IEMxMTIuMzQzOCwxMzMuOTM3NSAxMTEuOTUzMSwxMzMuNTQ2OSAxMTEuNDg0NCwxMzMuNTQ2OSBDMTExLjI2NTYsMTMzLjU0NjkgMTExLjA2MjUsMTMzLjYyNSAxMTAuODc1LDEzMy44MTI1IEMxMTAuNDIxOSwxMzQuMjk2OSAxMTAuNDIxOSwxMzQuMjk2OSAxMTAuMjM0NCwxMzQuMzkwNiBDMTA5LjgxMjUsMTM0LjY1NjMgMTA5LjEyNSwxMzQuNzgxMyAxMDguMzU5NCwxMzQuNzgxMyBDMTA2LjMxMjUsMTM0Ljc4MTMgMTA1LjAxNTYsMTMzLjY4NzUgMTA1LjAxNTYsMTMxLjk4NDQgTDEwNS4wMTU2LDEzMC44OTA2IEMxMDUuMDE1NiwxMjkuMTA5NCAxMDYuMjY1NiwxMjcuNzk2OSAxMDgsMTI3Ljc5NjkgQzEwOC41NzgxLDEyNy43OTY5IDEwOS4xODc1LDEyNy45NTMxIDEwOS42NTYzLDEyOC4yMDMxIEMxMTAuMTQwNiwxMjguNDg0NCAxMTAuMzEyNSwxMjguNzAzMSAxMTAuNDA2MywxMjkuMTA5NCBDMTEwLjQ2ODgsMTI5LjUxNTYgMTEwLjUsMTI5LjY0MDYgMTEwLjY0MDYsMTI5Ljc2NTYgQzExMC43ODEzLDEyOS45MDYzIDExMS4wMTU2LDEzMC4wMTU2IDExMS4yMzQ0LDEzMC4wMTU2IEMxMTEuNSwxMzAuMDE1NiAxMTEuNzY1NiwxMjkuODc1IDExMS45Mzc1LDEyOS42NTYzIEMxMTIuMDQ2OSwxMjkuNSAxMTIuMDc4MSwxMjkuMzEyNSAxMTIuMDc4MSwxMjguODkwNiBMMTEyLjA3ODEsMTI3LjQ2ODggQzExMi4wNzgxLDEyNy4wMzEzIDExMi4wNjI1LDEyNi45MDYzIDExMS45Njg4LDEyNi43NSBDMTExLjgxMjUsMTI2LjQ4NDQgMTExLjUzMTMsMTI2LjM0MzggMTExLjIzNDQsMTI2LjM0MzggQzExMC45Mzc1LDEyNi4zNDM4IDExMC43MzQ0LDEyNi40Mzc1IDExMC41MTU2LDEyNi43NSBMMTEwLjM0MzgsMTI2LjY3MTkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MyIgeD0iMTIyIiB5PSIxMzUuMTU0MyI+UHJvZHVjdEE8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iOTQiIHgyPSIxNzciIHkxPSIxNDciIHkyPSIxNDciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI5NCIgeDI9IjE3NyIgeTE9IjE1NSIgeTI9IjE1NSIvPjwhLS1NRDU9WzdkOGJiZTM4YWU3ODM4YzRiODc1YTI4NmZiZmE2NTZmXQpjbGFzcyBQcm9kdWN0Qi0tPjxyZWN0IGNvZGVMaW5lPSI3IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjEwbW1ieDNreGdkY24pIiBoZWlnaHQ9IjQ4IiBpZD0iUHJvZHVjdEIiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9Ijg1IiB4PSIyMTMiIHk9IjExNSIvPjxlbGxpcHNlIGN4PSIyMjgiIGN5PSIxMzEiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMjMwLjM0MzgsMTI2LjY3MTkgQzIyOS40MDYzLDEyNi4yMzQ0IDIyOC44MTI1LDEyNi4wOTM4IDIyNy45Mzc1LDEyNi4wOTM4IEMyMjUuMzEyNSwxMjYuMDkzOCAyMjMuMzEyNSwxMjguMTcxOSAyMjMuMzEyNSwxMzAuODkwNiBMMjIzLjMxMjUsMTMyLjAxNTYgQzIyMy4zMTI1LDEzNC41OTM4IDIyNS40MjE5LDEzNi40ODQ0IDIyOC4zMTI1LDEzNi40ODQ0IEMyMjkuNTMxMywxMzYuNDg0NCAyMzAuNjg3NSwxMzYuMTg3NSAyMzEuNDM3NSwxMzUuNjQwNiBDMjMyLjAxNTYsMTM1LjIzNDQgMjMyLjM0MzgsMTM0Ljc4MTMgMjMyLjM0MzgsMTM0LjM5MDYgQzIzMi4zNDM4LDEzMy45Mzc1IDIzMS45NTMxLDEzMy41NDY5IDIzMS40ODQ0LDEzMy41NDY5IEMyMzEuMjY1NiwxMzMuNTQ2OSAyMzEuMDYyNSwxMzMuNjI1IDIzMC44NzUsMTMzLjgxMjUgQzIzMC40MjE5LDEzNC4yOTY5IDIzMC40MjE5LDEzNC4yOTY5IDIzMC4yMzQ0LDEzNC4zOTA2IEMyMjkuODEyNSwxMzQuNjU2MyAyMjkuMTI1LDEzNC43ODEzIDIyOC4zNTk0LDEzNC43ODEzIEMyMjYuMzEyNSwxMzQuNzgxMyAyMjUuMDE1NiwxMzMuNjg3NSAyMjUuMDE1NiwxMzEuOTg0NCBMMjI1LjAxNTYsMTMwLjg5MDYgQzIyNS4wMTU2LDEyOS4xMDk0IDIyNi4yNjU2LDEyNy43OTY5IDIyOCwxMjcuNzk2OSBDMjI4LjU3ODEsMTI3Ljc5NjkgMjI5LjE4NzUsMTI3Ljk1MzEgMjI5LjY1NjMsMTI4LjIwMzEgQzIzMC4xNDA2LDEyOC40ODQ0IDIzMC4zMTI1LDEyOC43MDMxIDIzMC40MDYzLDEyOS4xMDk0IEMyMzAuNDY4OCwxMjkuNTE1NiAyMzAuNSwxMjkuNjQwNiAyMzAuNjQwNiwxMjkuNzY1NiBDMjMwLjc4MTMsMTI5LjkwNjMgMjMxLjAxNTYsMTMwLjAxNTYgMjMxLjIzNDQsMTMwLjAxNTYgQzIzMS41LDEzMC4wMTU2IDIzMS43NjU2LDEyOS44NzUgMjMxLjkzNzUsMTI5LjY1NjMgQzIzMi4wNDY5LDEyOS41IDIzMi4wNzgxLDEyOS4zMTI1IDIzMi4wNzgxLDEyOC44OTA2IEwyMzIuMDc4MSwxMjcuNDY4OCBDMjMyLjA3ODEsMTI3LjAzMTMgMjMyLjA2MjUsMTI2LjkwNjMgMjMxLjk2ODgsMTI2Ljc1IEMyMzEuODEyNSwxMjYuNDg0NCAyMzEuNTMxMywxMjYuMzQzOCAyMzEuMjM0NCwxMjYuMzQzOCBDMjMwLjkzNzUsMTI2LjM0MzggMjMwLjczNDQsMTI2LjQzNzUgMjMwLjUxNTYsMTI2Ljc1IEwyMzAuMzQzOCwxMjYuNjcxOSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUzIiB4PSIyNDIiIHk9IjEzNS4xNTQzIj5Qcm9kdWN0QjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIyMTQiIHgyPSIyOTciIHkxPSIxNDciIHkyPSIxNDciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIyMTQiIHgyPSIyOTciIHkxPSIxNTUiIHkyPSIxNTUiLz48IS0tTUQ1PVtkY2RhNjZkYWJkYjczOWVjMzZmMTE3NTE1MGUzYzlkNV0KY2xhc3MgRmFjdG9yeS0tPjxyZWN0IGNvZGVMaW5lPSI5IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjEwbW1ieDNreGdkY24pIiBoZWlnaHQ9IjYwLjgwNDciIGlkPSJGYWN0b3J5IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxOTAiIHg9IjEwNy41IiB5PSIyMjMiLz48ZWxsaXBzZSBjeD0iMTc1Ljc1IiBjeT0iMjM5IiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTE3OC4wOTM4LDIzNC42NzE5IEMxNzcuMTU2MywyMzQuMjM0NCAxNzYuNTYyNSwyMzQuMDkzOCAxNzUuNjg3NSwyMzQuMDkzOCBDMTczLjA2MjUsMjM0LjA5MzggMTcxLjA2MjUsMjM2LjE3MTkgMTcxLjA2MjUsMjM4Ljg5MDYgTDE3MS4wNjI1LDI0MC4wMTU2IEMxNzEuMDYyNSwyNDIuNTkzOCAxNzMuMTcxOSwyNDQuNDg0NCAxNzYuMDYyNSwyNDQuNDg0NCBDMTc3LjI4MTMsMjQ0LjQ4NDQgMTc4LjQzNzUsMjQ0LjE4NzUgMTc5LjE4NzUsMjQzLjY0MDYgQzE3OS43NjU2LDI0My4yMzQ0IDE4MC4wOTM4LDI0Mi43ODEzIDE4MC4wOTM4LDI0Mi4zOTA2IEMxODAuMDkzOCwyNDEuOTM3NSAxNzkuNzAzMSwyNDEuNTQ2OSAxNzkuMjM0NCwyNDEuNTQ2OSBDMTc5LjAxNTYsMjQxLjU0NjkgMTc4LjgxMjUsMjQxLjYyNSAxNzguNjI1LDI0MS44MTI1IEMxNzguMTcxOSwyNDIuMjk2OSAxNzguMTcxOSwyNDIuMjk2OSAxNzcuOTg0NCwyNDIuMzkwNiBDMTc3LjU2MjUsMjQyLjY1NjMgMTc2Ljg3NSwyNDIuNzgxMyAxNzYuMTA5NCwyNDIuNzgxMyBDMTc0LjA2MjUsMjQyLjc4MTMgMTcyLjc2NTYsMjQxLjY4NzUgMTcyLjc2NTYsMjM5Ljk4NDQgTDE3Mi43NjU2LDIzOC44OTA2IEMxNzIuNzY1NiwyMzcuMTA5NCAxNzQuMDE1NiwyMzUuNzk2OSAxNzUuNzUsMjM1Ljc5NjkgQzE3Ni4zMjgxLDIzNS43OTY5IDE3Ni45Mzc1LDIzNS45NTMxIDE3Ny40MDYzLDIzNi4yMDMxIEMxNzcuODkwNiwyMzYuNDg0NCAxNzguMDYyNSwyMzYuNzAzMSAxNzguMTU2MywyMzcuMTA5NCBDMTc4LjIxODgsMjM3LjUxNTYgMTc4LjI1LDIzNy42NDA2IDE3OC4zOTA2LDIzNy43NjU2IEMxNzguNTMxMywyMzcuOTA2MyAxNzguNzY1NiwyMzguMDE1NiAxNzguOTg0NCwyMzguMDE1NiBDMTc5LjI1LDIzOC4wMTU2IDE3OS41MTU2LDIzNy44NzUgMTc5LjY4NzUsMjM3LjY1NjMgQzE3OS43OTY5LDIzNy41IDE3OS44MjgxLDIzNy4zMTI1IDE3OS44MjgxLDIzNi44OTA2IEwxNzkuODI4MSwyMzUuNDY4OCBDMTc5LjgyODEsMjM1LjAzMTMgMTc5LjgxMjUsMjM0LjkwNjMgMTc5LjcxODgsMjM0Ljc1IEMxNzkuNTYyNSwyMzQuNDg0NCAxNzkuMjgxMywyMzQuMzQzOCAxNzguOTg0NCwyMzQuMzQzOCBDMTc4LjY4NzUsMjM0LjM0MzggMTc4LjQ4NDQsMjM0LjQzNzUgMTc4LjI2NTYsMjM0Ljc1IEwxNzguMDkzOCwyMzQuNjcxOSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ1IiB4PSIxOTYuMjUiIHk9IjI0My4xNTQzIj5GYWN0b3J5PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjEwOC41IiB4Mj0iMjk2LjUiIHkxPSIyNTUiIHkyPSIyNTUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIxMDguNSIgeDI9IjI5Ni41IiB5MT0iMjYzIiB5Mj0iMjYzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjE3OCIgeD0iMTEzLjUiIHk9IjI3Ny4yMTA0Ij4rZ2V0UHJvZHVjdChwcm86U3RyaW5nKTpJUHJvZHVjdDwvdGV4dD48IS0tTUQ1PVtlZDY2MjRjNjU1NmQ1ZTdiMWJkMjMwMzIxNjJkMjBiN10KY2xhc3MgQ2xpZW50LS0+PHJlY3QgY29kZUxpbmU9IjEzIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjEwbW1ieDNreGdkY24pIiBoZWlnaHQ9IjQ4IiBpZD0iQ2xpZW50IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI2NSIgeD0iNyIgeT0iMjI5LjUiLz48ZWxsaXBzZSBjeD0iMjIiIGN5PSIyNDUuNSIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0yNC4zNDM4LDI0MS4xNzE5IEMyMy40MDYzLDI0MC43MzQ0IDIyLjgxMjUsMjQwLjU5MzggMjEuOTM3NSwyNDAuNTkzOCBDMTkuMzEyNSwyNDAuNTkzOCAxNy4zMTI1LDI0Mi42NzE5IDE3LjMxMjUsMjQ1LjM5MDYgTDE3LjMxMjUsMjQ2LjUxNTYgQzE3LjMxMjUsMjQ5LjA5MzggMTkuNDIxOSwyNTAuOTg0NCAyMi4zMTI1LDI1MC45ODQ0IEMyMy41MzEzLDI1MC45ODQ0IDI0LjY4NzUsMjUwLjY4NzUgMjUuNDM3NSwyNTAuMTQwNiBDMjYuMDE1NiwyNDkuNzM0NCAyNi4zNDM4LDI0OS4yODEzIDI2LjM0MzgsMjQ4Ljg5MDYgQzI2LjM0MzgsMjQ4LjQzNzUgMjUuOTUzMSwyNDguMDQ2OSAyNS40ODQ0LDI0OC4wNDY5IEMyNS4yNjU2LDI0OC4wNDY5IDI1LjA2MjUsMjQ4LjEyNSAyNC44NzUsMjQ4LjMxMjUgQzI0LjQyMTksMjQ4Ljc5NjkgMjQuNDIxOSwyNDguNzk2OSAyNC4yMzQ0LDI0OC44OTA2IEMyMy44MTI1LDI0OS4xNTYzIDIzLjEyNSwyNDkuMjgxMyAyMi4zNTk0LDI0OS4yODEzIEMyMC4zMTI1LDI0OS4yODEzIDE5LjAxNTYsMjQ4LjE4NzUgMTkuMDE1NiwyNDYuNDg0NCBMMTkuMDE1NiwyNDUuMzkwNiBDMTkuMDE1NiwyNDMuNjA5NCAyMC4yNjU2LDI0Mi4yOTY5IDIyLDI0Mi4yOTY5IEMyMi41NzgxLDI0Mi4yOTY5IDIzLjE4NzUsMjQyLjQ1MzEgMjMuNjU2MywyNDIuNzAzMSBDMjQuMTQwNiwyNDIuOTg0NCAyNC4zMTI1LDI0My4yMDMxIDI0LjQwNjMsMjQzLjYwOTQgQzI0LjQ2ODgsMjQ0LjAxNTYgMjQuNSwyNDQuMTQwNiAyNC42NDA2LDI0NC4yNjU2IEMyNC43ODEzLDI0NC40MDYzIDI1LjAxNTYsMjQ0LjUxNTYgMjUuMjM0NCwyNDQuNTE1NiBDMjUuNSwyNDQuNTE1NiAyNS43NjU2LDI0NC4zNzUgMjUuOTM3NSwyNDQuMTU2MyBDMjYuMDQ2OSwyNDQgMjYuMDc4MSwyNDMuODEyNSAyNi4wNzgxLDI0My4zOTA2IEwyNi4wNzgxLDI0MS45Njg4IEMyNi4wNzgxLDI0MS41MzEzIDI2LjA2MjUsMjQxLjQwNjMgMjUuOTY4OCwyNDEuMjUgQzI1LjgxMjUsMjQwLjk4NDQgMjUuNTMxMywyNDAuODQzOCAyNS4yMzQ0LDI0MC44NDM4IEMyNC45Mzc1LDI0MC44NDM4IDI0LjczNDQsMjQwLjkzNzUgMjQuNTE1NiwyNDEuMjUgTDI0LjM0MzgsMjQxLjE3MTkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMyIgeD0iMzYiIHk9IjI0OS42NTQzIj5DbGllbnQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iOCIgeDI9IjcxIiB5MT0iMjYxLjUiIHkyPSIyNjEuNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjgiIHgyPSI3MSIgeTE9IjI2OS41IiB5Mj0iMjY5LjUiLz48IS0tTUQ1PVtkNjkyYTNlYWM3NzIzYjkxNDljOGIzNjM1NmEyMTFkN10KcmV2ZXJzZSBsaW5rIElQcm9kdWN0IHRvIFByb2R1Y3RBLS0+PHBhdGggY29kZUxpbmU9IjE1IiBkPSJNMTM1LjUsNzUuMjM3IEMxMzUuNSw3NS4yMzcgMTM1LjUsMTE0Ljg0NCAxMzUuNSwxMTQuODQ0ICIgZmlsbD0ibm9uZSIgaWQ9IklQcm9kdWN0LWJhY2t0by1Qcm9kdWN0QSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMTI4LjUsNzUuMjM3LDEzNS41LDU1LjIzNywxNDIuNSw3NS4yMzcsMTI4LjUsNzUuMjM3IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48IS0tTUQ1PVs0ZmVkNzY4MDkxZDI3MGU1Y2EwY2VjNmU0MjlkMTk1ZV0KcmV2ZXJzZSBsaW5rIElQcm9kdWN0IHRvIFByb2R1Y3RCLS0+PHBhdGggY29kZUxpbmU9IjE2IiBkPSJNMTk3LjEzMywzMSBDMTk3LjEzMywzMSAyNTUuNSwzMSAyNTUuNSwzMSBDMjU1LjUsMzEgMjU1LjUsODIuOTIxIDI1NS41LDExNC43NjMgIiBmaWxsPSJub25lIiBpZD0iSVByb2R1Y3QtYmFja3RvLVByb2R1Y3RCIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSIxOTcuMTMzLDM4LDE3Ny4xMzMsMzEsMTk3LjEzMywyNCwxOTcuMTMzLDM4IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48IS0tTUQ1PVsyZDFhY2RmZGU5Nzg4MWZjMmU3OWZhZmRlMWU3MzQyZF0KcmV2ZXJzZSBsaW5rIFByb2R1Y3RBIHRvIEZhY3RvcnktLT48cGF0aCBjb2RlTGluZT0iMTciIGQ9Ik0xNDIuNzUsMTY4LjAwMyBDMTQyLjc1LDE2OC4wMDMgMTQyLjc1LDIyMi45ODE4IDE0Mi43NSwyMjIuOTgxOCAiIGZpbGw9Im5vbmUiIGlkPSJQcm9kdWN0QS1iYWNrdG8tRmFjdG9yeSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMTQyLjc1LDE2My4wMDMsMTM4Ljc1LDE3Mi4wMDMsMTQyLjc1LDE2OC4wMDMsMTQ2Ljc1LDE3Mi4wMDMsMTQyLjc1LDE2My4wMDMiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjwhLS1NRDU9WzVhYWUzYmVkZGY5ZTE2ZGU0OTBjNjEyMzMwMjI2MTJhXQpyZXZlcnNlIGxpbmsgUHJvZHVjdEIgdG8gRmFjdG9yeS0tPjxwYXRoIGNvZGVMaW5lPSIxOCIgZD0iTTI1NS4yNSwxNjguMDAzIEMyNTUuMjUsMTY4LjAwMyAyNTUuMjUsMjIyLjk4MTggMjU1LjI1LDIyMi45ODE4ICIgZmlsbD0ibm9uZSIgaWQ9IlByb2R1Y3RCLWJhY2t0by1GYWN0b3J5IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIyNTUuMjUsMTYzLjAwMywyNTEuMjUsMTcyLjAwMywyNTUuMjUsMTY4LjAwMywyNTkuMjUsMTcyLjAwMywyNTUuMjUsMTYzLjAwMyIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bYmE4NjNjYTI1OTkyYTlhZGE5NDgyMzAyY2RkZGZmMzhdCnJldmVyc2UgbGluayBJUHJvZHVjdCB0byBDbGllbnQtLT48cGF0aCBjb2RlTGluZT0iMjAiIGQ9Ik04OC45NTEzLDMxIEM4OC45NTEzLDMxIDM5LjUsMzEgMzkuNSwzMSBDMzkuNSwzMSAzOS41LDE3MS41OTggMzkuNSwyMjkuMjY1ICIgZmlsbD0ibm9uZSIgaWQ9IklQcm9kdWN0LWJhY2t0by1DbGllbnQiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjkzLjk1MTMsMzEsODQuOTUxMywyNyw4OC45NTEzLDMxLDg0Ljk1MTMsMzUsOTMuOTUxMywzMSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bYWNiMjMzNWRlMzZiMDYyMjNhZTFjZjA1NTg3YTA2NjRdCmxpbmsgQ2xpZW50IHRvIEZhY3RvcnktLT48cGF0aCBjb2RlTGluZT0iMjEiIGQ9Ik03Mi4wOTM3LDI1NCBDNzIuMDkzNywyNTQgMTAyLjQ3MzEsMjU0IDEwMi40NzMxLDI1NCAiIGZpbGw9Im5vbmUiIGlkPSJDbGllbnQtdG8tRmFjdG9yeSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMTA3LjQ3MywyNTQsOTguNDczLDI1MCwxMDIuNDczLDI1NCw5OC40NzMsMjU4LDEwNy40NzMsMjU0IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48IS0tTUQ1PVs3MGVjMTk3MzFjYzg3NGMxZDEzNDEyNDhlMTI0NjE1M10KQHN0YXJ0dW1sDQpza2lucGFyYW0gbW9ub2Nocm9tZSB0cnVlDQpza2lucGFyYW0gY2xhc3NBdHRyaWJ1dGVJY29uU2l6ZSAwDQpza2lucGFyYW0gbGluZXR5cGUgb3J0aG8NCg0KaW50ZXJmYWNlIElQcm9kdWN0IHt9DQpjbGFzcyBQcm9kdWN0QSB7fQ0KY2xhc3MgUHJvZHVjdEIge30NCg0KY2xhc3MgRmFjdG9yeSB7DQogICAge3N0YXRpY30gKyBnZXRQcm9kdWN0KHBybzpTdHJpbmcpOklQcm9kdWN0DQp9DQoNCmNsYXNzIENsaWVudCB7fQ0KDQpJUHJvZHVjdCA8fC4uIFByb2R1Y3RBDQpJUHJvZHVjdCA8fC4uIFByb2R1Y3RCDQpQcm9kdWN0QSA8Li4gRmFjdG9yeQ0KUHJvZHVjdEIgPC4uIEZhY3RvcnkNCg0KSVByb2R1Y3QgPC4uIENsaWVudA0KRmFjdG9yeSA8LmxlZnQuIENsaWVudA0KQGVuZHVtbA0KClBsYW50VU1MIHZlcnNpb24gMS4yMDIxLjAxYmV0YTMoVW5rbm93biBjb21waWxlIHRpbWUpCihHUEwgc291cmNlIGRpc3RyaWJ1dGlvbikKSmF2YSBSdW50aW1lOiBKYXZhKFRNKSBTRSBSdW50aW1lIEVudmlyb25tZW50CkpWTTogSmF2YSBIb3RTcG90KFRNKSA2NC1CaXQgU2VydmVyIFZNCkRlZmF1bHQgRW5jb2Rpbmc6IFVURi04Ckxhbmd1YWdlOiBlbgpDb3VudHJ5OiBVUwotLT48L2c+PC9zdmc+'>


<h4 id="工厂方法（FACTORY-METHOD）"><a href="#工厂方法（FACTORY-METHOD）" class="headerlink" title="工厂方法（FACTORY METHOD）"></a>工厂方法（FACTORY METHOD）</h4><p>工厂方法模式中不再由静态工厂创建所有的产品对象，而是建立和产品对象同样结构的工厂类，由工厂类来创建对应的产品对象。当增加新的产品时，只需要新增对应的工厂类即可，不需要修改原有的产品类和工厂类。（只需要修改工厂使用方即可）</p>
<p>客户获取工厂类的方法可以考虑以下两种方式：</p>
<ul>
<li>通过依赖注入，把实际的工厂类注入。</li>
<li>通过静态工厂的方式获取工厂类。</li>
</ul>
<p><small>PS：如果能够注入工厂类，其实也就能把产品类直接注入了</small></p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjAxcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo0NjZweDtoZWlnaHQ6MjAxcHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA0NjYgMjAxIiB3aWR0aD0iNDY2cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjF6OHd3Z3BvM3lseSIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVtiM2I1NzYyMmM5Zjk5MGM1NzQ2ZDYyNDA3N2VhMzJjN10KY2xhc3MgSVByb2R1Y3QtLT48cmVjdCBjb2RlTGluZT0iNCIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2Yxejh3d2dwbzN5bHkpIiBoZWlnaHQ9IjYwLjgwNDciIGlkPSJJUHJvZHVjdCIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMTMyIiB4PSIxMC41IiB5PSI3Ii8+PGVsbGlwc2UgY3g9IjQ3LjU1IiBjeT0iMjMiIGZpbGw9IiNCMUIxQjEiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNNDguNTAzMSwxOS43ODEzIEw1MC4yMjE5LDE5Ljc4MTMgQzUwLjYxMjUsMTkuNzgxMyA1MC44LDE5Ljc1IDUwLjkyNSwxOS42NzE5IEM1MS4xOTA2LDE5LjUxNTYgNTEuMzMxMywxOS4yMzQ0IDUxLjMzMTMsMTguOTM3NSBDNTEuMzMxMywxOC42NzE5IDUxLjIyMTksMTguNDA2MyA1MC45ODc1LDE4LjIzNDQgQzUwLjgxNTYsMTguMTI1IDUwLjY3NSwxOC4wOTM4IDUwLjIyMTksMTguMDkzOCBMNDUuMDgxMywxOC4wOTM4IEM0NC42NDM4LDE4LjA5MzggNDQuNTE4OCwxOC4xMDk0IDQ0LjM2MjUsMTguMjAzMSBDNDQuMTEyNSwxOC4zNTk0IDQzLjk1NjMsMTguNjU2MyA0My45NTYzLDE4LjkzNzUgQzQzLjk1NjMsMTkuMjE4OCA0NC4wOTY5LDE5LjQ2ODggNDQuMzE1NiwxOS42NDA2IEM0NC40NzE5LDE5Ljc1IDQ0LjY1OTQsMTkuNzgxMyA0NS4wODEzLDE5Ljc4MTMgTDQ2LjgsMTkuNzgxMyBMNDYuOCwyNi4yOTY5IEw0NS4wODEzLDI2LjI5NjkgQzQ0LjY0MzgsMjYuMjk2OSA0NC41MTg4LDI2LjMxMjUgNDQuMzYyNSwyNi40MjE5IEM0NC4xMTI1LDI2LjU3ODEgNDMuOTU2MywyNi44NTk0IDQzLjk1NjMsMjcuMTU2MyBDNDMuOTU2MywyNy40MDYzIDQ0LjA5NjksMjcuNjcxOSA0NC4zMTU2LDI3LjgyODEgQzQ0LjQ3MTksMjcuOTUzMSA0NC42NzUsMjggNDUuMDgxMywyOCBMNTAuMjIxOSwyOCBDNTAuOTcxOSwyOCA1MS4zMzEzLDI3LjcxODggNTEuMzMxMywyNy4xNTYzIEM1MS4zMzEzLDI2Ljg3NSA1MS4yMjE5LDI2LjYyNSA1MC45ODc1LDI2LjQ1MzEgQzUwLjgxNTYsMjYuMzI4MSA1MC42NzUsMjYuMjk2OSA1MC4yMjE5LDI2LjI5NjkgTDQ4LjUwMzEsMjYuMjk2OSBMNDguNTAzMSwxOS43ODEzIFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MSIgeD0iNjYuNDUiIHk9IjI3LjE1NDMiPklQcm9kdWN0PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjExLjUiIHgyPSIxNDEuNSIgeTE9IjM5IiB5Mj0iMzkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIxMS41IiB4Mj0iMTQxLjUiIHkxPSI0NyIgeTI9IjQ3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIwIiB4PSIxNi41IiB5PSI2MS4yMTA0Ij4rZG9Tb21ldGhpbmcoKTp2b2lkPC90ZXh0PjwhLS1NRDU9W2M0MGNmYmQ0YTVmMTI4MDU1ODUwMWEzZTYzY2YzOTkwXQpjbGFzcyBJRmFjdG9yeS0tPjxyZWN0IGNvZGVMaW5lPSI3IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjF6OHd3Z3BvM3lseSkiIGhlaWdodD0iNjAuODA0NyIgaWQ9IklGYWN0b3J5IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxMzYiIHg9IjMxNC41IiB5PSI3Ii8+PGVsbGlwc2UgY3g9IjM1NC4yNSIgY3k9IjIzIiBmaWxsPSIjQjFCMUIxIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTM1NS4yMDMxLDE5Ljc4MTMgTDM1Ni45MjE5LDE5Ljc4MTMgQzM1Ny4zMTI1LDE5Ljc4MTMgMzU3LjUsMTkuNzUgMzU3LjYyNSwxOS42NzE5IEMzNTcuODkwNiwxOS41MTU2IDM1OC4wMzEzLDE5LjIzNDQgMzU4LjAzMTMsMTguOTM3NSBDMzU4LjAzMTMsMTguNjcxOSAzNTcuOTIxOSwxOC40MDYzIDM1Ny42ODc1LDE4LjIzNDQgQzM1Ny41MTU2LDE4LjEyNSAzNTcuMzc1LDE4LjA5MzggMzU2LjkyMTksMTguMDkzOCBMMzUxLjc4MTMsMTguMDkzOCBDMzUxLjM0MzgsMTguMDkzOCAzNTEuMjE4OCwxOC4xMDk0IDM1MS4wNjI1LDE4LjIwMzEgQzM1MC44MTI1LDE4LjM1OTQgMzUwLjY1NjMsMTguNjU2MyAzNTAuNjU2MywxOC45Mzc1IEMzNTAuNjU2MywxOS4yMTg4IDM1MC43OTY5LDE5LjQ2ODggMzUxLjAxNTYsMTkuNjQwNiBDMzUxLjE3MTksMTkuNzUgMzUxLjM1OTQsMTkuNzgxMyAzNTEuNzgxMywxOS43ODEzIEwzNTMuNSwxOS43ODEzIEwzNTMuNSwyNi4yOTY5IEwzNTEuNzgxMywyNi4yOTY5IEMzNTEuMzQzOCwyNi4yOTY5IDM1MS4yMTg4LDI2LjMxMjUgMzUxLjA2MjUsMjYuNDIxOSBDMzUwLjgxMjUsMjYuNTc4MSAzNTAuNjU2MywyNi44NTk0IDM1MC42NTYzLDI3LjE1NjMgQzM1MC42NTYzLDI3LjQwNjMgMzUwLjc5NjksMjcuNjcxOSAzNTEuMDE1NiwyNy44MjgxIEMzNTEuMTcxOSwyNy45NTMxIDM1MS4zNzUsMjggMzUxLjc4MTMsMjggTDM1Ni45MjE5LDI4IEMzNTcuNjcxOSwyOCAzNTguMDMxMywyNy43MTg4IDM1OC4wMzEzLDI3LjE1NjMgQzM1OC4wMzEzLDI2Ljg3NSAzNTcuOTIxOSwyNi42MjUgMzU3LjY4NzUsMjYuNDUzMSBDMzU3LjUxNTYsMjYuMzI4MSAzNTcuMzc1LDI2LjI5NjkgMzU2LjkyMTksMjYuMjk2OSBMMzU1LjIwMzEsMjYuMjk2OSBMMzU1LjIwMzEsMTkuNzgxMyBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDkiIHg9IjM3My43NSIgeT0iMjcuMTU0MyI+SUZhY3Rvcnk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMzE1LjUiIHgyPSI0NDkuNSIgeTE9IjM5IiB5Mj0iMzkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIzMTUuNSIgeDI9IjQ0OS41IiB5MT0iNDciIHkyPSI0NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNCIgeD0iMzIwLjUiIHk9IjYxLjIxMDQiPitnZXRQcm9kdWN0KCk6SVByb2R1Y3Q8L3RleHQ+PCEtLU1ENT1bNWYyYmQ3MzllYTc0NDAzYzM1MWY2ODQyZmU1YzdiYTJdCmNsYXNzIFByb2R1Y3RBLS0+PHJlY3QgY29kZUxpbmU9IjExIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjF6OHd3Z3BvM3lseSkiIGhlaWdodD0iNDgiIGlkPSJQcm9kdWN0QSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iODUiIHg9IjciIHk9IjEyOCIvPjxlbGxpcHNlIGN4PSIyMiIgY3k9IjE0NCIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0yNC4zNDM4LDEzOS42NzE5IEMyMy40MDYzLDEzOS4yMzQ0IDIyLjgxMjUsMTM5LjA5MzggMjEuOTM3NSwxMzkuMDkzOCBDMTkuMzEyNSwxMzkuMDkzOCAxNy4zMTI1LDE0MS4xNzE5IDE3LjMxMjUsMTQzLjg5MDYgTDE3LjMxMjUsMTQ1LjAxNTYgQzE3LjMxMjUsMTQ3LjU5MzggMTkuNDIxOSwxNDkuNDg0NCAyMi4zMTI1LDE0OS40ODQ0IEMyMy41MzEzLDE0OS40ODQ0IDI0LjY4NzUsMTQ5LjE4NzUgMjUuNDM3NSwxNDguNjQwNiBDMjYuMDE1NiwxNDguMjM0NCAyNi4zNDM4LDE0Ny43ODEzIDI2LjM0MzgsMTQ3LjM5MDYgQzI2LjM0MzgsMTQ2LjkzNzUgMjUuOTUzMSwxNDYuNTQ2OSAyNS40ODQ0LDE0Ni41NDY5IEMyNS4yNjU2LDE0Ni41NDY5IDI1LjA2MjUsMTQ2LjYyNSAyNC44NzUsMTQ2LjgxMjUgQzI0LjQyMTksMTQ3LjI5NjkgMjQuNDIxOSwxNDcuMjk2OSAyNC4yMzQ0LDE0Ny4zOTA2IEMyMy44MTI1LDE0Ny42NTYzIDIzLjEyNSwxNDcuNzgxMyAyMi4zNTk0LDE0Ny43ODEzIEMyMC4zMTI1LDE0Ny43ODEzIDE5LjAxNTYsMTQ2LjY4NzUgMTkuMDE1NiwxNDQuOTg0NCBMMTkuMDE1NiwxNDMuODkwNiBDMTkuMDE1NiwxNDIuMTA5NCAyMC4yNjU2LDE0MC43OTY5IDIyLDE0MC43OTY5IEMyMi41NzgxLDE0MC43OTY5IDIzLjE4NzUsMTQwLjk1MzEgMjMuNjU2MywxNDEuMjAzMSBDMjQuMTQwNiwxNDEuNDg0NCAyNC4zMTI1LDE0MS43MDMxIDI0LjQwNjMsMTQyLjEwOTQgQzI0LjQ2ODgsMTQyLjUxNTYgMjQuNSwxNDIuNjQwNiAyNC42NDA2LDE0Mi43NjU2IEMyNC43ODEzLDE0Mi45MDYzIDI1LjAxNTYsMTQzLjAxNTYgMjUuMjM0NCwxNDMuMDE1NiBDMjUuNSwxNDMuMDE1NiAyNS43NjU2LDE0Mi44NzUgMjUuOTM3NSwxNDIuNjU2MyBDMjYuMDQ2OSwxNDIuNSAyNi4wNzgxLDE0Mi4zMTI1IDI2LjA3ODEsMTQxLjg5MDYgTDI2LjA3ODEsMTQwLjQ2ODggQzI2LjA3ODEsMTQwLjAzMTMgMjYuMDYyNSwxMzkuOTA2MyAyNS45Njg4LDEzOS43NSBDMjUuODEyNSwxMzkuNDg0NCAyNS41MzEzLDEzOS4zNDM4IDI1LjIzNDQsMTM5LjM0MzggQzI0LjkzNzUsMTM5LjM0MzggMjQuNzM0NCwxMzkuNDM3NSAyNC41MTU2LDEzOS43NSBMMjQuMzQzOCwxMzkuNjcxOSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUzIiB4PSIzNiIgeT0iMTQ4LjE1NDMiPlByb2R1Y3RBPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjgiIHgyPSI5MSIgeTE9IjE2MCIgeTI9IjE2MCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjgiIHgyPSI5MSIgeTE9IjE2OCIgeTI9IjE2OCIvPjwhLS1NRDU9WzdkOGJiZTM4YWU3ODM4YzRiODc1YTI4NmZiZmE2NTZmXQpjbGFzcyBQcm9kdWN0Qi0tPjxyZWN0IGNvZGVMaW5lPSIxMiIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2Yxejh3d2dwbzN5bHkpIiBoZWlnaHQ9IjQ4IiBpZD0iUHJvZHVjdEIiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9Ijg1IiB4PSIxMjciIHk9IjEyOCIvPjxlbGxpcHNlIGN4PSIxNDIiIGN5PSIxNDQiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMTQ0LjM0MzgsMTM5LjY3MTkgQzE0My40MDYzLDEzOS4yMzQ0IDE0Mi44MTI1LDEzOS4wOTM4IDE0MS45Mzc1LDEzOS4wOTM4IEMxMzkuMzEyNSwxMzkuMDkzOCAxMzcuMzEyNSwxNDEuMTcxOSAxMzcuMzEyNSwxNDMuODkwNiBMMTM3LjMxMjUsMTQ1LjAxNTYgQzEzNy4zMTI1LDE0Ny41OTM4IDEzOS40MjE5LDE0OS40ODQ0IDE0Mi4zMTI1LDE0OS40ODQ0IEMxNDMuNTMxMywxNDkuNDg0NCAxNDQuNjg3NSwxNDkuMTg3NSAxNDUuNDM3NSwxNDguNjQwNiBDMTQ2LjAxNTYsMTQ4LjIzNDQgMTQ2LjM0MzgsMTQ3Ljc4MTMgMTQ2LjM0MzgsMTQ3LjM5MDYgQzE0Ni4zNDM4LDE0Ni45Mzc1IDE0NS45NTMxLDE0Ni41NDY5IDE0NS40ODQ0LDE0Ni41NDY5IEMxNDUuMjY1NiwxNDYuNTQ2OSAxNDUuMDYyNSwxNDYuNjI1IDE0NC44NzUsMTQ2LjgxMjUgQzE0NC40MjE5LDE0Ny4yOTY5IDE0NC40MjE5LDE0Ny4yOTY5IDE0NC4yMzQ0LDE0Ny4zOTA2IEMxNDMuODEyNSwxNDcuNjU2MyAxNDMuMTI1LDE0Ny43ODEzIDE0Mi4zNTk0LDE0Ny43ODEzIEMxNDAuMzEyNSwxNDcuNzgxMyAxMzkuMDE1NiwxNDYuNjg3NSAxMzkuMDE1NiwxNDQuOTg0NCBMMTM5LjAxNTYsMTQzLjg5MDYgQzEzOS4wMTU2LDE0Mi4xMDk0IDE0MC4yNjU2LDE0MC43OTY5IDE0MiwxNDAuNzk2OSBDMTQyLjU3ODEsMTQwLjc5NjkgMTQzLjE4NzUsMTQwLjk1MzEgMTQzLjY1NjMsMTQxLjIwMzEgQzE0NC4xNDA2LDE0MS40ODQ0IDE0NC4zMTI1LDE0MS43MDMxIDE0NC40MDYzLDE0Mi4xMDk0IEMxNDQuNDY4OCwxNDIuNTE1NiAxNDQuNSwxNDIuNjQwNiAxNDQuNjQwNiwxNDIuNzY1NiBDMTQ0Ljc4MTMsMTQyLjkwNjMgMTQ1LjAxNTYsMTQzLjAxNTYgMTQ1LjIzNDQsMTQzLjAxNTYgQzE0NS41LDE0My4wMTU2IDE0NS43NjU2LDE0Mi44NzUgMTQ1LjkzNzUsMTQyLjY1NjMgQzE0Ni4wNDY5LDE0Mi41IDE0Ni4wNzgxLDE0Mi4zMTI1IDE0Ni4wNzgxLDE0MS44OTA2IEwxNDYuMDc4MSwxNDAuNDY4OCBDMTQ2LjA3ODEsMTQwLjAzMTMgMTQ2LjA2MjUsMTM5LjkwNjMgMTQ1Ljk2ODgsMTM5Ljc1IEMxNDUuODEyNSwxMzkuNDg0NCAxNDUuNTMxMywxMzkuMzQzOCAxNDUuMjM0NCwxMzkuMzQzOCBDMTQ0LjkzNzUsMTM5LjM0MzggMTQ0LjczNDQsMTM5LjQzNzUgMTQ0LjUxNTYsMTM5Ljc1IEwxNDQuMzQzOCwxMzkuNjcxOSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUzIiB4PSIxNTYiIHk9IjE0OC4xNTQzIj5Qcm9kdWN0QjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIxMjgiIHgyPSIyMTEiIHkxPSIxNjAiIHkyPSIxNjAiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIxMjgiIHgyPSIyMTEiIHkxPSIxNjgiIHkyPSIxNjgiLz48IS0tTUQ1PVs0NTE2ODY0NjBmZTcwNzI2MjM3MWIxZDgxNjIyNDhkMl0KY2xhc3MgRmFjdG9yeUEtLT48cmVjdCBjb2RlTGluZT0iMTQiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmMXo4d3dncG8zeWx5KSIgaGVpZ2h0PSI0OCIgaWQ9IkZhY3RvcnlBIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI4NSIgeD0iMzY3IiB5PSIxMjgiLz48ZWxsaXBzZSBjeD0iMzgyIiBjeT0iMTQ0IiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTM4NC4zNDM4LDEzOS42NzE5IEMzODMuNDA2MywxMzkuMjM0NCAzODIuODEyNSwxMzkuMDkzOCAzODEuOTM3NSwxMzkuMDkzOCBDMzc5LjMxMjUsMTM5LjA5MzggMzc3LjMxMjUsMTQxLjE3MTkgMzc3LjMxMjUsMTQzLjg5MDYgTDM3Ny4zMTI1LDE0NS4wMTU2IEMzNzcuMzEyNSwxNDcuNTkzOCAzNzkuNDIxOSwxNDkuNDg0NCAzODIuMzEyNSwxNDkuNDg0NCBDMzgzLjUzMTMsMTQ5LjQ4NDQgMzg0LjY4NzUsMTQ5LjE4NzUgMzg1LjQzNzUsMTQ4LjY0MDYgQzM4Ni4wMTU2LDE0OC4yMzQ0IDM4Ni4zNDM4LDE0Ny43ODEzIDM4Ni4zNDM4LDE0Ny4zOTA2IEMzODYuMzQzOCwxNDYuOTM3NSAzODUuOTUzMSwxNDYuNTQ2OSAzODUuNDg0NCwxNDYuNTQ2OSBDMzg1LjI2NTYsMTQ2LjU0NjkgMzg1LjA2MjUsMTQ2LjYyNSAzODQuODc1LDE0Ni44MTI1IEMzODQuNDIxOSwxNDcuMjk2OSAzODQuNDIxOSwxNDcuMjk2OSAzODQuMjM0NCwxNDcuMzkwNiBDMzgzLjgxMjUsMTQ3LjY1NjMgMzgzLjEyNSwxNDcuNzgxMyAzODIuMzU5NCwxNDcuNzgxMyBDMzgwLjMxMjUsMTQ3Ljc4MTMgMzc5LjAxNTYsMTQ2LjY4NzUgMzc5LjAxNTYsMTQ0Ljk4NDQgTDM3OS4wMTU2LDE0My44OTA2IEMzNzkuMDE1NiwxNDIuMTA5NCAzODAuMjY1NiwxNDAuNzk2OSAzODIsMTQwLjc5NjkgQzM4Mi41NzgxLDE0MC43OTY5IDM4My4xODc1LDE0MC45NTMxIDM4My42NTYzLDE0MS4yMDMxIEMzODQuMTQwNiwxNDEuNDg0NCAzODQuMzEyNSwxNDEuNzAzMSAzODQuNDA2MywxNDIuMTA5NCBDMzg0LjQ2ODgsMTQyLjUxNTYgMzg0LjUsMTQyLjY0MDYgMzg0LjY0MDYsMTQyLjc2NTYgQzM4NC43ODEzLDE0Mi45MDYzIDM4NS4wMTU2LDE0My4wMTU2IDM4NS4yMzQ0LDE0My4wMTU2IEMzODUuNSwxNDMuMDE1NiAzODUuNzY1NiwxNDIuODc1IDM4NS45Mzc1LDE0Mi42NTYzIEMzODYuMDQ2OSwxNDIuNSAzODYuMDc4MSwxNDIuMzEyNSAzODYuMDc4MSwxNDEuODkwNiBMMzg2LjA3ODEsMTQwLjQ2ODggQzM4Ni4wNzgxLDE0MC4wMzEzIDM4Ni4wNjI1LDEzOS45MDYzIDM4NS45Njg4LDEzOS43NSBDMzg1LjgxMjUsMTM5LjQ4NDQgMzg1LjUzMTMsMTM5LjM0MzggMzg1LjIzNDQsMTM5LjM0MzggQzM4NC45Mzc1LDEzOS4zNDM4IDM4NC43MzQ0LDEzOS40Mzc1IDM4NC41MTU2LDEzOS43NSBMMzg0LjM0MzgsMTM5LjY3MTkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MyIgeD0iMzk2IiB5PSIxNDguMTU0MyI+RmFjdG9yeUE8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMzY4IiB4Mj0iNDUxIiB5MT0iMTYwIiB5Mj0iMTYwIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMzY4IiB4Mj0iNDUxIiB5MT0iMTY4IiB5Mj0iMTY4Ii8+PCEtLU1ENT1bZTM1YjU4YzcxY2Y3YTVkYTM5YjZmMDdlMGM4NGZjYTNdCmNsYXNzIEZhY3RvcnlCLS0+PHJlY3QgY29kZUxpbmU9IjE2IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjF6OHd3Z3BvM3lseSkiIGhlaWdodD0iNDgiIGlkPSJGYWN0b3J5QiIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iODUiIHg9IjI0NyIgeT0iMTI4Ii8+PGVsbGlwc2UgY3g9IjI2MiIgY3k9IjE0NCIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0yNjQuMzQzOCwxMzkuNjcxOSBDMjYzLjQwNjMsMTM5LjIzNDQgMjYyLjgxMjUsMTM5LjA5MzggMjYxLjkzNzUsMTM5LjA5MzggQzI1OS4zMTI1LDEzOS4wOTM4IDI1Ny4zMTI1LDE0MS4xNzE5IDI1Ny4zMTI1LDE0My44OTA2IEwyNTcuMzEyNSwxNDUuMDE1NiBDMjU3LjMxMjUsMTQ3LjU5MzggMjU5LjQyMTksMTQ5LjQ4NDQgMjYyLjMxMjUsMTQ5LjQ4NDQgQzI2My41MzEzLDE0OS40ODQ0IDI2NC42ODc1LDE0OS4xODc1IDI2NS40Mzc1LDE0OC42NDA2IEMyNjYuMDE1NiwxNDguMjM0NCAyNjYuMzQzOCwxNDcuNzgxMyAyNjYuMzQzOCwxNDcuMzkwNiBDMjY2LjM0MzgsMTQ2LjkzNzUgMjY1Ljk1MzEsMTQ2LjU0NjkgMjY1LjQ4NDQsMTQ2LjU0NjkgQzI2NS4yNjU2LDE0Ni41NDY5IDI2NS4wNjI1LDE0Ni42MjUgMjY0Ljg3NSwxNDYuODEyNSBDMjY0LjQyMTksMTQ3LjI5NjkgMjY0LjQyMTksMTQ3LjI5NjkgMjY0LjIzNDQsMTQ3LjM5MDYgQzI2My44MTI1LDE0Ny42NTYzIDI2My4xMjUsMTQ3Ljc4MTMgMjYyLjM1OTQsMTQ3Ljc4MTMgQzI2MC4zMTI1LDE0Ny43ODEzIDI1OS4wMTU2LDE0Ni42ODc1IDI1OS4wMTU2LDE0NC45ODQ0IEwyNTkuMDE1NiwxNDMuODkwNiBDMjU5LjAxNTYsMTQyLjEwOTQgMjYwLjI2NTYsMTQwLjc5NjkgMjYyLDE0MC43OTY5IEMyNjIuNTc4MSwxNDAuNzk2OSAyNjMuMTg3NSwxNDAuOTUzMSAyNjMuNjU2MywxNDEuMjAzMSBDMjY0LjE0MDYsMTQxLjQ4NDQgMjY0LjMxMjUsMTQxLjcwMzEgMjY0LjQwNjMsMTQyLjEwOTQgQzI2NC40Njg4LDE0Mi41MTU2IDI2NC41LDE0Mi42NDA2IDI2NC42NDA2LDE0Mi43NjU2IEMyNjQuNzgxMywxNDIuOTA2MyAyNjUuMDE1NiwxNDMuMDE1NiAyNjUuMjM0NCwxNDMuMDE1NiBDMjY1LjUsMTQzLjAxNTYgMjY1Ljc2NTYsMTQyLjg3NSAyNjUuOTM3NSwxNDIuNjU2MyBDMjY2LjA0NjksMTQyLjUgMjY2LjA3ODEsMTQyLjMxMjUgMjY2LjA3ODEsMTQxLjg5MDYgTDI2Ni4wNzgxLDE0MC40Njg4IEMyNjYuMDc4MSwxNDAuMDMxMyAyNjYuMDYyNSwxMzkuOTA2MyAyNjUuOTY4OCwxMzkuNzUgQzI2NS44MTI1LDEzOS40ODQ0IDI2NS41MzEzLDEzOS4zNDM4IDI2NS4yMzQ0LDEzOS4zNDM4IEMyNjQuOTM3NSwxMzkuMzQzOCAyNjQuNzM0NCwxMzkuNDM3NSAyNjQuNTE1NiwxMzkuNzUgTDI2NC4zNDM4LDEzOS42NzE5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTMiIHg9IjI3NiIgeT0iMTQ4LjE1NDMiPkZhY3RvcnlCPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjI0OCIgeDI9IjMzMSIgeTE9IjE2MCIgeTI9IjE2MCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjI0OCIgeDI9IjMzMSIgeTE9IjE2OCIgeTI9IjE2OCIvPjwhLS1NRDU9W2VkNjYyNGM2NTU2ZDVlN2IxYmQyMzAzMjE2MmQyMGI3XQpjbGFzcyBDbGllbnQtLT48cmVjdCBjb2RlTGluZT0iMTgiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmMXo4d3dncG8zeWx5KSIgaGVpZ2h0PSI2MC44MDQ3IiBpZD0iQ2xpZW50IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxMDIiIHg9IjE3Ny41IiB5PSI3Ii8+PGVsbGlwc2UgY3g9IjIwOS4xNSIgY3k9IjIzIiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTIxMS40OTM4LDE4LjY3MTkgQzIxMC41NTYzLDE4LjIzNDQgMjA5Ljk2MjUsMTguMDkzOCAyMDkuMDg3NSwxOC4wOTM4IEMyMDYuNDYyNSwxOC4wOTM4IDIwNC40NjI1LDIwLjE3MTkgMjA0LjQ2MjUsMjIuODkwNiBMMjA0LjQ2MjUsMjQuMDE1NiBDMjA0LjQ2MjUsMjYuNTkzOCAyMDYuNTcxOSwyOC40ODQ0IDIwOS40NjI1LDI4LjQ4NDQgQzIxMC42ODEzLDI4LjQ4NDQgMjExLjgzNzUsMjguMTg3NSAyMTIuNTg3NSwyNy42NDA2IEMyMTMuMTY1NiwyNy4yMzQ0IDIxMy40OTM4LDI2Ljc4MTMgMjEzLjQ5MzgsMjYuMzkwNiBDMjEzLjQ5MzgsMjUuOTM3NSAyMTMuMTAzMSwyNS41NDY5IDIxMi42MzQ0LDI1LjU0NjkgQzIxMi40MTU2LDI1LjU0NjkgMjEyLjIxMjUsMjUuNjI1IDIxMi4wMjUsMjUuODEyNSBDMjExLjU3MTksMjYuMjk2OSAyMTEuNTcxOSwyNi4yOTY5IDIxMS4zODQ0LDI2LjM5MDYgQzIxMC45NjI1LDI2LjY1NjMgMjEwLjI3NSwyNi43ODEzIDIwOS41MDk0LDI2Ljc4MTMgQzIwNy40NjI1LDI2Ljc4MTMgMjA2LjE2NTYsMjUuNjg3NSAyMDYuMTY1NiwyMy45ODQ0IEwyMDYuMTY1NiwyMi44OTA2IEMyMDYuMTY1NiwyMS4xMDk0IDIwNy40MTU2LDE5Ljc5NjkgMjA5LjE1LDE5Ljc5NjkgQzIwOS43MjgxLDE5Ljc5NjkgMjEwLjMzNzUsMTkuOTUzMSAyMTAuODA2MywyMC4yMDMxIEMyMTEuMjkwNiwyMC40ODQ0IDIxMS40NjI1LDIwLjcwMzEgMjExLjU1NjMsMjEuMTA5NCBDMjExLjYxODgsMjEuNTE1NiAyMTEuNjUsMjEuNjQwNiAyMTEuNzkwNiwyMS43NjU2IEMyMTEuOTMxMywyMS45MDYzIDIxMi4xNjU2LDIyLjAxNTYgMjEyLjM4NDQsMjIuMDE1NiBDMjEyLjY1LDIyLjAxNTYgMjEyLjkxNTYsMjEuODc1IDIxMy4wODc1LDIxLjY1NjMgQzIxMy4xOTY5LDIxLjUgMjEzLjIyODEsMjEuMzEyNSAyMTMuMjI4MSwyMC44OTA2IEwyMTMuMjI4MSwxOS40Njg4IEMyMTMuMjI4MSwxOS4wMzEzIDIxMy4yMTI1LDE4LjkwNjMgMjEzLjExODgsMTguNzUgQzIxMi45NjI1LDE4LjQ4NDQgMjEyLjY4MTMsMTguMzQzOCAyMTIuMzg0NCwxOC4zNDM4IEMyMTIuMDg3NSwxOC4zNDM4IDIxMS44ODQ0LDE4LjQzNzUgMjExLjY2NTYsMTguNzUgTDIxMS40OTM4LDE4LjY3MTkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMyIgeD0iMjI2Ljg1IiB5PSIyNy4xNTQzIj5DbGllbnQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTc4LjUiIHgyPSIyNzguNSIgeTE9IjM5IiB5Mj0iMzkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MCIgeD0iMTgzLjUiIHk9IjUzLjIxMDQiPi1mYWN0b3J5OklGYWN0b3J5PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjE3OC41IiB4Mj0iMjc4LjUiIHkxPSI1OS44MDQ3IiB5Mj0iNTkuODA0NyIvPjwhLS1NRDU9W2Q2OTJhM2VhYzc3MjNiOTE0OWM4YjM2MzU2YTIxMWQ3XQpyZXZlcnNlIGxpbmsgSVByb2R1Y3QgdG8gUHJvZHVjdEEtLT48cGF0aCBjb2RlTGluZT0iMjIiIGQ9Ik01MS4yNSw4OC4xODQgQzUxLjI1LDg4LjE4NCA1MS4yNSwxMjcuNzYzNCA1MS4yNSwxMjcuNzYzNCAiIGZpbGw9Im5vbmUiIGlkPSJJUHJvZHVjdC1iYWNrdG8tUHJvZHVjdEEiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjQ0LjI1MDEsODguMTg0LDUxLjI1LDY4LjE4NCw1OC4yNTAxLDg4LjE4NCw0NC4yNTAxLDg4LjE4NCIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bNGZlZDc2ODA5MWQyNzBlNWNhMGNlYzZlNDI5ZDE5NWVdCnJldmVyc2UgbGluayBJUHJvZHVjdCB0byBQcm9kdWN0Qi0tPjxwYXRoIGNvZGVMaW5lPSIyMyIgZD0iTTEzNC43NSw4OC4xODQgQzEzNC43NSw4OC4xODQgMTM0Ljc1LDEyNy43NjM0IDEzNC43NSwxMjcuNzYzNCAiIGZpbGw9Im5vbmUiIGlkPSJJUHJvZHVjdC1iYWNrdG8tUHJvZHVjdEIiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjEyNy43NSw4OC4xODQsMTM0Ljc1LDY4LjE4NCwxNDEuNzUsODguMTg0LDEyNy43NSw4OC4xODQiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjwhLS1NRDU9WzhkNTU4MjM5MDNkNDUzOTQ2N2ZmYzZlOGQyNmMyNDkyXQpyZXZlcnNlIGxpbmsgSUZhY3RvcnkgdG8gRmFjdG9yeUEtLT48cGF0aCBjb2RlTGluZT0iMjUiIGQ9Ik00MDguNzUsODguMTg0IEM0MDguNzUsODguMTg0IDQwOC43NSwxMjcuNzYzNCA0MDguNzUsMTI3Ljc2MzQgIiBmaWxsPSJub25lIiBpZD0iSUZhY3RvcnktYmFja3RvLUZhY3RvcnlBIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSI0MDEuNzUsODguMTg0LDQwOC43NSw2OC4xODQsNDE1Ljc1LDg4LjE4NCw0MDEuNzUsODguMTg0IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48IS0tTUQ1PVtmMjQzNTJmZWIzMDk0Mzc3ZWZmMjI3N2E4ZDQ2MTlmMF0KcmV2ZXJzZSBsaW5rIElGYWN0b3J5IHRvIEZhY3RvcnlCLS0+PHBhdGggY29kZUxpbmU9IjI2IiBkPSJNMzIzLjI1LDg4LjE4NCBDMzIzLjI1LDg4LjE4NCAzMjMuMjUsMTI3Ljc2MzQgMzIzLjI1LDEyNy43NjM0ICIgZmlsbD0ibm9uZSIgaWQ9IklGYWN0b3J5LWJhY2t0by1GYWN0b3J5QiIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMzE2LjI1LDg4LjE4NCwzMjMuMjUsNjguMTg0LDMzMC4yNSw4OC4xODQsMzE2LjI1LDg4LjE4NCIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bMGVmNzUwM2NlOGQ3YTgyMDdmMzQ0MDUwMTE0YTVkYmVdCnJldmVyc2UgbGluayBQcm9kdWN0QSB0byBGYWN0b3J5QS0tPjxwYXRoIGNvZGVMaW5lPSIyOSIgZD0iTTQ5LjUsMTgxLjQzMTYgQzQ5LjUsMTgxLjQzMTYgNDkuNSwxOTQgNDkuNSwxOTQgQzQ5LjUsMTk0IDQwOS41LDE5NCA0MDkuNSwxOTQgQzQwOS41LDE5NCA0MDkuNSwxODUuNjcxMyA0MDkuNSwxNzYuNDMxNiAiIGZpbGw9Im5vbmUiIGlkPSJQcm9kdWN0QS1iYWNrdG8tRmFjdG9yeUEiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjQ5LjUsMTc2LjQzMTYsNDUuNSwxODUuNDMxNiw0OS41LDE4MS40MzE2LDUzLjUsMTg1LjQzMTYsNDkuNSwxNzYuNDMxNiIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bZWUwYTNjZWFhMjhkMjMxNmU0ZThmOGUyM2Q0YzI4MGZdCnJldmVyc2UgbGluayBQcm9kdWN0QiB0byBGYWN0b3J5Qi0tPjxwYXRoIGNvZGVMaW5lPSIzMCIgZD0iTTIxNy4xNDUsMTUyIEMyMTcuMTQ1LDE1MiAyNDYuOTkyLDE1MiAyNDYuOTkyLDE1MiAiIGZpbGw9Im5vbmUiIGlkPSJQcm9kdWN0Qi1iYWNrdG8tRmFjdG9yeUIiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjIxMi4xNDUsMTUyLDIyMS4xNDUsMTU2LDIxNy4xNDUsMTUyLDIyMS4xNDUsMTQ4LDIxMi4xNDUsMTUyIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48IS0tTUQ1PVtlNmI1MGY3ZDlhYWVkZTQ3OWViMmE2MWMwYTAyMmQ1Zl0KbGluayBDbGllbnQgdG8gSUZhY3RvcnktLT48cGF0aCBjb2RlTGluZT0iMzIiIGQ9Ik0yNzkuNzgsMzggQzI3OS43OCwzOCAzMDkuNDU0LDM4IDMwOS40NTQsMzggIiBmaWxsPSJub25lIiBpZD0iQ2xpZW50LXRvLUlGYWN0b3J5IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjMxNC40NTQsMzgsMzA1LjQ1NCwzNCwzMDkuNDU0LDM4LDMwNS40NTQsNDIsMzE0LjQ1NCwzOCIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bYmE4NjNjYTI1OTkyYTlhZGE5NDgyMzAyY2RkZGZmMzhdCnJldmVyc2UgbGluayBJUHJvZHVjdCB0byBDbGllbnQtLT48cGF0aCBjb2RlTGluZT0iMzMiIGQ9Ik0xNDcuNzI3LDM4IEMxNDcuNzI3LDM4IDE3Ny4xMTksMzggMTc3LjExOSwzOCAiIGZpbGw9Im5vbmUiIGlkPSJJUHJvZHVjdC1iYWNrdG8tQ2xpZW50IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIxNDIuNzI3LDM4LDE1MS43MjcsNDIsMTQ3LjcyNywzOCwxNTEuNzI3LDM0LDE0Mi43MjcsMzgiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjwhLS1NRDU9WzgwNGI2ZDkyOTQ5MWI3NmFiZDI4M2MyOTc5MGMwZTQyXQpAc3RhcnR1bWwNCnNraW5wYXJhbSBtb25vY2hyb21lIHRydWUNCnNraW5wYXJhbSBjbGFzc0F0dHJpYnV0ZUljb25TaXplIDANCnNraW5wYXJhbSBsaW5ldHlwZSBvcnRobw0KaW50ZXJmYWNlIElQcm9kdWN0IHsNCiAgICArICBkb1NvbWV0aGluZygpOnZvaWQNCn0NCmludGVyZmFjZSBJRmFjdG9yeSB7DQogICAgKyBnZXRQcm9kdWN0KCk6SVByb2R1Y3QNCn0NCg0KY2xhc3MgUHJvZHVjdEEge30NCmNsYXNzIFByb2R1Y3RCIHt9DQoNCmNsYXNzIEZhY3RvcnlBIHt9DQoNCmNsYXNzIEZhY3RvcnlCIHt9DQoNCmNsYXNzIENsaWVudHsNCiAgICAtIGZhY3Rvcnk6SUZhY3RvcnkNCn0NCg0KUHJvZHVjdEEgLnVwLnw+IElQcm9kdWN0DQpQcm9kdWN0QiAudXAufD4gSVByb2R1Y3QNCg0KRmFjdG9yeUEgLnVwLnw+IElGYWN0b3J5DQpGYWN0b3J5QiAudXAufD4gSUZhY3RvcnkNCg0KDQpGYWN0b3J5QSAubGVmdC4+IFByb2R1Y3RBDQpGYWN0b3J5QiAubGVmdC4+IFByb2R1Y3RCDQoNCkNsaWVudCAtcmlnaHQtPiBJRmFjdG9yeQ0KQ2xpZW50IC5sZWZ0Lj4gSVByb2R1Y3QNCkBlbmR1bWwNCgpQbGFudFVNTCB2ZXJzaW9uIDEuMjAyMS4wMWJldGEzKFVua25vd24gY29tcGlsZSB0aW1lKQooR1BMIHNvdXJjZSBkaXN0cmlidXRpb24pCkphdmEgUnVudGltZTogSmF2YShUTSkgU0UgUnVudGltZSBFbnZpcm9ubWVudApKVk06IEphdmEgSG90U3BvdChUTSkgNjQtQml0IFNlcnZlciBWTQpEZWZhdWx0IEVuY29kaW5nOiBVVEYtOApMYW5ndWFnZTogZW4KQ291bnRyeTogVVMKLS0+PC9nPjwvc3ZnPg=='>


<h4 id="抽象工厂（ABSTRACT-FACTORY）"><a href="#抽象工厂（ABSTRACT-FACTORY）" class="headerlink" title="抽象工厂（ABSTRACT FACTORY）"></a>抽象工厂（ABSTRACT FACTORY）</h4><p>抽象工厂适用于存在产品簇的情况，当存在多个抽象的产品，并且客户需要同时获取每一个抽象产品下的一个具体实现时，通过构建具体的工厂返回每一个抽象产品的一个具体实现。通过具体的工厂把多个抽象产品的具体实现绑定在一起。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iNDQzcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo0NzhweDtoZWlnaHQ6NDQzcHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA0NzggNDQzIiB3aWR0aD0iNDc4cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZms5Y2QxbDZ4bTQyYiIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVtiMzYxNGI0MjkzNGQ1M2YzMzMxYzMzYjc0NDJiNjJhZV0KY2xhc3MgV2luQnV0dG9uLS0+PHJlY3QgY29kZUxpbmU9IjMwIiBmaWxsPSIjQ0NDQ0NDIiBmaWx0ZXI9InVybCgjZms5Y2QxbDZ4bTQyYikiIGhlaWdodD0iNTMuOTM3NSIgaWQ9IldpbkJ1dHRvbiIgc3R5bGU9InN0cm9rZTojNDU0NTQ1O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iOTIiIHg9IjM3MiIgeT0iMTI4Ii8+PGVsbGlwc2UgY3g9IjM4NyIgY3k9IjE0Ni45Njg4IiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojNDU0NTQ1O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTM4OS4zNDM4LDE0Mi42NDA2IEMzODguNDA2MywxNDIuMjAzMSAzODcuODEyNSwxNDIuMDYyNSAzODYuOTM3NSwxNDIuMDYyNSBDMzg0LjMxMjUsMTQyLjA2MjUgMzgyLjMxMjUsMTQ0LjE0MDYgMzgyLjMxMjUsMTQ2Ljg1OTQgTDM4Mi4zMTI1LDE0Ny45ODQ0IEMzODIuMzEyNSwxNTAuNTYyNSAzODQuNDIxOSwxNTIuNDUzMSAzODcuMzEyNSwxNTIuNDUzMSBDMzg4LjUzMTMsMTUyLjQ1MzEgMzg5LjY4NzUsMTUyLjE1NjMgMzkwLjQzNzUsMTUxLjYwOTQgQzM5MS4wMTU2LDE1MS4yMDMxIDM5MS4zNDM4LDE1MC43NSAzOTEuMzQzOCwxNTAuMzU5NCBDMzkxLjM0MzgsMTQ5LjkwNjMgMzkwLjk1MzEsMTQ5LjUxNTYgMzkwLjQ4NDQsMTQ5LjUxNTYgQzM5MC4yNjU2LDE0OS41MTU2IDM5MC4wNjI1LDE0OS41OTM4IDM4OS44NzUsMTQ5Ljc4MTMgQzM4OS40MjE5LDE1MC4yNjU2IDM4OS40MjE5LDE1MC4yNjU2IDM4OS4yMzQ0LDE1MC4zNTk0IEMzODguODEyNSwxNTAuNjI1IDM4OC4xMjUsMTUwLjc1IDM4Ny4zNTk0LDE1MC43NSBDMzg1LjMxMjUsMTUwLjc1IDM4NC4wMTU2LDE0OS42NTYzIDM4NC4wMTU2LDE0Ny45NTMxIEwzODQuMDE1NiwxNDYuODU5NCBDMzg0LjAxNTYsMTQ1LjA3ODEgMzg1LjI2NTYsMTQzLjc2NTYgMzg3LDE0My43NjU2IEMzODcuNTc4MSwxNDMuNzY1NiAzODguMTg3NSwxNDMuOTIxOSAzODguNjU2MywxNDQuMTcxOSBDMzg5LjE0MDYsMTQ0LjQ1MzEgMzg5LjMxMjUsMTQ0LjY3MTkgMzg5LjQwNjMsMTQ1LjA3ODEgQzM4OS40Njg4LDE0NS40ODQ0IDM4OS41LDE0NS42MDk0IDM4OS42NDA2LDE0NS43MzQ0IEMzODkuNzgxMywxNDUuODc1IDM5MC4wMTU2LDE0NS45ODQ0IDM5MC4yMzQ0LDE0NS45ODQ0IEMzOTAuNSwxNDUuOTg0NCAzOTAuNzY1NiwxNDUuODQzOCAzOTAuOTM3NSwxNDUuNjI1IEMzOTEuMDQ2OSwxNDUuNDY4OCAzOTEuMDc4MSwxNDUuMjgxMyAzOTEuMDc4MSwxNDQuODU5NCBMMzkxLjA3ODEsMTQzLjQzNzUgQzM5MS4wNzgxLDE0MyAzOTEuMDYyNSwxNDIuODc1IDM5MC45Njg4LDE0Mi43MTg4IEMzOTAuODEyNSwxNDIuNDUzMSAzOTAuNTMxMywxNDIuMzEyNSAzOTAuMjM0NCwxNDIuMzEyNSBDMzg5LjkzNzUsMTQyLjMxMjUgMzg5LjczNDQsMTQyLjQwNjMgMzg5LjUxNTYsMTQyLjcxODggTDM4OS4zNDM4LDE0Mi42NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzOSIgeD0iNDExLjUiIHk9IjE0NC4xMzg3Ij7Cq1dJTsK7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwIiB4PSI0MDEiIHk9IjE1OC4xMDc0Ij5XaW5CdXR0b248L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojNDU0NTQ1O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMzczIiB4Mj0iNDYzIiB5MT0iMTY1LjkzNzUiIHkyPSIxNjUuOTM3NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzQ1NDU0NTtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjM3MyIgeDI9IjQ2MyIgeTE9IjE3My45Mzc1IiB5Mj0iMTczLjkzNzUiLz48IS0tTUQ1PVszNDYxNDA0MTFlMTQ0MjYzMzQ1NjEzYzhhOGEzMjliMl0KY2xhc3MgV2luVGV4dC0tPjxyZWN0IGNvZGVMaW5lPSIzMyIgZmlsbD0iI0NDQ0NDQyIgZmlsdGVyPSJ1cmwoI2ZrOWNkMWw2eG00MmIpIiBoZWlnaHQ9IjUzLjkzNzUiIGlkPSJXaW5UZXh0IiBzdHlsZT0ic3Ryb2tlOiM0NTQ1NDU7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI4MCIgeD0iMTI2IiB5PSIxMjgiLz48ZWxsaXBzZSBjeD0iMTQxIiBjeT0iMTQ2Ljk2ODgiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiM0NTQ1NDU7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMTQzLjM0MzgsMTQyLjY0MDYgQzE0Mi40MDYzLDE0Mi4yMDMxIDE0MS44MTI1LDE0Mi4wNjI1IDE0MC45Mzc1LDE0Mi4wNjI1IEMxMzguMzEyNSwxNDIuMDYyNSAxMzYuMzEyNSwxNDQuMTQwNiAxMzYuMzEyNSwxNDYuODU5NCBMMTM2LjMxMjUsMTQ3Ljk4NDQgQzEzNi4zMTI1LDE1MC41NjI1IDEzOC40MjE5LDE1Mi40NTMxIDE0MS4zMTI1LDE1Mi40NTMxIEMxNDIuNTMxMywxNTIuNDUzMSAxNDMuNjg3NSwxNTIuMTU2MyAxNDQuNDM3NSwxNTEuNjA5NCBDMTQ1LjAxNTYsMTUxLjIwMzEgMTQ1LjM0MzgsMTUwLjc1IDE0NS4zNDM4LDE1MC4zNTk0IEMxNDUuMzQzOCwxNDkuOTA2MyAxNDQuOTUzMSwxNDkuNTE1NiAxNDQuNDg0NCwxNDkuNTE1NiBDMTQ0LjI2NTYsMTQ5LjUxNTYgMTQ0LjA2MjUsMTQ5LjU5MzggMTQzLjg3NSwxNDkuNzgxMyBDMTQzLjQyMTksMTUwLjI2NTYgMTQzLjQyMTksMTUwLjI2NTYgMTQzLjIzNDQsMTUwLjM1OTQgQzE0Mi44MTI1LDE1MC42MjUgMTQyLjEyNSwxNTAuNzUgMTQxLjM1OTQsMTUwLjc1IEMxMzkuMzEyNSwxNTAuNzUgMTM4LjAxNTYsMTQ5LjY1NjMgMTM4LjAxNTYsMTQ3Ljk1MzEgTDEzOC4wMTU2LDE0Ni44NTk0IEMxMzguMDE1NiwxNDUuMDc4MSAxMzkuMjY1NiwxNDMuNzY1NiAxNDEsMTQzLjc2NTYgQzE0MS41NzgxLDE0My43NjU2IDE0Mi4xODc1LDE0My45MjE5IDE0Mi42NTYzLDE0NC4xNzE5IEMxNDMuMTQwNiwxNDQuNDUzMSAxNDMuMzEyNSwxNDQuNjcxOSAxNDMuNDA2MywxNDUuMDc4MSBDMTQzLjQ2ODgsMTQ1LjQ4NDQgMTQzLjUsMTQ1LjYwOTQgMTQzLjY0MDYsMTQ1LjczNDQgQzE0My43ODEzLDE0NS44NzUgMTQ0LjAxNTYsMTQ1Ljk4NDQgMTQ0LjIzNDQsMTQ1Ljk4NDQgQzE0NC41LDE0NS45ODQ0IDE0NC43NjU2LDE0NS44NDM4IDE0NC45Mzc1LDE0NS42MjUgQzE0NS4wNDY5LDE0NS40Njg4IDE0NS4wNzgxLDE0NS4yODEzIDE0NS4wNzgxLDE0NC44NTk0IEwxNDUuMDc4MSwxNDMuNDM3NSBDMTQ1LjA3ODEsMTQzIDE0NS4wNjI1LDE0Mi44NzUgMTQ0Ljk2ODgsMTQyLjcxODggQzE0NC44MTI1LDE0Mi40NTMxIDE0NC41MzEzLDE0Mi4zMTI1IDE0NC4yMzQ0LDE0Mi4zMTI1IEMxNDMuOTM3NSwxNDIuMzEyNSAxNDMuNzM0NCwxNDIuNDA2MyAxNDMuNTE1NiwxNDIuNzE4OCBMMTQzLjM0MzgsMTQyLjY0MDYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM5IiB4PSIxNTkuNSIgeT0iMTQ0LjEzODciPsKrV0lOwrs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDgiIHg9IjE1NSIgeT0iMTU4LjEwNzQiPldpblRleHQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojNDU0NTQ1O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTI3IiB4Mj0iMjA1IiB5MT0iMTY1LjkzNzUiIHkyPSIxNjUuOTM3NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzQ1NDU0NTtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjEyNyIgeDI9IjIwNSIgeTE9IjE3My45Mzc1IiB5Mj0iMTczLjkzNzUiLz48IS0tTUQ1PVs3NWNiYTNmY2U4MzQyYTkyNTk3MWE3MjZhMTkyZmEzNl0KY2xhc3MgSUJ1dHRvbi0tPjxyZWN0IGNvZGVMaW5lPSIxNSIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2ZrOWNkMWw2eG00MmIpIiBoZWlnaHQ9IjYwLjgwNDciIGlkPSJJQnV0dG9uIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI4MCIgeD0iMzEzIiB5PSI3Ii8+PGVsbGlwc2UgY3g9IjMyOS4zNSIgY3k9IjIzIiBmaWxsPSIjQjFCMUIxIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTMzMC4zMDMxLDE5Ljc4MTMgTDMzMi4wMjE5LDE5Ljc4MTMgQzMzMi40MTI1LDE5Ljc4MTMgMzMyLjYsMTkuNzUgMzMyLjcyNSwxOS42NzE5IEMzMzIuOTkwNiwxOS41MTU2IDMzMy4xMzEzLDE5LjIzNDQgMzMzLjEzMTMsMTguOTM3NSBDMzMzLjEzMTMsMTguNjcxOSAzMzMuMDIxOSwxOC40MDYzIDMzMi43ODc1LDE4LjIzNDQgQzMzMi42MTU2LDE4LjEyNSAzMzIuNDc1LDE4LjA5MzggMzMyLjAyMTksMTguMDkzOCBMMzI2Ljg4MTMsMTguMDkzOCBDMzI2LjQ0MzgsMTguMDkzOCAzMjYuMzE4OCwxOC4xMDk0IDMyNi4xNjI1LDE4LjIwMzEgQzMyNS45MTI1LDE4LjM1OTQgMzI1Ljc1NjMsMTguNjU2MyAzMjUuNzU2MywxOC45Mzc1IEMzMjUuNzU2MywxOS4yMTg4IDMyNS44OTY5LDE5LjQ2ODggMzI2LjExNTYsMTkuNjQwNiBDMzI2LjI3MTksMTkuNzUgMzI2LjQ1OTQsMTkuNzgxMyAzMjYuODgxMywxOS43ODEzIEwzMjguNiwxOS43ODEzIEwzMjguNiwyNi4yOTY5IEwzMjYuODgxMywyNi4yOTY5IEMzMjYuNDQzOCwyNi4yOTY5IDMyNi4zMTg4LDI2LjMxMjUgMzI2LjE2MjUsMjYuNDIxOSBDMzI1LjkxMjUsMjYuNTc4MSAzMjUuNzU2MywyNi44NTk0IDMyNS43NTYzLDI3LjE1NjMgQzMyNS43NTYzLDI3LjQwNjMgMzI1Ljg5NjksMjcuNjcxOSAzMjYuMTE1NiwyNy44MjgxIEMzMjYuMjcxOSwyNy45NTMxIDMyNi40NzUsMjggMzI2Ljg4MTMsMjggTDMzMi4wMjE5LDI4IEMzMzIuNzcxOSwyOCAzMzMuMTMxMywyNy43MTg4IDMzMy4xMzEzLDI3LjE1NjMgQzMzMy4xMzEzLDI2Ljg3NSAzMzMuMDIxOSwyNi42MjUgMzMyLjc4NzUsMjYuNDUzMSBDMzMyLjYxNTYsMjYuMzI4MSAzMzIuNDc1LDI2LjI5NjkgMzMyLjAyMTksMjYuMjk2OSBMMzMwLjMwMzEsMjYuMjk2OSBMMzMwLjMwMzEsMTkuNzgxMyBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDUiIHg9IjM0My42NSIgeT0iMjcuMTU0MyI+SUJ1dHRvbjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIzMTQiIHgyPSIzOTIiIHkxPSIzOSIgeTI9IjM5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMzE0IiB4Mj0iMzkyIiB5MT0iNDciIHkyPSI0NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY4IiB4PSIzMTkiIHk9IjYxLjIxMDQiPitjbGljaygpOnZvaWQ8L3RleHQ+PCEtLU1ENT1bZmMwYjBjOGNhNWI3YzZkMjNiMmFkMGU0MjBhZDMzNGRdCmNsYXNzIElUZXh0LS0+PHJlY3QgY29kZUxpbmU9IjE5IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZms5Y2QxbDZ4bTQyYikiIGhlaWdodD0iNjAuODA0NyIgaWQ9IklUZXh0IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI4MyIgeD0iNjYuNSIgeT0iNyIvPjxlbGxpcHNlIGN4PSI5MC45NSIgY3k9IjIzIiBmaWxsPSIjQjFCMUIxIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTkxLjkwMzEsMTkuNzgxMyBMOTMuNjIxOSwxOS43ODEzIEM5NC4wMTI1LDE5Ljc4MTMgOTQuMiwxOS43NSA5NC4zMjUsMTkuNjcxOSBDOTQuNTkwNiwxOS41MTU2IDk0LjczMTMsMTkuMjM0NCA5NC43MzEzLDE4LjkzNzUgQzk0LjczMTMsMTguNjcxOSA5NC42MjE5LDE4LjQwNjMgOTQuMzg3NSwxOC4yMzQ0IEM5NC4yMTU2LDE4LjEyNSA5NC4wNzUsMTguMDkzOCA5My42MjE5LDE4LjA5MzggTDg4LjQ4MTMsMTguMDkzOCBDODguMDQzOCwxOC4wOTM4IDg3LjkxODgsMTguMTA5NCA4Ny43NjI1LDE4LjIwMzEgQzg3LjUxMjUsMTguMzU5NCA4Ny4zNTYzLDE4LjY1NjMgODcuMzU2MywxOC45Mzc1IEM4Ny4zNTYzLDE5LjIxODggODcuNDk2OSwxOS40Njg4IDg3LjcxNTYsMTkuNjQwNiBDODcuODcxOSwxOS43NSA4OC4wNTk0LDE5Ljc4MTMgODguNDgxMywxOS43ODEzIEw5MC4yLDE5Ljc4MTMgTDkwLjIsMjYuMjk2OSBMODguNDgxMywyNi4yOTY5IEM4OC4wNDM4LDI2LjI5NjkgODcuOTE4OCwyNi4zMTI1IDg3Ljc2MjUsMjYuNDIxOSBDODcuNTEyNSwyNi41NzgxIDg3LjM1NjMsMjYuODU5NCA4Ny4zNTYzLDI3LjE1NjMgQzg3LjM1NjMsMjcuNDA2MyA4Ny40OTY5LDI3LjY3MTkgODcuNzE1NiwyNy44MjgxIEM4Ny44NzE5LDI3Ljk1MzEgODguMDc1LDI4IDg4LjQ4MTMsMjggTDkzLjYyMTksMjggQzk0LjM3MTksMjggOTQuNzMxMywyNy43MTg4IDk0LjczMTMsMjcuMTU2MyBDOTQuNzMxMywyNi44NzUgOTQuNjIxOSwyNi42MjUgOTQuMzg3NSwyNi40NTMxIEM5NC4yMTU2LDI2LjMyODEgOTQuMDc1LDI2LjI5NjkgOTMuNjIxOSwyNi4yOTY5IEw5MS45MDMxLDI2LjI5NjkgTDkxLjkwMzEsMTkuNzgxMyBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzAiIHg9IjEwNy4wNSIgeT0iMjcuMTU0MyI+SVRleHQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNjcuNSIgeDI9IjE0OC41IiB5MT0iMzkiIHkyPSIzOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjY3LjUiIHgyPSIxNDguNSIgeTE9IjQ3IiB5Mj0iNDciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MSIgeD0iNzIuNSIgeT0iNjEuMjEwNCI+K2RyYXcoKTp2b2lkPC90ZXh0PjwhLS1NRDU9W2M0MGNmYmQ0YTVmMTI4MDU1ODUwMWEzZTYzY2YzOTkwXQpjbGFzcyBJRmFjdG9yeS0tPjxyZWN0IGNvZGVMaW5lPSIyMyIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2ZrOWNkMWw2eG00MmIpIiBoZWlnaHQ9IjczLjYwOTQiIGlkPSJJRmFjdG9yeSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMTMxIiB4PSIxNjcuNSIgeT0iMzU2Ii8+PGVsbGlwc2UgY3g9IjIwNSIgY3k9IjM3MiIgZmlsbD0iI0IxQjFCMSIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0yMDUuOTUzMSwzNjguNzgxMyBMMjA3LjY3MTksMzY4Ljc4MTMgQzIwOC4wNjI1LDM2OC43ODEzIDIwOC4yNSwzNjguNzUgMjA4LjM3NSwzNjguNjcxOSBDMjA4LjY0MDYsMzY4LjUxNTYgMjA4Ljc4MTMsMzY4LjIzNDQgMjA4Ljc4MTMsMzY3LjkzNzUgQzIwOC43ODEzLDM2Ny42NzE5IDIwOC42NzE5LDM2Ny40MDYzIDIwOC40Mzc1LDM2Ny4yMzQ0IEMyMDguMjY1NiwzNjcuMTI1IDIwOC4xMjUsMzY3LjA5MzggMjA3LjY3MTksMzY3LjA5MzggTDIwMi41MzEzLDM2Ny4wOTM4IEMyMDIuMDkzOCwzNjcuMDkzOCAyMDEuOTY4OCwzNjcuMTA5NCAyMDEuODEyNSwzNjcuMjAzMSBDMjAxLjU2MjUsMzY3LjM1OTQgMjAxLjQwNjMsMzY3LjY1NjMgMjAxLjQwNjMsMzY3LjkzNzUgQzIwMS40MDYzLDM2OC4yMTg4IDIwMS41NDY5LDM2OC40Njg4IDIwMS43NjU2LDM2OC42NDA2IEMyMDEuOTIxOSwzNjguNzUgMjAyLjEwOTQsMzY4Ljc4MTMgMjAyLjUzMTMsMzY4Ljc4MTMgTDIwNC4yNSwzNjguNzgxMyBMMjA0LjI1LDM3NS4yOTY5IEwyMDIuNTMxMywzNzUuMjk2OSBDMjAyLjA5MzgsMzc1LjI5NjkgMjAxLjk2ODgsMzc1LjMxMjUgMjAxLjgxMjUsMzc1LjQyMTkgQzIwMS41NjI1LDM3NS41NzgxIDIwMS40MDYzLDM3NS44NTk0IDIwMS40MDYzLDM3Ni4xNTYzIEMyMDEuNDA2MywzNzYuNDA2MyAyMDEuNTQ2OSwzNzYuNjcxOSAyMDEuNzY1NiwzNzYuODI4MSBDMjAxLjkyMTksMzc2Ljk1MzEgMjAyLjEyNSwzNzcgMjAyLjUzMTMsMzc3IEwyMDcuNjcxOSwzNzcgQzIwOC40MjE5LDM3NyAyMDguNzgxMywzNzYuNzE4OCAyMDguNzgxMywzNzYuMTU2MyBDMjA4Ljc4MTMsMzc1Ljg3NSAyMDguNjcxOSwzNzUuNjI1IDIwOC40Mzc1LDM3NS40NTMxIEMyMDguMjY1NiwzNzUuMzI4MSAyMDguMTI1LDM3NS4yOTY5IDIwNy42NzE5LDM3NS4yOTY5IEwyMDUuOTUzMSwzNzUuMjk2OSBMMjA1Ljk1MzEsMzY4Ljc4MTMgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ5IiB4PSIyMjQiIHk9IjM3Ni4xNTQzIj5JRmFjdG9yeTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIxNjguNSIgeDI9IjI5Ny41IiB5MT0iMzg4IiB5Mj0iMzg4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTY4LjUiIHgyPSIyOTcuNSIgeTE9IjM5NiIgeTI9IjM5NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExOSIgeD0iMTczLjUiIHk9IjQxMC4yMTA0Ij4rZ2V0QnV0dG9uKCk6SUJ1dHRvbjs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTciIHg9IjE3My41IiB5PSI0MjMuMDE1MSI+K2dldFRleHQoKTpJVGV4dDs8L3RleHQ+PCEtLU1ENT1bN2Y5MTg2NzRiZjcwMDcwOTFjNTFiMzg3NWNiNDQ0NjVdCmNsYXNzIFVuaXhCdXR0b24tLT48cmVjdCBjb2RlTGluZT0iMjkiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmazljZDFsNnhtNDJiKSIgaGVpZ2h0PSI0OCIgaWQ9IlVuaXhCdXR0b24iIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9Ijk2IiB4PSIyNDEiIHk9IjEzMSIvPjxlbGxpcHNlIGN4PSIyNTYiIGN5PSIxNDciIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMjU4LjM0MzgsMTQyLjY3MTkgQzI1Ny40MDYzLDE0Mi4yMzQ0IDI1Ni44MTI1LDE0Mi4wOTM4IDI1NS45Mzc1LDE0Mi4wOTM4IEMyNTMuMzEyNSwxNDIuMDkzOCAyNTEuMzEyNSwxNDQuMTcxOSAyNTEuMzEyNSwxNDYuODkwNiBMMjUxLjMxMjUsMTQ4LjAxNTYgQzI1MS4zMTI1LDE1MC41OTM4IDI1My40MjE5LDE1Mi40ODQ0IDI1Ni4zMTI1LDE1Mi40ODQ0IEMyNTcuNTMxMywxNTIuNDg0NCAyNTguNjg3NSwxNTIuMTg3NSAyNTkuNDM3NSwxNTEuNjQwNiBDMjYwLjAxNTYsMTUxLjIzNDQgMjYwLjM0MzgsMTUwLjc4MTMgMjYwLjM0MzgsMTUwLjM5MDYgQzI2MC4zNDM4LDE0OS45Mzc1IDI1OS45NTMxLDE0OS41NDY5IDI1OS40ODQ0LDE0OS41NDY5IEMyNTkuMjY1NiwxNDkuNTQ2OSAyNTkuMDYyNSwxNDkuNjI1IDI1OC44NzUsMTQ5LjgxMjUgQzI1OC40MjE5LDE1MC4yOTY5IDI1OC40MjE5LDE1MC4yOTY5IDI1OC4yMzQ0LDE1MC4zOTA2IEMyNTcuODEyNSwxNTAuNjU2MyAyNTcuMTI1LDE1MC43ODEzIDI1Ni4zNTk0LDE1MC43ODEzIEMyNTQuMzEyNSwxNTAuNzgxMyAyNTMuMDE1NiwxNDkuNjg3NSAyNTMuMDE1NiwxNDcuOTg0NCBMMjUzLjAxNTYsMTQ2Ljg5MDYgQzI1My4wMTU2LDE0NS4xMDk0IDI1NC4yNjU2LDE0My43OTY5IDI1NiwxNDMuNzk2OSBDMjU2LjU3ODEsMTQzLjc5NjkgMjU3LjE4NzUsMTQzLjk1MzEgMjU3LjY1NjMsMTQ0LjIwMzEgQzI1OC4xNDA2LDE0NC40ODQ0IDI1OC4zMTI1LDE0NC43MDMxIDI1OC40MDYzLDE0NS4xMDk0IEMyNTguNDY4OCwxNDUuNTE1NiAyNTguNSwxNDUuNjQwNiAyNTguNjQwNiwxNDUuNzY1NiBDMjU4Ljc4MTMsMTQ1LjkwNjMgMjU5LjAxNTYsMTQ2LjAxNTYgMjU5LjIzNDQsMTQ2LjAxNTYgQzI1OS41LDE0Ni4wMTU2IDI1OS43NjU2LDE0NS44NzUgMjU5LjkzNzUsMTQ1LjY1NjMgQzI2MC4wNDY5LDE0NS41IDI2MC4wNzgxLDE0NS4zMTI1IDI2MC4wNzgxLDE0NC44OTA2IEwyNjAuMDc4MSwxNDMuNDY4OCBDMjYwLjA3ODEsMTQzLjAzMTMgMjYwLjA2MjUsMTQyLjkwNjMgMjU5Ljk2ODgsMTQyLjc1IEMyNTkuODEyNSwxNDIuNDg0NCAyNTkuNTMxMywxNDIuMzQzOCAyNTkuMjM0NCwxNDIuMzQzOCBDMjU4LjkzNzUsMTQyLjM0MzggMjU4LjczNDQsMTQyLjQzNzUgMjU4LjUxNTYsMTQyLjc1IEwyNTguMzQzOCwxNDIuNjcxOSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY0IiB4PSIyNzAiIHk9IjE1MS4xNTQzIj5Vbml4QnV0dG9uPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjI0MiIgeDI9IjMzNiIgeTE9IjE2MyIgeTI9IjE2MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjI0MiIgeDI9IjMzNiIgeTE9IjE3MSIgeTI9IjE3MSIvPjwhLS1NRDU9Wzk4ODFjZmJiOGE1MThiNmZmZTUwYmJjMjVkNDYwYWMzXQpjbGFzcyBVbml4VGV4dC0tPjxyZWN0IGNvZGVMaW5lPSIzMiIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2ZrOWNkMWw2eG00MmIpIiBoZWlnaHQ9IjQ4IiBpZD0iVW5peFRleHQiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9Ijg0IiB4PSI3IiB5PSIxMzEiLz48ZWxsaXBzZSBjeD0iMjIiIGN5PSIxNDciIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMjQuMzQzOCwxNDIuNjcxOSBDMjMuNDA2MywxNDIuMjM0NCAyMi44MTI1LDE0Mi4wOTM4IDIxLjkzNzUsMTQyLjA5MzggQzE5LjMxMjUsMTQyLjA5MzggMTcuMzEyNSwxNDQuMTcxOSAxNy4zMTI1LDE0Ni44OTA2IEwxNy4zMTI1LDE0OC4wMTU2IEMxNy4zMTI1LDE1MC41OTM4IDE5LjQyMTksMTUyLjQ4NDQgMjIuMzEyNSwxNTIuNDg0NCBDMjMuNTMxMywxNTIuNDg0NCAyNC42ODc1LDE1Mi4xODc1IDI1LjQzNzUsMTUxLjY0MDYgQzI2LjAxNTYsMTUxLjIzNDQgMjYuMzQzOCwxNTAuNzgxMyAyNi4zNDM4LDE1MC4zOTA2IEMyNi4zNDM4LDE0OS45Mzc1IDI1Ljk1MzEsMTQ5LjU0NjkgMjUuNDg0NCwxNDkuNTQ2OSBDMjUuMjY1NiwxNDkuNTQ2OSAyNS4wNjI1LDE0OS42MjUgMjQuODc1LDE0OS44MTI1IEMyNC40MjE5LDE1MC4yOTY5IDI0LjQyMTksMTUwLjI5NjkgMjQuMjM0NCwxNTAuMzkwNiBDMjMuODEyNSwxNTAuNjU2MyAyMy4xMjUsMTUwLjc4MTMgMjIuMzU5NCwxNTAuNzgxMyBDMjAuMzEyNSwxNTAuNzgxMyAxOS4wMTU2LDE0OS42ODc1IDE5LjAxNTYsMTQ3Ljk4NDQgTDE5LjAxNTYsMTQ2Ljg5MDYgQzE5LjAxNTYsMTQ1LjEwOTQgMjAuMjY1NiwxNDMuNzk2OSAyMiwxNDMuNzk2OSBDMjIuNTc4MSwxNDMuNzk2OSAyMy4xODc1LDE0My45NTMxIDIzLjY1NjMsMTQ0LjIwMzEgQzI0LjE0MDYsMTQ0LjQ4NDQgMjQuMzEyNSwxNDQuNzAzMSAyNC40MDYzLDE0NS4xMDk0IEMyNC40Njg4LDE0NS41MTU2IDI0LjUsMTQ1LjY0MDYgMjQuNjQwNiwxNDUuNzY1NiBDMjQuNzgxMywxNDUuOTA2MyAyNS4wMTU2LDE0Ni4wMTU2IDI1LjIzNDQsMTQ2LjAxNTYgQzI1LjUsMTQ2LjAxNTYgMjUuNzY1NiwxNDUuODc1IDI1LjkzNzUsMTQ1LjY1NjMgQzI2LjA0NjksMTQ1LjUgMjYuMDc4MSwxNDUuMzEyNSAyNi4wNzgxLDE0NC44OTA2IEwyNi4wNzgxLDE0My40Njg4IEMyNi4wNzgxLDE0My4wMzEzIDI2LjA2MjUsMTQyLjkwNjMgMjUuOTY4OCwxNDIuNzUgQzI1LjgxMjUsMTQyLjQ4NDQgMjUuNTMxMywxNDIuMzQzOCAyNS4yMzQ0LDE0Mi4zNDM4IEMyNC45Mzc1LDE0Mi4zNDM4IDI0LjczNDQsMTQyLjQzNzUgMjQuNTE1NiwxNDIuNzUgTDI0LjM0MzgsMTQyLjY3MTkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MiIgeD0iMzYiIHk9IjE1MS4xNTQzIj5Vbml4VGV4dDwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI4IiB4Mj0iOTAiIHkxPSIxNjMiIHkyPSIxNjMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI4IiB4Mj0iOTAiIHkxPSIxNzEiIHkyPSIxNzEiLz48IS0tTUQ1PVsyMmZjMjdlN2M0NDFmNjc0ODk2NzUyMzM4OGUxYjJlZl0KY2xhc3MgVW5peEZhY3RvcnktLT48cmVjdCBjb2RlTGluZT0iMzUiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmazljZDFsNnhtNDJiKSIgaGVpZ2h0PSI0OCIgaWQ9IlVuaXhGYWN0b3J5IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxMDMiIHg9IjExMy41IiB5PSIyNDUiLz48ZWxsaXBzZSBjeD0iMTI4LjUiIGN5PSIyNjEiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMTMwLjg0MzgsMjU2LjY3MTkgQzEyOS45MDYzLDI1Ni4yMzQ0IDEyOS4zMTI1LDI1Ni4wOTM4IDEyOC40Mzc1LDI1Ni4wOTM4IEMxMjUuODEyNSwyNTYuMDkzOCAxMjMuODEyNSwyNTguMTcxOSAxMjMuODEyNSwyNjAuODkwNiBMMTIzLjgxMjUsMjYyLjAxNTYgQzEyMy44MTI1LDI2NC41OTM4IDEyNS45MjE5LDI2Ni40ODQ0IDEyOC44MTI1LDI2Ni40ODQ0IEMxMzAuMDMxMywyNjYuNDg0NCAxMzEuMTg3NSwyNjYuMTg3NSAxMzEuOTM3NSwyNjUuNjQwNiBDMTMyLjUxNTYsMjY1LjIzNDQgMTMyLjg0MzgsMjY0Ljc4MTMgMTMyLjg0MzgsMjY0LjM5MDYgQzEzMi44NDM4LDI2My45Mzc1IDEzMi40NTMxLDI2My41NDY5IDEzMS45ODQ0LDI2My41NDY5IEMxMzEuNzY1NiwyNjMuNTQ2OSAxMzEuNTYyNSwyNjMuNjI1IDEzMS4zNzUsMjYzLjgxMjUgQzEzMC45MjE5LDI2NC4yOTY5IDEzMC45MjE5LDI2NC4yOTY5IDEzMC43MzQ0LDI2NC4zOTA2IEMxMzAuMzEyNSwyNjQuNjU2MyAxMjkuNjI1LDI2NC43ODEzIDEyOC44NTk0LDI2NC43ODEzIEMxMjYuODEyNSwyNjQuNzgxMyAxMjUuNTE1NiwyNjMuNjg3NSAxMjUuNTE1NiwyNjEuOTg0NCBMMTI1LjUxNTYsMjYwLjg5MDYgQzEyNS41MTU2LDI1OS4xMDk0IDEyNi43NjU2LDI1Ny43OTY5IDEyOC41LDI1Ny43OTY5IEMxMjkuMDc4MSwyNTcuNzk2OSAxMjkuNjg3NSwyNTcuOTUzMSAxMzAuMTU2MywyNTguMjAzMSBDMTMwLjY0MDYsMjU4LjQ4NDQgMTMwLjgxMjUsMjU4LjcwMzEgMTMwLjkwNjMsMjU5LjEwOTQgQzEzMC45Njg4LDI1OS41MTU2IDEzMSwyNTkuNjQwNiAxMzEuMTQwNiwyNTkuNzY1NiBDMTMxLjI4MTMsMjU5LjkwNjMgMTMxLjUxNTYsMjYwLjAxNTYgMTMxLjczNDQsMjYwLjAxNTYgQzEzMiwyNjAuMDE1NiAxMzIuMjY1NiwyNTkuODc1IDEzMi40Mzc1LDI1OS42NTYzIEMxMzIuNTQ2OSwyNTkuNSAxMzIuNTc4MSwyNTkuMzEyNSAxMzIuNTc4MSwyNTguODkwNiBMMTMyLjU3ODEsMjU3LjQ2ODggQzEzMi41NzgxLDI1Ny4wMzEzIDEzMi41NjI1LDI1Ni45MDYzIDEzMi40Njg4LDI1Ni43NSBDMTMyLjMxMjUsMjU2LjQ4NDQgMTMyLjAzMTMsMjU2LjM0MzggMTMxLjczNDQsMjU2LjM0MzggQzEzMS40Mzc1LDI1Ni4zNDM4IDEzMS4yMzQ0LDI1Ni40Mzc1IDEzMS4wMTU2LDI1Ni43NSBMMTMwLjg0MzgsMjU2LjY3MTkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MSIgeD0iMTQyLjUiIHk9IjI2NS4xNTQzIj5Vbml4RmFjdG9yeTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIxMTQuNSIgeDI9IjIxNS41IiB5MT0iMjc3IiB5Mj0iMjc3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTE0LjUiIHgyPSIyMTUuNSIgeTE9IjI4NSIgeTI9IjI4NSIvPjwhLS1NRDU9WzQzMzQ5ZDE0ZmQwNzlmMTdkN2ZjYTNkNjg1OTg3ZmFkXQpjbGFzcyBXaW5GYWN0b3J5LS0+PHJlY3QgY29kZUxpbmU9IjM3IiBmaWxsPSIjQ0NDQ0NDIiBmaWx0ZXI9InVybCgjZms5Y2QxbDZ4bTQyYikiIGhlaWdodD0iNTMuOTM3NSIgaWQ9IldpbkZhY3RvcnkiIHN0eWxlPSJzdHJva2U6IzQ1NDU0NTtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9Ijk5IiB4PSIyNTEuNSIgeT0iMjQyIi8+PGVsbGlwc2UgY3g9IjI2Ni41IiBjeT0iMjYwLjk2ODgiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiM0NTQ1NDU7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMjY4Ljg0MzgsMjU2LjY0MDYgQzI2Ny45MDYzLDI1Ni4yMDMxIDI2Ny4zMTI1LDI1Ni4wNjI1IDI2Ni40Mzc1LDI1Ni4wNjI1IEMyNjMuODEyNSwyNTYuMDYyNSAyNjEuODEyNSwyNTguMTQwNiAyNjEuODEyNSwyNjAuODU5NCBMMjYxLjgxMjUsMjYxLjk4NDQgQzI2MS44MTI1LDI2NC41NjI1IDI2My45MjE5LDI2Ni40NTMxIDI2Ni44MTI1LDI2Ni40NTMxIEMyNjguMDMxMywyNjYuNDUzMSAyNjkuMTg3NSwyNjYuMTU2MyAyNjkuOTM3NSwyNjUuNjA5NCBDMjcwLjUxNTYsMjY1LjIwMzEgMjcwLjg0MzgsMjY0Ljc1IDI3MC44NDM4LDI2NC4zNTk0IEMyNzAuODQzOCwyNjMuOTA2MyAyNzAuNDUzMSwyNjMuNTE1NiAyNjkuOTg0NCwyNjMuNTE1NiBDMjY5Ljc2NTYsMjYzLjUxNTYgMjY5LjU2MjUsMjYzLjU5MzggMjY5LjM3NSwyNjMuNzgxMyBDMjY4LjkyMTksMjY0LjI2NTYgMjY4LjkyMTksMjY0LjI2NTYgMjY4LjczNDQsMjY0LjM1OTQgQzI2OC4zMTI1LDI2NC42MjUgMjY3LjYyNSwyNjQuNzUgMjY2Ljg1OTQsMjY0Ljc1IEMyNjQuODEyNSwyNjQuNzUgMjYzLjUxNTYsMjYzLjY1NjMgMjYzLjUxNTYsMjYxLjk1MzEgTDI2My41MTU2LDI2MC44NTk0IEMyNjMuNTE1NiwyNTkuMDc4MSAyNjQuNzY1NiwyNTcuNzY1NiAyNjYuNSwyNTcuNzY1NiBDMjY3LjA3ODEsMjU3Ljc2NTYgMjY3LjY4NzUsMjU3LjkyMTkgMjY4LjE1NjMsMjU4LjE3MTkgQzI2OC42NDA2LDI1OC40NTMxIDI2OC44MTI1LDI1OC42NzE5IDI2OC45MDYzLDI1OS4wNzgxIEMyNjguOTY4OCwyNTkuNDg0NCAyNjksMjU5LjYwOTQgMjY5LjE0MDYsMjU5LjczNDQgQzI2OS4yODEzLDI1OS44NzUgMjY5LjUxNTYsMjU5Ljk4NDQgMjY5LjczNDQsMjU5Ljk4NDQgQzI3MCwyNTkuOTg0NCAyNzAuMjY1NiwyNTkuODQzOCAyNzAuNDM3NSwyNTkuNjI1IEMyNzAuNTQ2OSwyNTkuNDY4OCAyNzAuNTc4MSwyNTkuMjgxMyAyNzAuNTc4MSwyNTguODU5NCBMMjcwLjU3ODEsMjU3LjQzNzUgQzI3MC41NzgxLDI1NyAyNzAuNTYyNSwyNTYuODc1IDI3MC40Njg4LDI1Ni43MTg4IEMyNzAuMzEyNSwyNTYuNDUzMSAyNzAuMDMxMywyNTYuMzEyNSAyNjkuNzM0NCwyNTYuMzEyNSBDMjY5LjQzNzUsMjU2LjMxMjUgMjY5LjIzNDQsMjU2LjQwNjMgMjY5LjAxNTYsMjU2LjcxODggTDI2OC44NDM4LDI1Ni42NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzOSIgeD0iMjk0LjUiIHk9IjI1OC4xMzg3Ij7Cq1dJTsK7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY3IiB4PSIyODAuNSIgeT0iMjcyLjEwNzQiPldpbkZhY3Rvcnk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojNDU0NTQ1O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMjUyLjUiIHgyPSIzNDkuNSIgeTE9IjI3OS45Mzc1IiB5Mj0iMjc5LjkzNzUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM0NTQ1NDU7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIyNTIuNSIgeDI9IjM0OS41IiB5MT0iMjg3LjkzNzUiIHkyPSIyODcuOTM3NSIvPjwhLS1NRDU9W2UxZmUwMDcxNGIxMjBjZmZkNGYzMDUwZmNjNGRlNTEzXQpyZXZlcnNlIGxpbmsgSUJ1dHRvbiB0byBVbml4QnV0dG9uLS0+PHBhdGggZD0iTTMyNSw4OC4wNjUgQzMyNSw4OC4wNjUgMzI1LDEzMC44ODUgMzI1LDEzMC44ODUgIiBmaWxsPSJub25lIiBpZD0iSUJ1dHRvbi1iYWNrdG8tVW5peEJ1dHRvbiIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMzE4LDg4LjA2NSwzMjUsNjguMDY1LDMzMiw4OC4wNjUsMzE4LDg4LjA2NSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bMTQwOTIxM2I3YWVhNTQzNGUzNjc0MzJiOTQ4ZWVhZDldCnJldmVyc2UgbGluayBJQnV0dG9uIHRvIFdpbkJ1dHRvbi0tPjxwYXRoIGQ9Ik0zODIuNSw4OC4wNjUgQzM4Mi41LDg4LjA2NSAzODIuNSwxMjcuNzk0IDM4Mi41LDEyNy43OTQgIiBmaWxsPSJub25lIiBpZD0iSUJ1dHRvbi1iYWNrdG8tV2luQnV0dG9uIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSIzNzUuNSw4OC4wNjUsMzgyLjUsNjguMDY1LDM4OS41LDg4LjA2NSwzNzUuNSw4OC4wNjUiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjwhLS1NRDU9Wzk1NGFjNjU2MmJhZjliNWVhNTE2NjMwYjJlNDk0OGZlXQpyZXZlcnNlIGxpbmsgSVRleHQgdG8gVW5peFRleHQtLT48cGF0aCBkPSJNNzguNzUsODguMDY1IEM3OC43NSw4OC4wNjUgNzguNzUsMTMwLjg4NSA3OC43NSwxMzAuODg1ICIgZmlsbD0ibm9uZSIgaWQ9IklUZXh0LWJhY2t0by1Vbml4VGV4dCIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iNzEuNzUwMSw4OC4wNjUsNzguNzUsNjguMDY1LDg1Ljc1MDEsODguMDY1LDcxLjc1MDEsODguMDY1IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48IS0tTUQ1PVsxZmMzY2EyMDYwODk3NTQwNTZkZmI4NDE5ODQwMGYxYl0KcmV2ZXJzZSBsaW5rIElUZXh0IHRvIFdpblRleHQtLT48cGF0aCBkPSJNMTM3Ljc1LDg4LjA2NSBDMTM3Ljc1LDg4LjA2NSAxMzcuNzUsMTI3Ljc5NCAxMzcuNzUsMTI3Ljc5NCAiIGZpbGw9Im5vbmUiIGlkPSJJVGV4dC1iYWNrdG8tV2luVGV4dCIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMTMwLjc1LDg4LjA2NSwxMzcuNzUsNjguMDY1LDE0NC43NSw4OC4wNjUsMTMwLjc1LDg4LjA2NSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bOGQxNmE2NzNjNzc0NjdhMzc2YzNhYWRjY2UyZmQ1MTddCmxpbmsgVW5peEZhY3RvcnkgdG8gSUZhY3RvcnktLT48cGF0aCBjb2RlTGluZT0iNDAiIGQ9Ik0xOTIsMjkzLjIwMyBDMTkyLDI5My4yMDMgMTkyLDMzNS42NzI0IDE5MiwzMzUuNjcyNCAiIGZpbGw9Im5vbmUiIGlkPSJVbml4RmFjdG9yeS10by1JRmFjdG9yeSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMTk5LDMzNS42NzI1LDE5MiwzNTUuNjcyNCwxODUsMzM1LjY3MjQsMTk5LDMzNS42NzI1IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48IS0tTUQ1PVs0YWFhMjI5ZmQ0ODIwNTA2OWZiZmViZTU5ZTdlMTRlYV0KbGluayBXaW5GYWN0b3J5IHRvIElGYWN0b3J5LS0+PHBhdGggY29kZUxpbmU9IjQxIiBkPSJNMjc1LDI5Ni4yMTIgQzI3NSwyOTYuMjEyIDI3NSwzMzUuOTczMSAyNzUsMzM1Ljk3MzEgIiBmaWxsPSJub25lIiBpZD0iV2luRmFjdG9yeS10by1JRmFjdG9yeSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMjgyLDMzNS45NzMxLDI3NSwzNTUuOTczMSwyNjgsMzM1Ljk3MywyODIsMzM1Ljk3MzEiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjwhLS1NRDU9W2I5MTM1M2U1NDkxNTM0MGI1NmUwYTkwODY4ZTBkZmJiXQpyZXZlcnNlIGxpbmsgVW5peEJ1dHRvbiB0byBVbml4RmFjdG9yeS0tPjxwYXRoIGNvZGVMaW5lPSI0MyIgZD0iTTIzNS42NDQsMTYzIEMyMzUuNjQ0LDE2MyAyMTEuMjUsMTYzIDIxMS4yNSwxNjMgQzIxMS4yNSwxNjMgMjExLjI1LDIxMy42NzMgMjExLjI1LDI0NC45NDcgIiBmaWxsPSJub25lIiBpZD0iVW5peEJ1dHRvbi1iYWNrdG8tVW5peEZhY3RvcnkiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjI0MC42NDQsMTYzLDIzMS42NDQsMTU5LDIzNS42NDQsMTYzLDIzMS42NDQsMTY3LDI0MC42NDQsMTYzIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48IS0tTUQ1PVthMmE2ODUzNmFmOGY3YzQ3N2RjZjkwZjY2MjY1Zjg1ZV0KcmV2ZXJzZSBsaW5rIFVuaXhUZXh0IHRvIFVuaXhGYWN0b3J5LS0+PHBhdGggY29kZUxpbmU9IjQ0IiBkPSJNOTYuMzgwOSwxNTUgQzk2LjM4MDksMTU1IDExOS43NSwxNTUgMTE5Ljc1LDE1NSBDMTE5Ljc1LDE1NSAxMTkuNzUsMjExLjM2IDExOS43NSwyNDQuODI0ICIgZmlsbD0ibm9uZSIgaWQ9IlVuaXhUZXh0LWJhY2t0by1Vbml4RmFjdG9yeSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iOTEuMzgwOSwxNTUsMTAwLjM4MDksMTU5LDk2LjM4MDksMTU1LDEwMC4zODA5LDE1MSw5MS4zODA5LDE1NSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bOGY2Y2UwYzMyNmMxYTJmZjcwZjY5YjhhYjY5NjI5OGRdCnJldmVyc2UgbGluayBXaW5CdXR0b24gdG8gV2luRmFjdG9yeS0tPjxwYXRoIGNvZGVMaW5lPSI0NiIgZD0iTTM2Ni44MjEsMTU1IEMzNjYuODIxLDE1NSAzNDMuNzUsMTU1IDM0My43NSwxNTUgQzM0My43NSwxNTUgMzQzLjc1LDIwOC4yNzIgMzQzLjc1LDI0MS45ODQgIiBmaWxsPSJub25lIiBpZD0iV2luQnV0dG9uLWJhY2t0by1XaW5GYWN0b3J5IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIzNzEuODIxLDE1NSwzNjIuODIxLDE1MSwzNjYuODIxLDE1NSwzNjIuODIxLDE1OSwzNzEuODIxLDE1NSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bYTM5OGUyOTYwNjZkOWU2NWE1M2YwN2EwMWQ2OTQ0N2NdCnJldmVyc2UgbGluayBXaW5UZXh0IHRvIFdpbkZhY3RvcnktLT48cGF0aCBjb2RlTGluZT0iNDciIGQ9Ik0yMTEuMDk2LDE0NyBDMjExLjA5NiwxNDcgMjI4Ljc1LDE0NyAyMjguNzUsMTQ3IEMyMjguNzUsMTQ3IDIyOC43NSwyNjkgMjI4Ljc1LDI2OSBDMjI4Ljc1LDI2OSAyMzguNywyNjkgMjUxLjIxNCwyNjkgIiBmaWxsPSJub25lIiBpZD0iV2luVGV4dC1iYWNrdG8tV2luRmFjdG9yeSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMjA2LjA5NiwxNDcsMjE1LjA5NiwxNTEsMjExLjA5NiwxNDcsMjE1LjA5NiwxNDMsMjA2LjA5NiwxNDciIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjwhLS1NRDU9WzMyMDA2ZTM1ZWI2Y2VmMjRiODU1Y2Q3MzJhNjVhOTQ5XQpAc3RhcnR1bWwNCnNraW5wYXJhbSBtb25vY2hyb21lIHRydWUNCidza2lucGFyYW0gaGFuZHdyaXR0ZW4gdHJ1ZQ0Kc2tpbnBhcmFtIGNsYXNzIHsNCiAgICAnQmFja2dyb3VuZENvbG9yIExpZ2h0Ymx1ZSANCiAgICANCiAgICBCYWNrZ3JvdW5kQ29sb3I8PFdJTj4+ICBMaWdodGJsdWUNCiAgICBCb3JkZXJDb2xvcjw8V0lOPj4gRGFya1NsYXRlR3JheQ0KfQ0KV2luQnV0dG9uIDw8V0lOPj4NCldpblRleHQgPDxXSU4+Pg0KJ1dpbkZhY3RvcnkgPDxXSU4+Pg0KDQpza2lucGFyYW0gY2xhc3NBdHRyaWJ1dGVJY29uU2l6ZSAwDQpza2lucGFyYW0gbGluZXR5cGUgb3J0aG8NCmludGVyZmFjZSBJQnV0dG9uIHsNCiAgICArICBjbGljaygpOnZvaWQNCn0NCg0KaW50ZXJmYWNlIElUZXh0IHsNCiAgICArIGRyYXcoKTp2b2lkDQp9DQoNCmludGVyZmFjZSBJRmFjdG9yeSB7DQogICAgKyBnZXRCdXR0b24oKTpJQnV0dG9uOw0KICAgICsgZ2V0VGV4dCgpOklUZXh0Ow0KfQ0KDQoNCmNsYXNzIFVuaXhCdXR0b24gaW1wbGVtZW50cyAgSUJ1dHRvbiB7fQ0KY2xhc3MgV2luQnV0dG9uIGltcGxlbWVudHMgSUJ1dHRvbiB7fQ0KDQpjbGFzcyBVbml4VGV4dCBpbXBsZW1lbnRzIElUZXh0IHt9DQpjbGFzcyBXaW5UZXh0IGltcGxlbWVudHMgSVRleHQge30gDQoNCmNsYXNzIFVuaXhGYWN0b3J5IHsNCn0NCmNsYXNzIFdpbkZhY3RvcnkgPDxXSU4+PiB7DQp9DQoNClVuaXhGYWN0b3J5IC5kLnw+IElGYWN0b3J5DQpXaW5GYWN0b3J5IC5kLnw+IElGYWN0b3J5DQoNClVuaXhGYWN0b3J5IC51Lj4gVW5peEJ1dHRvbg0KVW5peEZhY3RvcnkgLnUuPiBVbml4VGV4dA0KDQpXaW5GYWN0b3J5IC51Lj4gV2luQnV0dG9uDQpXaW5GYWN0b3J5IC51Lj4gV2luVGV4dA0KQGVuZHVtbA0KCkBzdGFydHVtbA0Kc2tpbnBhcmFtIG1vbm9jaHJvbWUgdHJ1ZQ0Kc2tpbnBhcmFtIGNsYXNzIHsNCiAgICANCiAgICBCYWNrZ3JvdW5kQ29sb3I8PFdJTj4+ICBMaWdodGJsdWUNCiAgICBCb3JkZXJDb2xvcjw8V0lOPj4gRGFya1NsYXRlR3JheQ0KfQ0KV2luQnV0dG9uIDw8V0lOPj4NCldpblRleHQgPDxXSU4+Pg0KDQpza2lucGFyYW0gY2xhc3NBdHRyaWJ1dGVJY29uU2l6ZSAwDQpza2lucGFyYW0gbGluZXR5cGUgb3J0aG8NCmludGVyZmFjZSBJQnV0dG9uIHsNCiAgICArICBjbGljaygpOnZvaWQNCn0NCg0KaW50ZXJmYWNlIElUZXh0IHsNCiAgICArIGRyYXcoKTp2b2lkDQp9DQoNCmludGVyZmFjZSBJRmFjdG9yeSB7DQogICAgKyBnZXRCdXR0b24oKTpJQnV0dG9uOw0KICAgICsgZ2V0VGV4dCgpOklUZXh0Ow0KfQ0KDQoNCmNsYXNzIFVuaXhCdXR0b24gaW1wbGVtZW50cyAgSUJ1dHRvbiB7fQ0KY2xhc3MgV2luQnV0dG9uIGltcGxlbWVudHMgSUJ1dHRvbiB7fQ0KDQpjbGFzcyBVbml4VGV4dCBpbXBsZW1lbnRzIElUZXh0IHt9DQpjbGFzcyBXaW5UZXh0IGltcGxlbWVudHMgSVRleHQge30gDQoNCmNsYXNzIFVuaXhGYWN0b3J5IHsNCn0NCmNsYXNzIFdpbkZhY3RvcnkgPDxXSU4+PiB7DQp9DQoNClVuaXhGYWN0b3J5IC5kLnw+IElGYWN0b3J5DQpXaW5GYWN0b3J5IC5kLnw+IElGYWN0b3J5DQoNClVuaXhGYWN0b3J5IC51Lj4gVW5peEJ1dHRvbg0KVW5peEZhY3RvcnkgLnUuPiBVbml4VGV4dA0KDQpXaW5GYWN0b3J5IC51Lj4gV2luQnV0dG9uDQpXaW5GYWN0b3J5IC51Lj4gV2luVGV4dA0KQGVuZHVtbA0KClBsYW50VU1MIHZlcnNpb24gMS4yMDIxLjAxYmV0YTMoVW5rbm93biBjb21waWxlIHRpbWUpCihHUEwgc291cmNlIGRpc3RyaWJ1dGlvbikKSmF2YSBSdW50aW1lOiBKYXZhKFRNKSBTRSBSdW50aW1lIEVudmlyb25tZW50CkpWTTogSmF2YSBIb3RTcG90KFRNKSA2NC1CaXQgU2VydmVyIFZNCkRlZmF1bHQgRW5jb2Rpbmc6IFVURi04Ckxhbmd1YWdlOiBlbgpDb3VudHJ5OiBVUwotLT48L2c+PC9zdmc+'>
<blockquote>
<p>如上图的uml所示，有两个产品ITextA和IButton，并且每个产品中又分Unix和Win两种类型，产品消费方需要两个产品中的Unix类型或者Win类型，通过工厂UnixFactory提供获取Unix类型的两个产品，通过工厂WinFactory获取类型为Win的两个产品。</p>
</blockquote>
<small>
可以把IFactory中增加一个getFactory的静态方法，通过不同的参数返回不同的实现。例如传入”unix“返回UnixFactory，传入”win“返回WinFactory。
</small>



<h4 id="建造模式（BUILDER）"><a href="#建造模式（BUILDER）" class="headerlink" title="建造模式（BUILDER）"></a>建造模式（BUILDER）</h4><h5 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h5><ul>
<li>生成的产品对象有复杂的内部结构。</li>
<li>生成的产品对象的属性相互依赖。</li>
<li>会使用系统中的其他一些对象，并且在产品对象的创建过程中不易得到。</li>
</ul>
<h5 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h5><ul>
<li>使得产品的内部表象可以独立变化，客户端不必要知道产品的内部组成细节。</li>
<li>每一个Builder都相对独立，与其他Builder关联不大。</li>
<li>模式建造的最终产品更易于控制。</li>
</ul>
<p>一般情况下建造者模式下有客户，导演者，建造者，产品等角色，其中导演者起到组合建造者的建造流程，建造者提供各种建造方法，以及返回产品对象的方法。导演者、建造者、产品角色可以合并，导演者创建对象的步骤类似于模板方法，规定了建造产品的步骤。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iNDUwcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDozOTZweDtoZWlnaHQ6NDUwcHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzOTYgNDUwIiB3aWR0aD0iMzk2cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZnRiazV4cmVseG1ueSIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVs1N2FkY2JmY2QwMDE3NWY5YjdhYmUyNTM5OGU3ZGUwY10KY2xhc3MgRGlyZWN0b3ItLT48cmVjdCBjb2RlTGluZT0iOSIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2Z0Yms1eHJlbHhtbnkpIiBoZWlnaHQ9IjczLjYwOTQiIGlkPSJEaXJlY3RvciIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMTA3IiB4PSI3IiB5PSIxMyIvPjxlbGxpcHNlIGN4PSIzMy43IiBjeT0iMjkiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMzYuMDQzOCwyNC42NzE5IEMzNS4xMDYzLDI0LjIzNDQgMzQuNTEyNSwyNC4wOTM4IDMzLjYzNzUsMjQuMDkzOCBDMzEuMDEyNSwyNC4wOTM4IDI5LjAxMjUsMjYuMTcxOSAyOS4wMTI1LDI4Ljg5MDYgTDI5LjAxMjUsMzAuMDE1NiBDMjkuMDEyNSwzMi41OTM4IDMxLjEyMTksMzQuNDg0NCAzNC4wMTI1LDM0LjQ4NDQgQzM1LjIzMTMsMzQuNDg0NCAzNi4zODc1LDM0LjE4NzUgMzcuMTM3NSwzMy42NDA2IEMzNy43MTU2LDMzLjIzNDQgMzguMDQzOCwzMi43ODEzIDM4LjA0MzgsMzIuMzkwNiBDMzguMDQzOCwzMS45Mzc1IDM3LjY1MzEsMzEuNTQ2OSAzNy4xODQ0LDMxLjU0NjkgQzM2Ljk2NTYsMzEuNTQ2OSAzNi43NjI1LDMxLjYyNSAzNi41NzUsMzEuODEyNSBDMzYuMTIxOSwzMi4yOTY5IDM2LjEyMTksMzIuMjk2OSAzNS45MzQ0LDMyLjM5MDYgQzM1LjUxMjUsMzIuNjU2MyAzNC44MjUsMzIuNzgxMyAzNC4wNTk0LDMyLjc4MTMgQzMyLjAxMjUsMzIuNzgxMyAzMC43MTU2LDMxLjY4NzUgMzAuNzE1NiwyOS45ODQ0IEwzMC43MTU2LDI4Ljg5MDYgQzMwLjcxNTYsMjcuMTA5NCAzMS45NjU2LDI1Ljc5NjkgMzMuNywyNS43OTY5IEMzNC4yNzgxLDI1Ljc5NjkgMzQuODg3NSwyNS45NTMxIDM1LjM1NjMsMjYuMjAzMSBDMzUuODQwNiwyNi40ODQ0IDM2LjAxMjUsMjYuNzAzMSAzNi4xMDYzLDI3LjEwOTQgQzM2LjE2ODgsMjcuNTE1NiAzNi4yLDI3LjY0MDYgMzYuMzQwNiwyNy43NjU2IEMzNi40ODEzLDI3LjkwNjMgMzYuNzE1NiwyOC4wMTU2IDM2LjkzNDQsMjguMDE1NiBDMzcuMiwyOC4wMTU2IDM3LjQ2NTYsMjcuODc1IDM3LjYzNzUsMjcuNjU2MyBDMzcuNzQ2OSwyNy41IDM3Ljc3ODEsMjcuMzEyNSAzNy43NzgxLDI2Ljg5MDYgTDM3Ljc3ODEsMjUuNDY4OCBDMzcuNzc4MSwyNS4wMzEzIDM3Ljc2MjUsMjQuOTA2MyAzNy42Njg4LDI0Ljc1IEMzNy41MTI1LDI0LjQ4NDQgMzcuMjMxMywyNC4zNDM4IDM2LjkzNDQsMjQuMzQzOCBDMzYuNjM3NSwyNC4zNDM4IDM2LjQzNDQsMjQuNDM3NSAzNi4yMTU2LDI0Ljc1IEwzNi4wNDM4LDI0LjY3MTkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OSIgeD0iNTAuMyIgeT0iMzMuMTU0MyI+RGlyZWN0b3I8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iOCIgeDI9IjExMyIgeTE9IjQ1IiB5Mj0iNDUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NiIgeD0iMTMiIHk9IjU5LjIxMDQiPi1idWlsZGVyOkJ1aWxkZXI8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iOCIgeDI9IjExMyIgeTE9IjY1LjgwNDciIHkyPSI2NS44MDQ3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTUiIHg9IjEzIiB5PSI4MC4wMTUxIj4rY29uc3RydWN0KCk6dm9pZDwvdGV4dD48IS0tTUQ1PVthOGRjOGFlZmNlMDg1ZGFlNzBiZWMxNWUzMDJjZmVjOV0KY2xhc3MgQnVpbGRlci0tPjxyZWN0IGNvZGVMaW5lPSIxNCIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2Z0Yms1eHJlbHhtbnkpIiBoZWlnaHQ9Ijg2LjQxNDEiIGlkPSJCdWlsZGVyIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxNTYiIHg9IjE0OS41IiB5PSI3Ii8+PGVsbGlwc2UgY3g9IjIwMi4yNSIgY3k9IjIzIiBmaWxsPSIjQ0RDRENEIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTIwNC4zMjgxLDI0LjgxMjUgTDIwNC43MTg4LDI1Ljc5NjkgTDIwNC4zMjgxLDI1Ljc5NjkgQzIwMy44NzUsMjUuNzk2OSAyMDMuNzY1NiwyNS44MTI1IDIwMy42MDk0LDI1LjkyMTkgQzIwMy4zNTk0LDI2LjA3ODEgMjAzLjIwMzEsMjYuMzU5NCAyMDMuMjAzMSwyNi42NTYzIEMyMDMuMjAzMSwyNi45MjE5IDIwMy4zNDM4LDI3LjE3MTkgMjAzLjU2MjUsMjcuMzI4MSBDMjAzLjcwMzEsMjcuNDUzMSAyMDMuOTA2MywyNy41IDIwNC4zMjgxLDI3LjUgTDIwNi42ODc1LDI3LjUgQzIwNy4wNDY5LDI3LjUgMjA3LjI2NTYsMjcuNDY4OCAyMDcuNDA2MywyNy4zNzUgQzIwNy42NTYzLDI3LjIzNDQgMjA3LjgxMjUsMjYuOTM3NSAyMDcuODEyNSwyNi42NTYzIEMyMDcuODEyNSwyNi4zNzUgMjA3LjY3MTksMjYuMTI1IDIwNy40NTMxLDI1Ljk2ODggQzIwNy4yODEzLDI1LjgyODEgMjA3LjEyNSwyNS43OTY5IDIwNi42NTYzLDI1Ljc5NjkgTDIwMy4yNjU2LDE3LjU5MzggTDE5OS41OTM4LDE3LjU5MzggQzE5OS4xNDA2LDE3LjU5MzggMTk5LjAxNTYsMTcuNjA5NCAxOTguODU5NCwxNy43MDMxIEMxOTguNjA5NCwxNy44NzUgMTk4LjQ1MzEsMTguMTU2MyAxOTguNDUzMSwxOC40Mzc1IEMxOTguNDUzMSwxOC43MTg4IDE5OC41OTM4LDE4Ljk2ODggMTk4LjgxMjUsMTkuMTQwNiBDMTk4Ljk4NDQsMTkuMjUgMTk5LjE1NjMsMTkuMjgxMyAxOTkuNTkzOCwxOS4yODEzIEwyMDAuNjcxOSwxOS4yODEzIEwxOTguMDMxMywyNS43OTY5IEMxOTcuNjA5NCwyNS43OTY5IDE5Ny40NTMxLDI1LjgxMjUgMTk3LjI5NjksMjUuOTIxOSBDMTk3LjA0NjksMjYuMDc4MSAxOTYuODkwNiwyNi4zNTk0IDE5Ni44OTA2LDI2LjY1NjMgQzE5Ni44OTA2LDI3LjIxODggMTk3LjI2NTYsMjcuNSAxOTguMDE1NiwyNy41IEwyMDAuMjgxMywyNy41IEMyMDAuNjQwNiwyNy41IDIwMC44NTk0LDI3LjQ2ODggMjAwLjk4NDQsMjcuMzc1IEMyMDEuMjUsMjcuMjM0NCAyMDEuMzkwNiwyNi45Mzc1IDIwMS4zOTA2LDI2LjY1NjMgQzIwMS4zOTA2LDI2LjM3NSAyMDEuMjY1NiwyNi4xMjUgMjAxLjA0NjksMjUuOTUzMSBDMjAwLjg3NSwyNS44MjgxIDIwMC43MzQ0LDI1Ljc5NjkgMjAwLjI4MTMsMjUuNzk2OSBMMTk5Ljg5MDYsMjUuNzk2OSBMMjAwLjI4MTMsMjQuODEyNSBMMjA0LjMyODEsMjQuODEyNSBaIE0yMDMuNjI1LDIzLjEwOTQgTDIwMC45NTMxLDIzLjEwOTQgTDIwMi4yOTY5LDE5Ljg0MzggTDIwMy42MjUsMjMuMTA5NCBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDIiIHg9IjIyMi43NSIgeT0iMjcuMTU0MyI+QnVpbGRlcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIxNTAuNSIgeDI9IjMwNC41IiB5MT0iMzkiIHkyPSIzOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjE1MC41IiB4Mj0iMzA0LjUiIHkxPSI0NyIgeTI9IjQ3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTkiIHg9IjE1NS41IiB5PSI2MS4yMTA0Ij4rYnVpbGRQYXJ0MSgpOnZvaWQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTkiIHg9IjE1NS41IiB5PSI3NC4wMTUxIj4rYnVpbGRQYXJ0MigpOnZvaWQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDQiIHg9IjE1NS41IiB5PSI4Ni44MTk4Ij4rcmV0cmlldmVSZXN1bHQoKTpQcm9kdWN0PC90ZXh0PjwhLS1NRDU9Wzg1ZmE0MTQ3OGQwODBkNjA3OWFjZTJjMWE5Y2IwMzA4XQpjbGFzcyBDb25jcmV0ZUJ1aWxkZXIxLS0+PHJlY3QgY29kZUxpbmU9IjIwIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZnRiazV4cmVseG1ueSkiIGhlaWdodD0iNDgiIGlkPSJDb25jcmV0ZUJ1aWxkZXIxIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxMzYiIHg9IjczLjUiIHk9IjE1NCIvPjxlbGxpcHNlIGN4PSI4OC41IiBjeT0iMTcwIiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTkwLjg0MzgsMTY1LjY3MTkgQzg5LjkwNjMsMTY1LjIzNDQgODkuMzEyNSwxNjUuMDkzOCA4OC40Mzc1LDE2NS4wOTM4IEM4NS44MTI1LDE2NS4wOTM4IDgzLjgxMjUsMTY3LjE3MTkgODMuODEyNSwxNjkuODkwNiBMODMuODEyNSwxNzEuMDE1NiBDODMuODEyNSwxNzMuNTkzOCA4NS45MjE5LDE3NS40ODQ0IDg4LjgxMjUsMTc1LjQ4NDQgQzkwLjAzMTMsMTc1LjQ4NDQgOTEuMTg3NSwxNzUuMTg3NSA5MS45Mzc1LDE3NC42NDA2IEM5Mi41MTU2LDE3NC4yMzQ0IDkyLjg0MzgsMTczLjc4MTMgOTIuODQzOCwxNzMuMzkwNiBDOTIuODQzOCwxNzIuOTM3NSA5Mi40NTMxLDE3Mi41NDY5IDkxLjk4NDQsMTcyLjU0NjkgQzkxLjc2NTYsMTcyLjU0NjkgOTEuNTYyNSwxNzIuNjI1IDkxLjM3NSwxNzIuODEyNSBDOTAuOTIxOSwxNzMuMjk2OSA5MC45MjE5LDE3My4yOTY5IDkwLjczNDQsMTczLjM5MDYgQzkwLjMxMjUsMTczLjY1NjMgODkuNjI1LDE3My43ODEzIDg4Ljg1OTQsMTczLjc4MTMgQzg2LjgxMjUsMTczLjc4MTMgODUuNTE1NiwxNzIuNjg3NSA4NS41MTU2LDE3MC45ODQ0IEw4NS41MTU2LDE2OS44OTA2IEM4NS41MTU2LDE2OC4xMDk0IDg2Ljc2NTYsMTY2Ljc5NjkgODguNSwxNjYuNzk2OSBDODkuMDc4MSwxNjYuNzk2OSA4OS42ODc1LDE2Ni45NTMxIDkwLjE1NjMsMTY3LjIwMzEgQzkwLjY0MDYsMTY3LjQ4NDQgOTAuODEyNSwxNjcuNzAzMSA5MC45MDYzLDE2OC4xMDk0IEM5MC45Njg4LDE2OC41MTU2IDkxLDE2OC42NDA2IDkxLjE0MDYsMTY4Ljc2NTYgQzkxLjI4MTMsMTY4LjkwNjMgOTEuNTE1NiwxNjkuMDE1NiA5MS43MzQ0LDE2OS4wMTU2IEM5MiwxNjkuMDE1NiA5Mi4yNjU2LDE2OC44NzUgOTIuNDM3NSwxNjguNjU2MyBDOTIuNTQ2OSwxNjguNSA5Mi41NzgxLDE2OC4zMTI1IDkyLjU3ODEsMTY3Ljg5MDYgTDkyLjU3ODEsMTY2LjQ2ODggQzkyLjU3ODEsMTY2LjAzMTMgOTIuNTYyNSwxNjUuOTA2MyA5Mi40Njg4LDE2NS43NSBDOTIuMzEyNSwxNjUuNDg0NCA5Mi4wMzEzLDE2NS4zNDM4IDkxLjczNDQsMTY1LjM0MzggQzkxLjQzNzUsMTY1LjM0MzggOTEuMjM0NCwxNjUuNDM3NSA5MS4wMTU2LDE2NS43NSBMOTAuODQzOCwxNjUuNjcxOSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNCIgeD0iMTAyLjUiIHk9IjE3NC4xNTQzIj5Db25jcmV0ZUJ1aWxkZXIxPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9Ijc0LjUiIHgyPSIyMDguNSIgeTE9IjE4NiIgeTI9IjE4NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9Ijc0LjUiIHgyPSIyMDguNSIgeTE9IjE5NCIgeTI9IjE5NCIvPjwhLS1NRDU9WzMxNWQ1YmNiMDJiMmY5YTY1Y2RlNDEwYTljZTA3NTBmXQpjbGFzcyBDb25jcmV0ZUJ1aWxkZXIyLS0+PHJlY3QgY29kZUxpbmU9IjIxIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZnRiazV4cmVseG1ueSkiIGhlaWdodD0iNDgiIGlkPSJDb25jcmV0ZUJ1aWxkZXIyIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxMzciIHg9IjI0NSIgeT0iMTU0Ii8+PGVsbGlwc2UgY3g9IjI2MCIgY3k9IjE3MCIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0yNjIuMzQzOCwxNjUuNjcxOSBDMjYxLjQwNjMsMTY1LjIzNDQgMjYwLjgxMjUsMTY1LjA5MzggMjU5LjkzNzUsMTY1LjA5MzggQzI1Ny4zMTI1LDE2NS4wOTM4IDI1NS4zMTI1LDE2Ny4xNzE5IDI1NS4zMTI1LDE2OS44OTA2IEwyNTUuMzEyNSwxNzEuMDE1NiBDMjU1LjMxMjUsMTczLjU5MzggMjU3LjQyMTksMTc1LjQ4NDQgMjYwLjMxMjUsMTc1LjQ4NDQgQzI2MS41MzEzLDE3NS40ODQ0IDI2Mi42ODc1LDE3NS4xODc1IDI2My40Mzc1LDE3NC42NDA2IEMyNjQuMDE1NiwxNzQuMjM0NCAyNjQuMzQzOCwxNzMuNzgxMyAyNjQuMzQzOCwxNzMuMzkwNiBDMjY0LjM0MzgsMTcyLjkzNzUgMjYzLjk1MzEsMTcyLjU0NjkgMjYzLjQ4NDQsMTcyLjU0NjkgQzI2My4yNjU2LDE3Mi41NDY5IDI2My4wNjI1LDE3Mi42MjUgMjYyLjg3NSwxNzIuODEyNSBDMjYyLjQyMTksMTczLjI5NjkgMjYyLjQyMTksMTczLjI5NjkgMjYyLjIzNDQsMTczLjM5MDYgQzI2MS44MTI1LDE3My42NTYzIDI2MS4xMjUsMTczLjc4MTMgMjYwLjM1OTQsMTczLjc4MTMgQzI1OC4zMTI1LDE3My43ODEzIDI1Ny4wMTU2LDE3Mi42ODc1IDI1Ny4wMTU2LDE3MC45ODQ0IEwyNTcuMDE1NiwxNjkuODkwNiBDMjU3LjAxNTYsMTY4LjEwOTQgMjU4LjI2NTYsMTY2Ljc5NjkgMjYwLDE2Ni43OTY5IEMyNjAuNTc4MSwxNjYuNzk2OSAyNjEuMTg3NSwxNjYuOTUzMSAyNjEuNjU2MywxNjcuMjAzMSBDMjYyLjE0MDYsMTY3LjQ4NDQgMjYyLjMxMjUsMTY3LjcwMzEgMjYyLjQwNjMsMTY4LjEwOTQgQzI2Mi40Njg4LDE2OC41MTU2IDI2Mi41LDE2OC42NDA2IDI2Mi42NDA2LDE2OC43NjU2IEMyNjIuNzgxMywxNjguOTA2MyAyNjMuMDE1NiwxNjkuMDE1NiAyNjMuMjM0NCwxNjkuMDE1NiBDMjYzLjUsMTY5LjAxNTYgMjYzLjc2NTYsMTY4Ljg3NSAyNjMuOTM3NSwxNjguNjU2MyBDMjY0LjA0NjksMTY4LjUgMjY0LjA3ODEsMTY4LjMxMjUgMjY0LjA3ODEsMTY3Ljg5MDYgTDI2NC4wNzgxLDE2Ni40Njg4IEMyNjQuMDc4MSwxNjYuMDMxMyAyNjQuMDYyNSwxNjUuOTA2MyAyNjMuOTY4OCwxNjUuNzUgQzI2My44MTI1LDE2NS40ODQ0IDI2My41MzEzLDE2NS4zNDM4IDI2My4yMzQ0LDE2NS4zNDM4IEMyNjIuOTM3NSwxNjUuMzQzOCAyNjIuNzM0NCwxNjUuNDM3NSAyNjIuNTE1NiwxNjUuNzUgTDI2Mi4zNDM4LDE2NS42NzE5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA1IiB4PSIyNzQiIHk9IjE3NC4xNTQzIj5Db25jcmV0ZUJ1aWxkZXIyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjI0NiIgeDI9IjM4MSIgeTE9IjE4NiIgeTI9IjE4NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjI0NiIgeDI9IjM4MSIgeTE9IjE5NCIgeTI9IjE5NCIvPjwhLS1NRDU9W2IzYjU3NjIyYzlmOTkwYzU3NDZkNjI0MDc3ZWEzMmM3XQpjbGFzcyBJUHJvZHVjdC0tPjxyZWN0IGNvZGVMaW5lPSIyMyIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2Z0Yms1eHJlbHhtbnkpIiBoZWlnaHQ9IjQ4IiBpZD0iSVByb2R1Y3QiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjgzIiB4PSIyMDMiIHk9IjM4OCIvPjxlbGxpcHNlIGN4PSIyMTgiIGN5PSI0MDQiIGZpbGw9IiNCMUIxQjEiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMjE4Ljk1MzEsNDAwLjc4MTMgTDIyMC42NzE5LDQwMC43ODEzIEMyMjEuMDYyNSw0MDAuNzgxMyAyMjEuMjUsNDAwLjc1IDIyMS4zNzUsNDAwLjY3MTkgQzIyMS42NDA2LDQwMC41MTU2IDIyMS43ODEzLDQwMC4yMzQ0IDIyMS43ODEzLDM5OS45Mzc1IEMyMjEuNzgxMywzOTkuNjcxOSAyMjEuNjcxOSwzOTkuNDA2MyAyMjEuNDM3NSwzOTkuMjM0NCBDMjIxLjI2NTYsMzk5LjEyNSAyMjEuMTI1LDM5OS4wOTM4IDIyMC42NzE5LDM5OS4wOTM4IEwyMTUuNTMxMywzOTkuMDkzOCBDMjE1LjA5MzgsMzk5LjA5MzggMjE0Ljk2ODgsMzk5LjEwOTQgMjE0LjgxMjUsMzk5LjIwMzEgQzIxNC41NjI1LDM5OS4zNTk0IDIxNC40MDYzLDM5OS42NTYzIDIxNC40MDYzLDM5OS45Mzc1IEMyMTQuNDA2Myw0MDAuMjE4OCAyMTQuNTQ2OSw0MDAuNDY4OCAyMTQuNzY1Niw0MDAuNjQwNiBDMjE0LjkyMTksNDAwLjc1IDIxNS4xMDk0LDQwMC43ODEzIDIxNS41MzEzLDQwMC43ODEzIEwyMTcuMjUsNDAwLjc4MTMgTDIxNy4yNSw0MDcuMjk2OSBMMjE1LjUzMTMsNDA3LjI5NjkgQzIxNS4wOTM4LDQwNy4yOTY5IDIxNC45Njg4LDQwNy4zMTI1IDIxNC44MTI1LDQwNy40MjE5IEMyMTQuNTYyNSw0MDcuNTc4MSAyMTQuNDA2Myw0MDcuODU5NCAyMTQuNDA2Myw0MDguMTU2MyBDMjE0LjQwNjMsNDA4LjQwNjMgMjE0LjU0NjksNDA4LjY3MTkgMjE0Ljc2NTYsNDA4LjgyODEgQzIxNC45MjE5LDQwOC45NTMxIDIxNS4xMjUsNDA5IDIxNS41MzEzLDQwOSBMMjIwLjY3MTksNDA5IEMyMjEuNDIxOSw0MDkgMjIxLjc4MTMsNDA4LjcxODggMjIxLjc4MTMsNDA4LjE1NjMgQzIyMS43ODEzLDQwNy44NzUgMjIxLjY3MTksNDA3LjYyNSAyMjEuNDM3NSw0MDcuNDUzMSBDMjIxLjI2NTYsNDA3LjMyODEgMjIxLjEyNSw0MDcuMjk2OSAyMjAuNjcxOSw0MDcuMjk2OSBMMjE4Ljk1MzEsNDA3LjI5NjkgTDIxOC45NTMxLDQwMC43ODEzIFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MSIgeD0iMjMyIiB5PSI0MDguMTU0MyI+SVByb2R1Y3Q8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMjA0IiB4Mj0iMjg1IiB5MT0iNDIwIiB5Mj0iNDIwIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMjA0IiB4Mj0iMjg1IiB5MT0iNDI4IiB5Mj0iNDI4Ii8+PCEtLU1ENT1bOGU3YTFlMmMxMjc2MzJlNTU5NTNlNWQyNzZkYTczN2NdCmNsYXNzIFByb2R1Y3QxLS0+PHJlY3QgY29kZUxpbmU9IjI0IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZnRiazV4cmVseG1ueSkiIGhlaWdodD0iNDgiIGlkPSJQcm9kdWN0MSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iODQiIHg9IjEzMS41IiB5PSIyNzkiLz48ZWxsaXBzZSBjeD0iMTQ2LjUiIGN5PSIyOTUiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMTQ4Ljg0MzgsMjkwLjY3MTkgQzE0Ny45MDYzLDI5MC4yMzQ0IDE0Ny4zMTI1LDI5MC4wOTM4IDE0Ni40Mzc1LDI5MC4wOTM4IEMxNDMuODEyNSwyOTAuMDkzOCAxNDEuODEyNSwyOTIuMTcxOSAxNDEuODEyNSwyOTQuODkwNiBMMTQxLjgxMjUsMjk2LjAxNTYgQzE0MS44MTI1LDI5OC41OTM4IDE0My45MjE5LDMwMC40ODQ0IDE0Ni44MTI1LDMwMC40ODQ0IEMxNDguMDMxMywzMDAuNDg0NCAxNDkuMTg3NSwzMDAuMTg3NSAxNDkuOTM3NSwyOTkuNjQwNiBDMTUwLjUxNTYsMjk5LjIzNDQgMTUwLjg0MzgsMjk4Ljc4MTMgMTUwLjg0MzgsMjk4LjM5MDYgQzE1MC44NDM4LDI5Ny45Mzc1IDE1MC40NTMxLDI5Ny41NDY5IDE0OS45ODQ0LDI5Ny41NDY5IEMxNDkuNzY1NiwyOTcuNTQ2OSAxNDkuNTYyNSwyOTcuNjI1IDE0OS4zNzUsMjk3LjgxMjUgQzE0OC45MjE5LDI5OC4yOTY5IDE0OC45MjE5LDI5OC4yOTY5IDE0OC43MzQ0LDI5OC4zOTA2IEMxNDguMzEyNSwyOTguNjU2MyAxNDcuNjI1LDI5OC43ODEzIDE0Ni44NTk0LDI5OC43ODEzIEMxNDQuODEyNSwyOTguNzgxMyAxNDMuNTE1NiwyOTcuNjg3NSAxNDMuNTE1NiwyOTUuOTg0NCBMMTQzLjUxNTYsMjk0Ljg5MDYgQzE0My41MTU2LDI5My4xMDk0IDE0NC43NjU2LDI5MS43OTY5IDE0Ni41LDI5MS43OTY5IEMxNDcuMDc4MSwyOTEuNzk2OSAxNDcuNjg3NSwyOTEuOTUzMSAxNDguMTU2MywyOTIuMjAzMSBDMTQ4LjY0MDYsMjkyLjQ4NDQgMTQ4LjgxMjUsMjkyLjcwMzEgMTQ4LjkwNjMsMjkzLjEwOTQgQzE0OC45Njg4LDI5My41MTU2IDE0OSwyOTMuNjQwNiAxNDkuMTQwNiwyOTMuNzY1NiBDMTQ5LjI4MTMsMjkzLjkwNjMgMTQ5LjUxNTYsMjk0LjAxNTYgMTQ5LjczNDQsMjk0LjAxNTYgQzE1MCwyOTQuMDE1NiAxNTAuMjY1NiwyOTMuODc1IDE1MC40Mzc1LDI5My42NTYzIEMxNTAuNTQ2OSwyOTMuNSAxNTAuNTc4MSwyOTMuMzEyNSAxNTAuNTc4MSwyOTIuODkwNiBMMTUwLjU3ODEsMjkxLjQ2ODggQzE1MC41NzgxLDI5MS4wMzEzIDE1MC41NjI1LDI5MC45MDYzIDE1MC40Njg4LDI5MC43NSBDMTUwLjMxMjUsMjkwLjQ4NDQgMTUwLjAzMTMsMjkwLjM0MzggMTQ5LjczNDQsMjkwLjM0MzggQzE0OS40Mzc1LDI5MC4zNDM4IDE0OS4yMzQ0LDI5MC40Mzc1IDE0OS4wMTU2LDI5MC43NSBMMTQ4Ljg0MzgsMjkwLjY3MTkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MiIgeD0iMTYwLjUiIHk9IjI5OS4xNTQzIj5Qcm9kdWN0MTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIxMzIuNSIgeDI9IjIxNC41IiB5MT0iMzExIiB5Mj0iMzExIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTMyLjUiIHgyPSIyMTQuNSIgeTE9IjMxOSIgeTI9IjMxOSIvPjwhLS1NRDU9WzVhZDNhYTRhMzE1ZTI5OGYxMzU4ZDY0ZWUzOWM2YjFlXQpjbGFzcyBQcm9kdWN0Mi0tPjxyZWN0IGNvZGVMaW5lPSIyNSIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2Z0Yms1eHJlbHhtbnkpIiBoZWlnaHQ9IjQ4IiBpZD0iUHJvZHVjdDIiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9Ijg1IiB4PSIyNTQiIHk9IjI3OSIvPjxlbGxpcHNlIGN4PSIyNjkiIGN5PSIyOTUiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMjcxLjM0MzgsMjkwLjY3MTkgQzI3MC40MDYzLDI5MC4yMzQ0IDI2OS44MTI1LDI5MC4wOTM4IDI2OC45Mzc1LDI5MC4wOTM4IEMyNjYuMzEyNSwyOTAuMDkzOCAyNjQuMzEyNSwyOTIuMTcxOSAyNjQuMzEyNSwyOTQuODkwNiBMMjY0LjMxMjUsMjk2LjAxNTYgQzI2NC4zMTI1LDI5OC41OTM4IDI2Ni40MjE5LDMwMC40ODQ0IDI2OS4zMTI1LDMwMC40ODQ0IEMyNzAuNTMxMywzMDAuNDg0NCAyNzEuNjg3NSwzMDAuMTg3NSAyNzIuNDM3NSwyOTkuNjQwNiBDMjczLjAxNTYsMjk5LjIzNDQgMjczLjM0MzgsMjk4Ljc4MTMgMjczLjM0MzgsMjk4LjM5MDYgQzI3My4zNDM4LDI5Ny45Mzc1IDI3Mi45NTMxLDI5Ny41NDY5IDI3Mi40ODQ0LDI5Ny41NDY5IEMyNzIuMjY1NiwyOTcuNTQ2OSAyNzIuMDYyNSwyOTcuNjI1IDI3MS44NzUsMjk3LjgxMjUgQzI3MS40MjE5LDI5OC4yOTY5IDI3MS40MjE5LDI5OC4yOTY5IDI3MS4yMzQ0LDI5OC4zOTA2IEMyNzAuODEyNSwyOTguNjU2MyAyNzAuMTI1LDI5OC43ODEzIDI2OS4zNTk0LDI5OC43ODEzIEMyNjcuMzEyNSwyOTguNzgxMyAyNjYuMDE1NiwyOTcuNjg3NSAyNjYuMDE1NiwyOTUuOTg0NCBMMjY2LjAxNTYsMjk0Ljg5MDYgQzI2Ni4wMTU2LDI5My4xMDk0IDI2Ny4yNjU2LDI5MS43OTY5IDI2OSwyOTEuNzk2OSBDMjY5LjU3ODEsMjkxLjc5NjkgMjcwLjE4NzUsMjkxLjk1MzEgMjcwLjY1NjMsMjkyLjIwMzEgQzI3MS4xNDA2LDI5Mi40ODQ0IDI3MS4zMTI1LDI5Mi43MDMxIDI3MS40MDYzLDI5My4xMDk0IEMyNzEuNDY4OCwyOTMuNTE1NiAyNzEuNSwyOTMuNjQwNiAyNzEuNjQwNiwyOTMuNzY1NiBDMjcxLjc4MTMsMjkzLjkwNjMgMjcyLjAxNTYsMjk0LjAxNTYgMjcyLjIzNDQsMjk0LjAxNTYgQzI3Mi41LDI5NC4wMTU2IDI3Mi43NjU2LDI5My44NzUgMjcyLjkzNzUsMjkzLjY1NjMgQzI3My4wNDY5LDI5My41IDI3My4wNzgxLDI5My4zMTI1IDI3My4wNzgxLDI5Mi44OTA2IEwyNzMuMDc4MSwyOTEuNDY4OCBDMjczLjA3ODEsMjkxLjAzMTMgMjczLjA2MjUsMjkwLjkwNjMgMjcyLjk2ODgsMjkwLjc1IEMyNzIuODEyNSwyOTAuNDg0NCAyNzIuNTMxMywyOTAuMzQzOCAyNzIuMjM0NCwyOTAuMzQzOCBDMjcxLjkzNzUsMjkwLjM0MzggMjcxLjczNDQsMjkwLjQzNzUgMjcxLjUxNTYsMjkwLjc1IEwyNzEuMzQzOCwyOTAuNjcxOSBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUzIiB4PSIyODMiIHk9IjI5OS4xNTQzIj5Qcm9kdWN0MjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIyNTUiIHgyPSIzMzgiIHkxPSIzMTEiIHkyPSIzMTEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIyNTUiIHgyPSIzMzgiIHkxPSIzMTkiIHkyPSIzMTkiLz48IS0tTUQ1PVszM2QyZDllMjM1NjBkMjVmYzE0MTM0ZTBjMzYxYWQ0ZV0KcmV2ZXJzZSBsaW5rIEJ1aWxkZXIgdG8gQ29uY3JldGVCdWlsZGVyMS0tPjxwYXRoIGQ9Ik0xNzkuNSwxMTMuMzM1IEMxNzkuNSwxMTMuMzM1IDE3OS41LDE1My43NDUgMTc5LjUsMTUzLjc0NSAiIGZpbGw9Im5vbmUiIGlkPSJCdWlsZGVyLWJhY2t0by1Db25jcmV0ZUJ1aWxkZXIxIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjE3Mi41LDExMy4zMzUsMTc5LjUsOTMuMzM1LDE4Ni41LDExMy4zMzUsMTcyLjUsMTEzLjMzNSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bYmEwM2RhNjU2MDNkY2ZjNTA5NjRkOGJjZjA2MGM5ZjFdCnJldmVyc2UgbGluayBCdWlsZGVyIHRvIENvbmNyZXRlQnVpbGRlcjItLT48cGF0aCBkPSJNMjc1LjI1LDExMy4zMzUgQzI3NS4yNSwxMTMuMzM1IDI3NS4yNSwxNTMuNzQ1IDI3NS4yNSwxNTMuNzQ1ICIgZmlsbD0ibm9uZSIgaWQ9IkJ1aWxkZXItYmFja3RvLUNvbmNyZXRlQnVpbGRlcjIiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMjY4LjI1LDExMy4zMzUsMjc1LjI1LDkzLjMzNSwyODIuMjUsMTEzLjMzNSwyNjguMjUsMTEzLjMzNSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bNDQ1MjA3MGY0YWMxMTBmYThhYzhlYjhkZDRmZjVkNmNdCmxpbmsgQ29uY3JldGVCdWlsZGVyMSB0byBQcm9kdWN0MS0tPjxwYXRoIGNvZGVMaW5lPSIyNyIgZD0iTTE3MC41LDIwMi4xMDEgQzE3MC41LDIwMi4xMDEgMTcwLjUsMjczLjk3MyAxNzAuNSwyNzMuOTczICIgZmlsbD0ibm9uZSIgaWQ9IkNvbmNyZXRlQnVpbGRlcjEtdG8tUHJvZHVjdDEiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMTcwLjUsMjc4Ljk3MywxNzQuNSwyNjkuOTczLDE3MC41LDI3My45NzMsMTY2LjUsMjY5Ljk3MywxNzAuNSwyNzguOTczIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OCIgeD0iMTY4LjUiIHk9IjI0NS4wNjY5Ij5jcmVhdGVzPC90ZXh0PjwhLS1NRDU9WzUwODc2ZWIxMTU5MzBkNGExNzVhNWM4YzFmYTBiMTZjXQpsaW5rIENvbmNyZXRlQnVpbGRlcjIgdG8gUHJvZHVjdDItLT48cGF0aCBjb2RlTGluZT0iMjkiIGQ9Ik0yOTYuNSwyMDIuMTAxIEMyOTYuNSwyMDIuMTAxIDI5Ni41LDI3My45NzMgMjk2LjUsMjczLjk3MyAiIGZpbGw9Im5vbmUiIGlkPSJDb25jcmV0ZUJ1aWxkZXIyLXRvLVByb2R1Y3QyIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjI5Ni41LDI3OC45NzMsMzAwLjUsMjY5Ljk3MywyOTYuNSwyNzMuOTczLDI5Mi41LDI2OS45NzMsMjk2LjUsMjc4Ljk3MyIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDgiIHg9IjMxMC41IiB5PSIyNDUuMDY2OSI+Y3JlYXRlczwvdGV4dD48IS0tTUQ1PVthN2MzYTQwMTQyZWI3ZjIzN2M1NmYxMzg2MGI4M2JiY10KbGluayBQcm9kdWN0MSB0byBJUHJvZHVjdC0tPjxwYXRoIGNvZGVMaW5lPSIzMSIgZD0iTTIwOS4yNSwzMjcuMTkxIEMyMDkuMjUsMzI3LjE5MSAyMDkuMjUsMzY3Ljg3NyAyMDkuMjUsMzY3Ljg3NyAiIGZpbGw9Im5vbmUiIGlkPSJQcm9kdWN0MS10by1JUHJvZHVjdCIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMjE2LjI1LDM2Ny44NzcsMjA5LjI1LDM4Ny44NzcsMjAyLjI1LDM2Ny44NzcsMjE2LjI1LDM2Ny44NzciIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjwhLS1NRDU9WzZkMTVkMzFmNTk2MmZiMDA4OGJiMGEyMDBlMDk1MWZlXQpsaW5rIFByb2R1Y3QyIHRvIElQcm9kdWN0LS0+PHBhdGggY29kZUxpbmU9IjMyIiBkPSJNMjcwLDMyNy4xOTEgQzI3MCwzMjcuMTkxIDI3MCwzNjcuODc3IDI3MCwzNjcuODc3ICIgZmlsbD0ibm9uZSIgaWQ9IlByb2R1Y3QyLXRvLUlQcm9kdWN0IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSIyNzcsMzY3Ljg3NywyNzAsMzg3Ljg3NywyNjMsMzY3Ljg3NywyNzcsMzY3Ljg3NyIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bMjc2MDM0MTU5MGZmZDJlNzExZWY0MTk5MmNjNDM3YjldCmxpbmsgRGlyZWN0b3IgdG8gQnVpbGRlci0tPjxwYXRoIGNvZGVMaW5lPSIzNCIgZD0iTTEyNi4yNTksNTAgQzEyNi4yNTksNTAgMTM2LjIxNiw1MCAxMzYuMjE2LDUwICIgZmlsbD0ibm9uZSIgaWQ9IkRpcmVjdG9yLUJ1aWxkZXIiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMTQ5LjIxNiw1MCwxNDAuMjE2LDQ2LDE0NC4yMTYsNTAsMTQwLjIxNiw1NCwxNDkuMjE2LDUwIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxNDQuMjE2IiB4Mj0iMTM2LjIxNiIgeTE9IjUwIiB5Mj0iNTAiLz48cG9seWdvbiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9IjExNC4yNTksNTAsMTIwLjI1OSw1NCwxMjYuMjU5LDUwLDEyMC4yNTksNDYsMTE0LjI1OSw1MCIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bNjRkNWVhY2Y2YTAwY2VlMDhjNjRhODlkNTc1OTBmOWNdCkBzdGFydHVtbA0Kc2tpbnBhcmFtIG1vbm9jaHJvbWUgdHJ1ZQ0KJ3NjYWxlICA0MDAgd2lkdGgNCnNraW5wYXJhbSBjbGFzc0F0dHJpYnV0ZUljb25TaXplIDANCnNraW5wYXJhbSBsaW5ldHlwZSBvcnRobw0Kc2tpbnBhcmFtIGNsYXNzIHsNCiAgICANCn0NCg0KY2xhc3MgRGlyZWN0b3Igew0KICAgIC0gYnVpbGRlcjpCdWlsZGVyDQogICAgKyBjb25zdHJ1Y3QoKTp2b2lkDQp9DQoNCmFic3RyYWN0IGNsYXNzIEJ1aWxkZXIgew0KICAgICsgYnVpbGRQYXJ0MSgpOnZvaWQNCiAgICArIGJ1aWxkUGFydDIoKTp2b2lkDQogICAgKyB7YWJzdHJhY3R9IHJldHJpZXZlUmVzdWx0KCk6UHJvZHVjdA0KfSANCg0KY2xhc3MgQ29uY3JldGVCdWlsZGVyMSBleHRlbmRzIEJ1aWxkZXJ7fQ0KY2xhc3MgQ29uY3JldGVCdWlsZGVyMiBleHRlbmRzIEJ1aWxkZXJ7fQ0KDQppbnRlcmZhY2UgSVByb2R1Y3R7fSANCmNsYXNzIFByb2R1Y3QxIHt9DQpjbGFzcyBQcm9kdWN0MiB7fQ0KDQpDb25jcmV0ZUJ1aWxkZXIxIC1kb3duLT4gUHJvZHVjdDEgOmNyZWF0ZXMNCg0KQ29uY3JldGVCdWlsZGVyMiAtZG93bi0+IFByb2R1Y3QyIDogY3JlYXRlcw0KDQpQcm9kdWN0MSAuZG93bi58PiBJUHJvZHVjdA0KUHJvZHVjdDIgLmRvd24ufD4gSVByb2R1Y3QNCg0KRGlyZWN0b3Igby1yaWdodC0+IEJ1aWxkZXINCkBlbmR1bWwNCgpAc3RhcnR1bWwNCnNraW5wYXJhbSBtb25vY2hyb21lIHRydWUNCnNraW5wYXJhbSBjbGFzc0F0dHJpYnV0ZUljb25TaXplIDANCnNraW5wYXJhbSBsaW5ldHlwZSBvcnRobw0Kc2tpbnBhcmFtIGNsYXNzIHsNCiAgICANCn0NCg0KY2xhc3MgRGlyZWN0b3Igew0KICAgIC0gYnVpbGRlcjpCdWlsZGVyDQogICAgKyBjb25zdHJ1Y3QoKTp2b2lkDQp9DQoNCmFic3RyYWN0IGNsYXNzIEJ1aWxkZXIgew0KICAgICsgYnVpbGRQYXJ0MSgpOnZvaWQNCiAgICArIGJ1aWxkUGFydDIoKTp2b2lkDQogICAgKyB7YWJzdHJhY3R9IHJldHJpZXZlUmVzdWx0KCk6UHJvZHVjdA0KfSANCg0KY2xhc3MgQ29uY3JldGVCdWlsZGVyMSBleHRlbmRzIEJ1aWxkZXJ7fQ0KY2xhc3MgQ29uY3JldGVCdWlsZGVyMiBleHRlbmRzIEJ1aWxkZXJ7fQ0KDQppbnRlcmZhY2UgSVByb2R1Y3R7fSANCmNsYXNzIFByb2R1Y3QxIHt9DQpjbGFzcyBQcm9kdWN0MiB7fQ0KDQpDb25jcmV0ZUJ1aWxkZXIxIC1kb3duLT4gUHJvZHVjdDEgOmNyZWF0ZXMNCg0KQ29uY3JldGVCdWlsZGVyMiAtZG93bi0+IFByb2R1Y3QyIDogY3JlYXRlcw0KDQpQcm9kdWN0MSAuZG93bi58PiBJUHJvZHVjdA0KUHJvZHVjdDIgLmRvd24ufD4gSVByb2R1Y3QNCg0KRGlyZWN0b3Igby1yaWdodC0+IEJ1aWxkZXINCkBlbmR1bWwNCgpQbGFudFVNTCB2ZXJzaW9uIDEuMjAyMS4wMWJldGEzKFVua25vd24gY29tcGlsZSB0aW1lKQooR1BMIHNvdXJjZSBkaXN0cmlidXRpb24pCkphdmEgUnVudGltZTogSmF2YShUTSkgU0UgUnVudGltZSBFbnZpcm9ubWVudApKVk06IEphdmEgSG90U3BvdChUTSkgNjQtQml0IFNlcnZlciBWTQpEZWZhdWx0IEVuY29kaW5nOiBVVEYtOApMYW5ndWFnZTogZW4KQ291bnRyeTogVVMKLS0+PC9nPjwvc3ZnPg=='>

<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMzU3cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo0MDVweDtoZWlnaHQ6MzU3cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA0MDUgMzU3IiB3aWR0aD0iNDA1cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjM5dXpyOTY1OHl5ZCIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZjM5dXpyOTY1OHl5ZCkiIGhlaWdodD0iMjkuMTMyOCIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjE5Ny41IiB5PSIxNDMuNjk1MyIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmMzl1enI5NjU4eXlkKSIgaGVpZ2h0PSI3Mi4yNjU2IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIxMCIgeD0iMTk3LjUiIHk9IjIwMS45NjA5Ii8+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2YzOXV6cjk2NTh5eWQpIiBoZWlnaHQ9IjI5LjEzMjgiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSIzMTguNSIgeT0iODUuNDI5NyIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmMzl1enI5NjU4eXlkKSIgaGVpZ2h0PSIyOS4xMzI4IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIxMCIgeD0iMzE4LjUiIHk9IjIzMS4wOTM4Ii8+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2YzOXV6cjk2NTh5eWQpIiBoZWlnaHQ9IjI5LjEzMjgiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSIzMTguNSIgeT0iMzAzLjM1OTQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iMzUiIHgyPSIzNSIgeTE9IjQwLjI5NjkiIHkyPSIzNTAuNDkyMiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSIyMDIuNSIgeDI9IjIwMi41IiB5MT0iNDAuMjk2OSIgeTI9IjM1MC40OTIyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjMyMy41IiB4Mj0iMzIzLjUiIHkxPSI0MC4yOTY5IiB5Mj0iMzUwLjQ5MjIiLz48cmVjdCBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjM5dXpyOTY1OHl5ZCkiIGhlaWdodD0iMzAuMjk2OSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNTciIHg9IjUiIHk9IjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MyIgeD0iMTIiIHk9IjI0Ljk5NTEiPkNsaWVudDwvdGV4dD48cmVjdCBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjM5dXpyOTY1OHl5ZCkiIGhlaWdodD0iMzAuMjk2OSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNzQiIHg9IjE2My41IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAiIHg9IjE3MC41IiB5PSIyNC45OTUxIj5EaXJlY3RvcjwvdGV4dD48cmVjdCBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjM5dXpyOTY1OHl5ZCkiIGhlaWdodD0iMzAuMjk2OSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMTQwIiB4PSIyNTEuNSIgeT0iNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNiIgeD0iMjU4LjUiIHk9IjI0Ljk5NTEiPkNvbmNyZXRlQnVpbGRlcjE8L3RleHQ+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2YzOXV6cjk2NTh5eWQpIiBoZWlnaHQ9IjI5LjEzMjgiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSIxOTcuNSIgeT0iMTQzLjY5NTMiLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZjM5dXpyOTY1OHl5ZCkiIGhlaWdodD0iNzIuMjY1NiIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjE5Ny41IiB5PSIyMDEuOTYwOSIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmMzl1enI5NjU4eXlkKSIgaGVpZ2h0PSIyOS4xMzI4IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIxMCIgeD0iMzE4LjUiIHk9Ijg1LjQyOTciLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZjM5dXpyOTY1OHl5ZCkiIGhlaWdodD0iMjkuMTMyOCIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjMxOC41IiB5PSIyMzEuMDkzOCIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmMzl1enI5NjU4eXlkKSIgaGVpZ2h0PSIyOS4xMzI4IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIxMCIgeD0iMzE4LjUiIHk9IjMwMy4zNTk0Ii8+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIzMDYuNSw4MS40Mjk3LDMxNi41LDg1LjQyOTcsMzA2LjUsODkuNDI5NywzMTAuNSw4NS40Mjk3IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzNS41IiB4Mj0iMzEyLjUiIHkxPSI4NS40Mjk3IiB5Mj0iODUuNDI5NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0MCIgeD0iNDIuNSIgeT0iODAuMzYzOCI+bmV3IENvbmNyZXRlQnVpbGRlcjE8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSI0Ni41LDExMC41NjI1LDM2LjUsMTE0LjU2MjUsNDYuNSwxMTguNTYyNSw0Mi41LDExNC41NjI1IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjIuMCwyLjA7IiB4MT0iNDAuNSIgeDI9IjMyMi41IiB5MT0iMTE0LjU2MjUiIHkyPSIxMTQuNTYyNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUxIiB4PSI1Mi41IiB5PSIxMDkuNDk2NiI+YnVpbGRlcjE8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIxODUuNSwxMzkuNjk1MywxOTUuNSwxNDMuNjk1MywxODUuNSwxNDcuNjk1MywxODkuNSwxNDMuNjk1MyIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzUuNSIgeDI9IjE5MS41IiB5MT0iMTQzLjY5NTMiIHkyPSIxNDMuNjk1MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0MyIgeD0iNDIuNSIgeT0iMTM4LjYyOTQiPm5ldyBEaXJlY3RvcihidWlsZGVyMSk8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSI0Ni41LDE2OC44MjgxLDM2LjUsMTcyLjgyODEsNDYuNSwxNzYuODI4MSw0Mi41LDE3Mi44MjgxIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjIuMCwyLjA7IiB4MT0iNDAuNSIgeDI9IjIwMS41IiB5MT0iMTcyLjgyODEiIHkyPSIxNzIuODI4MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ5IiB4PSI1Mi41IiB5PSIxNjcuNzYyMiI+ZGlyZWN0b3I8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIxODUuNSwxOTcuOTYwOSwxOTUuNSwyMDEuOTYwOSwxODUuNSwyMDUuOTYwOSwxODkuNSwyMDEuOTYwOSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzUuNSIgeDI9IjE5MS41IiB5MT0iMjAxLjk2MDkiIHkyPSIyMDEuOTYwOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjczIiB4PSI0Mi41IiB5PSIxOTYuODk1Ij5jb25zdHJ1Y3RvcjwvdGV4dD48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjMwNi41LDIyNy4wOTM4LDMxNi41LDIzMS4wOTM4LDMwNi41LDIzNS4wOTM4LDMxMC41LDIzMS4wOTM4IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyMDcuNSIgeDI9IjMxMi41IiB5MT0iMjMxLjA5MzgiIHkyPSIyMzEuMDkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY0IiB4PSIyMTQuNSIgeT0iMjI2LjAyNzgiPmJ1aWxkUGFydDE8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIzMTEuNSwyNTYuMjI2NiwzMjEuNSwyNjAuMjI2NiwzMTEuNSwyNjQuMjI2NiwzMTUuNSwyNjAuMjI2NiIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjA3LjUiIHgyPSIzMTcuNSIgeTE9IjI2MC4yMjY2IiB5Mj0iMjYwLjIyNjYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NCIgeD0iMjE0LjUiIHk9IjI1NS4xNjA2Ij5idWlsZFBhcnQyPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMzA2LjUsMjk5LjM1OTQsMzE2LjUsMzAzLjM1OTQsMzA2LjUsMzA3LjM1OTQsMzEwLjUsMzAzLjM1OTQiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjM1LjUiIHgyPSIzMTIuNSIgeTE9IjMwMy4zNTk0IiB5Mj0iMzAzLjM1OTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MCIgeD0iNDIuNSIgeT0iMjk4LjI5MzUiPnJldHJpZXZlUmVzdWx0PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iNDYuNSwzMjguNDkyMiwzNi41LDMzMi40OTIyLDQ2LjUsMzM2LjQ5MjIsNDIuNSwzMzIuNDkyMiIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheToyLjAsMi4wOyIgeDE9IjQwLjUiIHgyPSIzMjIuNSIgeTE9IjMzMi40OTIyIiB5Mj0iMzMyLjQ5MjIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OSIgeD0iNTIuNSIgeT0iMzI3LjQyNjMiPnByb2R1Y3Q8L3RleHQ+PCEtLU1ENT1bODBmMWZkNGQ2NTMxMWNmZTkzMTRkY2YwZjZlODgzNTRdCkBzdGFydHVtbA0Kc2tpbnBhcmFtIG1vbm9jaHJvbWUgdHJ1ZQ0KaGlkZSBmb290Ym94IA0KDQonc2NhbGUgIDQwMCB3aWR0aA0KJ3NraW5wYXJhbSBjbGFzc0F0dHJpYnV0ZUljb25TaXplIDANCidza2lucGFyYW0gbGluZXR5cGUgb3J0aG8NCg0KQ2xpZW50IC1baGlkZGVuXT4gRGlyZWN0b3INCkNsaWVudCAtPiBDb25jcmV0ZUJ1aWxkZXIxIDogbmV3IENvbmNyZXRlQnVpbGRlcjENCmFjdGl2YXRlIENvbmNyZXRlQnVpbGRlcjENCkNvbmNyZXRlQnVpbGRlcjEgLSAtPiBDbGllbnQgOiBidWlsZGVyMQ0KZGVhY3RpdmF0ZSBDb25jcmV0ZUJ1aWxkZXIxDQpDbGllbnQgLT4gRGlyZWN0b3IgOm5ldyBEaXJlY3RvcihidWlsZGVyMSkNCmFjdGl2YXRlIERpcmVjdG9yDQoNCkRpcmVjdG9yIC0gLT4gQ2xpZW50IDogZGlyZWN0b3INCmRlYWN0aXZhdGUgRGlyZWN0b3INCg0KQ2xpZW50IC0+IERpcmVjdG9yIDpjb25zdHJ1Y3Rvcg0KDQphY3RpdmF0ZSBEaXJlY3Rvcg0KRGlyZWN0b3IgLT4gQ29uY3JldGVCdWlsZGVyMSA6IGJ1aWxkUGFydDENCmFjdGl2YXRlIENvbmNyZXRlQnVpbGRlcjENCkRpcmVjdG9yIC0+IENvbmNyZXRlQnVpbGRlcjEgOiBidWlsZFBhcnQyDQpkZWFjdGl2YXRlIENvbmNyZXRlQnVpbGRlcjENCkRpcmVjdG9yIC1baGlkZGVuXT4gQ29uY3JldGVCdWlsZGVyMSANCmRlYWN0aXZhdGUgRGlyZWN0b3INCkNsaWVudCAtPiBDb25jcmV0ZUJ1aWxkZXIxIDpyZXRyaWV2ZVJlc3VsdA0KYWN0aXZhdGUgQ29uY3JldGVCdWlsZGVyMQ0KQ29uY3JldGVCdWlsZGVyMSAtIC0+IENsaWVudCA6cHJvZHVjdA0KZGVhY3RpdmF0ZSBDb25jcmV0ZUJ1aWxkZXIxDQpAZW5kdW1sDQoKQHN0YXJ0dW1sDQpza2lucGFyYW0gbW9ub2Nocm9tZSB0cnVlDQpoaWRlIGZvb3Rib3ggDQoNCg0KQ2xpZW50IC1baGlkZGVuXT4gRGlyZWN0b3INCkNsaWVudCAtPiBDb25jcmV0ZUJ1aWxkZXIxIDogbmV3IENvbmNyZXRlQnVpbGRlcjENCmFjdGl2YXRlIENvbmNyZXRlQnVpbGRlcjENCkNvbmNyZXRlQnVpbGRlcjEgLSAtPiBDbGllbnQgOiBidWlsZGVyMQ0KZGVhY3RpdmF0ZSBDb25jcmV0ZUJ1aWxkZXIxDQpDbGllbnQgLT4gRGlyZWN0b3IgOm5ldyBEaXJlY3RvcihidWlsZGVyMSkNCmFjdGl2YXRlIERpcmVjdG9yDQoNCkRpcmVjdG9yIC0gLT4gQ2xpZW50IDogZGlyZWN0b3INCmRlYWN0aXZhdGUgRGlyZWN0b3INCg0KQ2xpZW50IC0+IERpcmVjdG9yIDpjb25zdHJ1Y3Rvcg0KDQphY3RpdmF0ZSBEaXJlY3Rvcg0KRGlyZWN0b3IgLT4gQ29uY3JldGVCdWlsZGVyMSA6IGJ1aWxkUGFydDENCmFjdGl2YXRlIENvbmNyZXRlQnVpbGRlcjENCkRpcmVjdG9yIC0+IENvbmNyZXRlQnVpbGRlcjEgOiBidWlsZFBhcnQyDQpkZWFjdGl2YXRlIENvbmNyZXRlQnVpbGRlcjENCkRpcmVjdG9yIC1baGlkZGVuXT4gQ29uY3JldGVCdWlsZGVyMSANCmRlYWN0aXZhdGUgRGlyZWN0b3INCkNsaWVudCAtPiBDb25jcmV0ZUJ1aWxkZXIxIDpyZXRyaWV2ZVJlc3VsdA0KYWN0aXZhdGUgQ29uY3JldGVCdWlsZGVyMQ0KQ29uY3JldGVCdWlsZGVyMSAtIC0+IENsaWVudCA6cHJvZHVjdA0KZGVhY3RpdmF0ZSBDb25jcmV0ZUJ1aWxkZXIxDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjEuMDFiZXRhMyhVbmtub3duIGNvbXBpbGUgdGltZSkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IGVuCkNvdW50cnk6IFVTCi0tPjwvZz48L3N2Zz4='>


<h4 id="原型模式（PROTOTYPE）"><a href="#原型模式（PROTOTYPE）" class="headerlink" title="原型模式（PROTOTYPE）"></a>原型模式（PROTOTYPE）</h4><h5 id="使用场景-1"><a href="#使用场景-1" class="headerlink" title="使用场景"></a>使用场景</h5><ul>
<li>需要保留对象的历史状态以备后续使用时可以通过原型拷贝一份内容。</li>
<li>如果创建的对象很耗时或者依赖外部的内容，通过原型可以快速创建对象。</li>
</ul>
<h5 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h5><ul>
<li>原型模式允许动态地增加或减少产品类，创建产品类实例的方法由产品内部具有。</li>
<li>提供了简化的创建结构，与创建者模式的把创建者和产品合一的方式类似。</li>
</ul>
<h5 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h5><ul>
<li>需要每一个类都具备一个clone方法，并且需要考虑深拷贝和浅拷贝的问题。</li>
</ul>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMTkwcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDozMDFweDtoZWlnaHQ6MTkwcHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzMDEgMTkwIiB3aWR0aD0iMzAxcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjE1bm9lNzN6Nno2emEiIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PCEtLU1ENT1bZjc1ZjM4MmYxODAzZTU0MjMxNjRkMTRhMTczNmFjOGRdCmNsYXNzIElQcm90b3R5cGUtLT48cmVjdCBjb2RlTGluZT0iNiIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxNW5vZTczejZ6NnphKSIgaGVpZ2h0PSI2MC44MDQ3IiBpZD0iSVByb3RvdHlwZSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMTI4IiB4PSIxMDcuNSIgeT0iNyIvPjxlbGxpcHNlIGN4PSIxMzcuOCIgY3k9IjIzIiBmaWxsPSIjQjFCMUIxIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTEzOC43NTMxLDE5Ljc4MTMgTDE0MC40NzE5LDE5Ljc4MTMgQzE0MC44NjI1LDE5Ljc4MTMgMTQxLjA1LDE5Ljc1IDE0MS4xNzUsMTkuNjcxOSBDMTQxLjQ0MDYsMTkuNTE1NiAxNDEuNTgxMywxOS4yMzQ0IDE0MS41ODEzLDE4LjkzNzUgQzE0MS41ODEzLDE4LjY3MTkgMTQxLjQ3MTksMTguNDA2MyAxNDEuMjM3NSwxOC4yMzQ0IEMxNDEuMDY1NiwxOC4xMjUgMTQwLjkyNSwxOC4wOTM4IDE0MC40NzE5LDE4LjA5MzggTDEzNS4zMzEzLDE4LjA5MzggQzEzNC44OTM4LDE4LjA5MzggMTM0Ljc2ODgsMTguMTA5NCAxMzQuNjEyNSwxOC4yMDMxIEMxMzQuMzYyNSwxOC4zNTk0IDEzNC4yMDYzLDE4LjY1NjMgMTM0LjIwNjMsMTguOTM3NSBDMTM0LjIwNjMsMTkuMjE4OCAxMzQuMzQ2OSwxOS40Njg4IDEzNC41NjU2LDE5LjY0MDYgQzEzNC43MjE5LDE5Ljc1IDEzNC45MDk0LDE5Ljc4MTMgMTM1LjMzMTMsMTkuNzgxMyBMMTM3LjA1LDE5Ljc4MTMgTDEzNy4wNSwyNi4yOTY5IEwxMzUuMzMxMywyNi4yOTY5IEMxMzQuODkzOCwyNi4yOTY5IDEzNC43Njg4LDI2LjMxMjUgMTM0LjYxMjUsMjYuNDIxOSBDMTM0LjM2MjUsMjYuNTc4MSAxMzQuMjA2MywyNi44NTk0IDEzNC4yMDYzLDI3LjE1NjMgQzEzNC4yMDYzLDI3LjQwNjMgMTM0LjM0NjksMjcuNjcxOSAxMzQuNTY1NiwyNy44MjgxIEMxMzQuNzIxOSwyNy45NTMxIDEzNC45MjUsMjggMTM1LjMzMTMsMjggTDE0MC40NzE5LDI4IEMxNDEuMjIxOSwyOCAxNDEuNTgxMywyNy43MTg4IDE0MS41ODEzLDI3LjE1NjMgQzE0MS41ODEzLDI2Ljg3NSAxNDEuNDcxOSwyNi42MjUgMTQxLjIzNzUsMjYuNDUzMSBDMTQxLjA2NTYsMjYuMzI4MSAxNDAuOTI1LDI2LjI5NjkgMTQwLjQ3MTksMjYuMjk2OSBMMTM4Ljc1MzEsMjYuMjk2OSBMMTM4Ljc1MzEsMTkuNzgxMyBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjIiIHg9IjE1NS4yIiB5PSIyNy4xNTQzIj5JUHJvdG90eXBlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjEwOC41IiB4Mj0iMjM0LjUiIHkxPSIzOSIgeTI9IjM5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTA4LjUiIHgyPSIyMzQuNSIgeTE9IjQ3IiB5Mj0iNDciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTYiIHg9IjExMy41IiB5PSI2MS4yMTA0Ij4rY2xvbmUoKSA6IElQcm90b3R5cGU8L3RleHQ+PCEtLU1ENT1bMmYyZWQ4ZWRlMmU4ZjMxNmEwZTQ0NWMzODQ3ZDI1OWJdCmNsYXNzIFByb3RvdHlwZUEtLT48cmVjdCBjb2RlTGluZT0iMTAiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmMTVub2U3M3o2ejZ6YSkiIGhlaWdodD0iNDgiIGlkPSJQcm90b3R5cGVBIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI5OCIgeD0iNTYuNSIgeT0iMTI4Ii8+PGVsbGlwc2UgY3g9IjcxLjUiIGN5PSIxNDQiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNNzMuODQzOCwxMzkuNjcxOSBDNzIuOTA2MywxMzkuMjM0NCA3Mi4zMTI1LDEzOS4wOTM4IDcxLjQzNzUsMTM5LjA5MzggQzY4LjgxMjUsMTM5LjA5MzggNjYuODEyNSwxNDEuMTcxOSA2Ni44MTI1LDE0My44OTA2IEw2Ni44MTI1LDE0NS4wMTU2IEM2Ni44MTI1LDE0Ny41OTM4IDY4LjkyMTksMTQ5LjQ4NDQgNzEuODEyNSwxNDkuNDg0NCBDNzMuMDMxMywxNDkuNDg0NCA3NC4xODc1LDE0OS4xODc1IDc0LjkzNzUsMTQ4LjY0MDYgQzc1LjUxNTYsMTQ4LjIzNDQgNzUuODQzOCwxNDcuNzgxMyA3NS44NDM4LDE0Ny4zOTA2IEM3NS44NDM4LDE0Ni45Mzc1IDc1LjQ1MzEsMTQ2LjU0NjkgNzQuOTg0NCwxNDYuNTQ2OSBDNzQuNzY1NiwxNDYuNTQ2OSA3NC41NjI1LDE0Ni42MjUgNzQuMzc1LDE0Ni44MTI1IEM3My45MjE5LDE0Ny4yOTY5IDczLjkyMTksMTQ3LjI5NjkgNzMuNzM0NCwxNDcuMzkwNiBDNzMuMzEyNSwxNDcuNjU2MyA3Mi42MjUsMTQ3Ljc4MTMgNzEuODU5NCwxNDcuNzgxMyBDNjkuODEyNSwxNDcuNzgxMyA2OC41MTU2LDE0Ni42ODc1IDY4LjUxNTYsMTQ0Ljk4NDQgTDY4LjUxNTYsMTQzLjg5MDYgQzY4LjUxNTYsMTQyLjEwOTQgNjkuNzY1NiwxNDAuNzk2OSA3MS41LDE0MC43OTY5IEM3Mi4wNzgxLDE0MC43OTY5IDcyLjY4NzUsMTQwLjk1MzEgNzMuMTU2MywxNDEuMjAzMSBDNzMuNjQwNiwxNDEuNDg0NCA3My44MTI1LDE0MS43MDMxIDczLjkwNjMsMTQyLjEwOTQgQzczLjk2ODgsMTQyLjUxNTYgNzQsMTQyLjY0MDYgNzQuMTQwNiwxNDIuNzY1NiBDNzQuMjgxMywxNDIuOTA2MyA3NC41MTU2LDE0My4wMTU2IDc0LjczNDQsMTQzLjAxNTYgQzc1LDE0My4wMTU2IDc1LjI2NTYsMTQyLjg3NSA3NS40Mzc1LDE0Mi42NTYzIEM3NS41NDY5LDE0Mi41IDc1LjU3ODEsMTQyLjMxMjUgNzUuNTc4MSwxNDEuODkwNiBMNzUuNTc4MSwxNDAuNDY4OCBDNzUuNTc4MSwxNDAuMDMxMyA3NS41NjI1LDEzOS45MDYzIDc1LjQ2ODgsMTM5Ljc1IEM3NS4zMTI1LDEzOS40ODQ0IDc1LjAzMTMsMTM5LjM0MzggNzQuNzM0NCwxMzkuMzQzOCBDNzQuNDM3NSwxMzkuMzQzOCA3NC4yMzQ0LDEzOS40Mzc1IDc0LjAxNTYsMTM5Ljc1IEw3My44NDM4LDEzOS42NzE5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjYiIHg9Ijg1LjUiIHk9IjE0OC4xNTQzIj5Qcm90b3R5cGVBPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjU3LjUiIHgyPSIxNTMuNSIgeTE9IjE2MCIgeTI9IjE2MCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjU3LjUiIHgyPSIxNTMuNSIgeTE9IjE2OCIgeTI9IjE2OCIvPjwhLS1NRDU9WzdjZjE2NGM1NGVhMDczNjhlMmFhZjQzNGY5YWRhYjUyXQpjbGFzcyBQcm90b3R5cGVCLS0+PHJlY3QgY29kZUxpbmU9IjExIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjE1bm9lNzN6Nno2emEpIiBoZWlnaHQ9IjQ4IiBpZD0iUHJvdG90eXBlQiIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iOTgiIHg9IjE4OS41IiB5PSIxMjgiLz48ZWxsaXBzZSBjeD0iMjA0LjUiIGN5PSIxNDQiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMjA2Ljg0MzgsMTM5LjY3MTkgQzIwNS45MDYzLDEzOS4yMzQ0IDIwNS4zMTI1LDEzOS4wOTM4IDIwNC40Mzc1LDEzOS4wOTM4IEMyMDEuODEyNSwxMzkuMDkzOCAxOTkuODEyNSwxNDEuMTcxOSAxOTkuODEyNSwxNDMuODkwNiBMMTk5LjgxMjUsMTQ1LjAxNTYgQzE5OS44MTI1LDE0Ny41OTM4IDIwMS45MjE5LDE0OS40ODQ0IDIwNC44MTI1LDE0OS40ODQ0IEMyMDYuMDMxMywxNDkuNDg0NCAyMDcuMTg3NSwxNDkuMTg3NSAyMDcuOTM3NSwxNDguNjQwNiBDMjA4LjUxNTYsMTQ4LjIzNDQgMjA4Ljg0MzgsMTQ3Ljc4MTMgMjA4Ljg0MzgsMTQ3LjM5MDYgQzIwOC44NDM4LDE0Ni45Mzc1IDIwOC40NTMxLDE0Ni41NDY5IDIwNy45ODQ0LDE0Ni41NDY5IEMyMDcuNzY1NiwxNDYuNTQ2OSAyMDcuNTYyNSwxNDYuNjI1IDIwNy4zNzUsMTQ2LjgxMjUgQzIwNi45MjE5LDE0Ny4yOTY5IDIwNi45MjE5LDE0Ny4yOTY5IDIwNi43MzQ0LDE0Ny4zOTA2IEMyMDYuMzEyNSwxNDcuNjU2MyAyMDUuNjI1LDE0Ny43ODEzIDIwNC44NTk0LDE0Ny43ODEzIEMyMDIuODEyNSwxNDcuNzgxMyAyMDEuNTE1NiwxNDYuNjg3NSAyMDEuNTE1NiwxNDQuOTg0NCBMMjAxLjUxNTYsMTQzLjg5MDYgQzIwMS41MTU2LDE0Mi4xMDk0IDIwMi43NjU2LDE0MC43OTY5IDIwNC41LDE0MC43OTY5IEMyMDUuMDc4MSwxNDAuNzk2OSAyMDUuNjg3NSwxNDAuOTUzMSAyMDYuMTU2MywxNDEuMjAzMSBDMjA2LjY0MDYsMTQxLjQ4NDQgMjA2LjgxMjUsMTQxLjcwMzEgMjA2LjkwNjMsMTQyLjEwOTQgQzIwNi45Njg4LDE0Mi41MTU2IDIwNywxNDIuNjQwNiAyMDcuMTQwNiwxNDIuNzY1NiBDMjA3LjI4MTMsMTQyLjkwNjMgMjA3LjUxNTYsMTQzLjAxNTYgMjA3LjczNDQsMTQzLjAxNTYgQzIwOCwxNDMuMDE1NiAyMDguMjY1NiwxNDIuODc1IDIwOC40Mzc1LDE0Mi42NTYzIEMyMDguNTQ2OSwxNDIuNSAyMDguNTc4MSwxNDIuMzEyNSAyMDguNTc4MSwxNDEuODkwNiBMMjA4LjU3ODEsMTQwLjQ2ODggQzIwOC41NzgxLDE0MC4wMzEzIDIwOC41NjI1LDEzOS45MDYzIDIwOC40Njg4LDEzOS43NSBDMjA4LjMxMjUsMTM5LjQ4NDQgMjA4LjAzMTMsMTM5LjM0MzggMjA3LjczNDQsMTM5LjM0MzggQzIwNy40Mzc1LDEzOS4zNDM4IDIwNy4yMzQ0LDEzOS40Mzc1IDIwNy4wMTU2LDEzOS43NSBMMjA2Ljg0MzgsMTM5LjY3MTkgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NiIgeD0iMjE4LjUiIHk9IjE0OC4xNTQzIj5Qcm90b3R5cGVCPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjE5MC41IiB4Mj0iMjg2LjUiIHkxPSIxNjAiIHkyPSIxNjAiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIxOTAuNSIgeDI9IjI4Ni41IiB5MT0iMTY4IiB5Mj0iMTY4Ii8+PCEtLU1ENT1bZWQ2NjI0YzY1NTZkNWU3YjFiZDIzMDMyMTYyZDIwYjddCmNsYXNzIENsaWVudC0tPjxyZWN0IGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmMTVub2U3M3o2ejZ6YSkiIGhlaWdodD0iNDgiIGlkPSJDbGllbnQiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjY1IiB4PSI3IiB5PSIxMy41Ii8+PGVsbGlwc2UgY3g9IjIyIiBjeT0iMjkuNSIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0yNC4zNDM4LDI1LjE3MTkgQzIzLjQwNjMsMjQuNzM0NCAyMi44MTI1LDI0LjU5MzggMjEuOTM3NSwyNC41OTM4IEMxOS4zMTI1LDI0LjU5MzggMTcuMzEyNSwyNi42NzE5IDE3LjMxMjUsMjkuMzkwNiBMMTcuMzEyNSwzMC41MTU2IEMxNy4zMTI1LDMzLjA5MzggMTkuNDIxOSwzNC45ODQ0IDIyLjMxMjUsMzQuOTg0NCBDMjMuNTMxMywzNC45ODQ0IDI0LjY4NzUsMzQuNjg3NSAyNS40Mzc1LDM0LjE0MDYgQzI2LjAxNTYsMzMuNzM0NCAyNi4zNDM4LDMzLjI4MTMgMjYuMzQzOCwzMi44OTA2IEMyNi4zNDM4LDMyLjQzNzUgMjUuOTUzMSwzMi4wNDY5IDI1LjQ4NDQsMzIuMDQ2OSBDMjUuMjY1NiwzMi4wNDY5IDI1LjA2MjUsMzIuMTI1IDI0Ljg3NSwzMi4zMTI1IEMyNC40MjE5LDMyLjc5NjkgMjQuNDIxOSwzMi43OTY5IDI0LjIzNDQsMzIuODkwNiBDMjMuODEyNSwzMy4xNTYzIDIzLjEyNSwzMy4yODEzIDIyLjM1OTQsMzMuMjgxMyBDMjAuMzEyNSwzMy4yODEzIDE5LjAxNTYsMzIuMTg3NSAxOS4wMTU2LDMwLjQ4NDQgTDE5LjAxNTYsMjkuMzkwNiBDMTkuMDE1NiwyNy42MDk0IDIwLjI2NTYsMjYuMjk2OSAyMiwyNi4yOTY5IEMyMi41NzgxLDI2LjI5NjkgMjMuMTg3NSwyNi40NTMxIDIzLjY1NjMsMjYuNzAzMSBDMjQuMTQwNiwyNi45ODQ0IDI0LjMxMjUsMjcuMjAzMSAyNC40MDYzLDI3LjYwOTQgQzI0LjQ2ODgsMjguMDE1NiAyNC41LDI4LjE0MDYgMjQuNjQwNiwyOC4yNjU2IEMyNC43ODEzLDI4LjQwNjMgMjUuMDE1NiwyOC41MTU2IDI1LjIzNDQsMjguNTE1NiBDMjUuNSwyOC41MTU2IDI1Ljc2NTYsMjguMzc1IDI1LjkzNzUsMjguMTU2MyBDMjYuMDQ2OSwyOCAyNi4wNzgxLDI3LjgxMjUgMjYuMDc4MSwyNy4zOTA2IEwyNi4wNzgxLDI1Ljk2ODggQzI2LjA3ODEsMjUuNTMxMyAyNi4wNjI1LDI1LjQwNjMgMjUuOTY4OCwyNS4yNSBDMjUuODEyNSwyNC45ODQ0IDI1LjUzMTMsMjQuODQzOCAyNS4yMzQ0LDI0Ljg0MzggQzI0LjkzNzUsMjQuODQzOCAyNC43MzQ0LDI0LjkzNzUgMjQuNTE1NiwyNS4yNSBMMjQuMzQzOCwyNS4xNzE5IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzMiIHg9IjM2IiB5PSIzMy42NTQzIj5DbGllbnQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iOCIgeDI9IjcxIiB5MT0iNDUuNSIgeTI9IjQ1LjUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI4IiB4Mj0iNzEiIHkxPSI1My41IiB5Mj0iNTMuNSIvPjwhLS1NRDU9W2FlNGVjZTgzNzYwNzkxMGZjMGFkNzNjOTMxZmY2MDE0XQpyZXZlcnNlIGxpbmsgSVByb3RvdHlwZSB0byBQcm90b3R5cGVBLS0+PHBhdGggZD0iTTEzMSw4OC4xODM5IEMxMzEsODguMTgzOSAxMzEsMTI3Ljc2MzQgMTMxLDEyNy43NjM0ICIgZmlsbD0ibm9uZSIgaWQ9IklQcm90b3R5cGUtYmFja3RvLVByb3RvdHlwZUEiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjEyNCw4OC4xODM5LDEzMSw2OC4xODQsMTM4LDg4LjE4MzksMTI0LDg4LjE4MzkiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjwhLS1NRDU9W2Q5NDJlYzIzZjZhN2Q1NzdjN2M1NzQ2YjFhNDYwMTk1XQpyZXZlcnNlIGxpbmsgSVByb3RvdHlwZSB0byBQcm90b3R5cGVCLS0+PHBhdGggZD0iTTIxMi41LDg4LjE4MzkgQzIxMi41LDg4LjE4MzkgMjEyLjUsMTI3Ljc2MzQgMjEyLjUsMTI3Ljc2MzQgIiBmaWxsPSJub25lIiBpZD0iSVByb3RvdHlwZS1iYWNrdG8tUHJvdG90eXBlQiIgc3R5bGU9InN0cm9rZTojMzgzODM4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMjA1LjUsODguMTgzOSwyMTIuNSw2OC4xODQsMjE5LjUsODguMTgzOSwyMDUuNSw4OC4xODM5IiBzdHlsZT0ic3Ryb2tlOiMzODM4Mzg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48IS0tTUQ1PVtlN2UxYTI1MzZkMjNjNWQzYTQ3NjM5OGQ3YzRlMDU3Ml0KbGluayBDbGllbnQgdG8gSVByb3RvdHlwZS0tPjxwYXRoIGNvZGVMaW5lPSIxMyIgZD0iTTcyLjEyOTIsMzggQzcyLjEyOTIsMzggMTAyLjI4MjMsMzggMTAyLjI4MjMsMzggIiBmaWxsPSJub25lIiBpZD0iQ2xpZW50LXRvLUlQcm90b3R5cGUiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjEwNy4yODIsMzgsOTguMjgyLDM0LDEwMi4yODIsMzgsOTguMjgyLDQyLDEwNy4yODIsMzgiIHN0eWxlPSJzdHJva2U6IzM4MzgzODtzdHJva2Utd2lkdGg6MS4wOyIvPjwhLS1NRDU9W2U2N2FmM2E4ODVlMWIyNjVmNWNmMGUzNjM1OWQyMTBiXQpAc3RhcnR1bWwNCnNraW5wYXJhbSBtb25vY2hyb21lIHRydWUNCidzY2FsZSAgNDAwIHdpZHRoDQpza2lucGFyYW0gY2xhc3NBdHRyaWJ1dGVJY29uU2l6ZSAwDQpza2lucGFyYW0gbGluZXR5cGUgb3J0aG8NCg0KaW50ZXJmYWNlIElQcm90b3R5cGUgew0KICAgICsgY2xvbmUoKSA6IElQcm90b3R5cGUNCn0NCg0KY2xhc3MgUHJvdG90eXBlQSBpbXBsZW1lbnRzIElQcm90b3R5cGUge30NCmNsYXNzIFByb3RvdHlwZUIgaW1wbGVtZW50cyBJUHJvdG90eXBlIHt9DQoNCkNsaWVudCAucmlnaHQuPiBJUHJvdG90eXBlDQpAZW5kdW1sDQoKQHN0YXJ0dW1sDQpza2lucGFyYW0gbW9ub2Nocm9tZSB0cnVlDQpza2lucGFyYW0gY2xhc3NBdHRyaWJ1dGVJY29uU2l6ZSAwDQpza2lucGFyYW0gbGluZXR5cGUgb3J0aG8NCg0KaW50ZXJmYWNlIElQcm90b3R5cGUgew0KICAgICsgY2xvbmUoKSA6IElQcm90b3R5cGUNCn0NCg0KY2xhc3MgUHJvdG90eXBlQSBpbXBsZW1lbnRzIElQcm90b3R5cGUge30NCmNsYXNzIFByb3RvdHlwZUIgaW1wbGVtZW50cyBJUHJvdG90eXBlIHt9DQoNCkNsaWVudCAucmlnaHQuPiBJUHJvdG90eXBlDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjEuMDFiZXRhMyhVbmtub3duIGNvbXBpbGUgdGltZSkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IGVuCkNvdW50cnk6IFVTCi0tPjwvZz48L3N2Zz4='>
]]></content>
      <tags>
        <tag>设计模式</tag>
      </tags>
  </entry>
  <entry>
    <title>设计模式-概述</title>
    <url>/2021/01/17/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A6%82%E8%BF%B0/</url>
    <content><![CDATA[<h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>GOF23种设计模式如下：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>范围</th>
<th>可变的方面</th>
</tr>
</thead>
<tbody><tr>
<td>Factory Method</td>
<td>创建型</td>
<td>类</td>
<td>被实例化的子类</td>
</tr>
<tr>
<td>Abstract Factory</td>
<td>创建型</td>
<td>对象</td>
<td>产品对象家族</td>
</tr>
<tr>
<td>Builder</td>
<td>创建型</td>
<td>对象</td>
<td>如何创建一个组合对象</td>
</tr>
<tr>
<td>Prototype</td>
<td>创建型</td>
<td>对象</td>
<td>被实例化的类</td>
</tr>
<tr>
<td>Singleton</td>
<td>创建型</td>
<td>对象</td>
<td>一个类的唯一实例</td>
</tr>
<tr>
<td>Adapter</td>
<td>结构型</td>
<td>类</td>
<td>对象的接口</td>
</tr>
<tr>
<td>Adapter</td>
<td>结构型</td>
<td>对象</td>
<td>对象的接口</td>
</tr>
<tr>
<td>Bridge</td>
<td>结构型</td>
<td>对象</td>
<td>对象的实现</td>
</tr>
<tr>
<td>Composite</td>
<td>结构型</td>
<td>对象</td>
<td>一个对象的结构和组成</td>
</tr>
<tr>
<td>Decorator</td>
<td>结构型</td>
<td>对象</td>
<td>对象的职责，不生成子类</td>
</tr>
<tr>
<td>Facade</td>
<td>结构型</td>
<td>对象</td>
<td>一个子系统的接口</td>
</tr>
<tr>
<td>Flyweight</td>
<td>结构型</td>
<td>对象</td>
<td>对象的存储开销</td>
</tr>
<tr>
<td>Proxy</td>
<td>结构型</td>
<td>对象</td>
<td>如何访问一个对象，对象的位置</td>
</tr>
<tr>
<td>Interpreter</td>
<td>行为型</td>
<td>类</td>
<td>一个语言的文法及解释</td>
</tr>
<tr>
<td>Template Method</td>
<td>行为型</td>
<td>类</td>
<td>算法中的某些步骤</td>
</tr>
<tr>
<td>Chain of Responsibility</td>
<td>行为型</td>
<td>对象</td>
<td>满足一个请求的对象</td>
</tr>
<tr>
<td>Command</td>
<td>行为型</td>
<td>对象</td>
<td>怎样满足一个请求</td>
</tr>
<tr>
<td>Iterator</td>
<td>行为型</td>
<td>对象</td>
<td>如何遍历，访问一个聚合的各元素</td>
</tr>
<tr>
<td>Mediator</td>
<td>行为型</td>
<td>对象</td>
<td>对象间怎么交互，和谁交互</td>
</tr>
<tr>
<td>Memento</td>
<td>行为型</td>
<td>对象</td>
<td>对象中哪些私有信息存放在该对象之外，以及什么时候进行存储</td>
</tr>
<tr>
<td>Observer</td>
<td>行为型</td>
<td>对象</td>
<td>多个对象依赖于另外一个对象，而这些对象又如何保持一致</td>
</tr>
<tr>
<td>State</td>
<td>行为型</td>
<td>对象</td>
<td>对象的状态</td>
</tr>
<tr>
<td>Strategy</td>
<td>行为型</td>
<td>对象</td>
<td>算法</td>
</tr>
<tr>
<td>Visitor</td>
<td>行为型</td>
<td>对象</td>
<td>作用于一个对象上的操作，但不修改这些对象的类</td>
</tr>
</tbody></table>
<p>创建型：与对象的创建有关系。<br>结构型：处理类或对象的组合。<br>行为型：描述对象的职责及交互。</p>
<p>类范围：处理类与类之间的关系，通过<strong>继承</strong>建立。<br>对象范围：处理对象间的关系，通过<strong>组合</strong>建立。</p>
]]></content>
      <tags>
        <tag>设计模式</tag>
      </tags>
  </entry>
  <entry>
    <title>设计模式-结构型</title>
    <url>/2020/10/14/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%93%E6%9E%84%E5%9E%8B/</url>
    <content><![CDATA[<h3 id="结构模式"><a href="#结构模式" class="headerlink" title="结构模式"></a>结构模式</h3><h4 id="适配器模式（ADAPTER）"><a href="#适配器模式（ADAPTER）" class="headerlink" title="适配器模式（ADAPTER）"></a>适配器模式（ADAPTER）</h4><p>把一个类的接口变换成客户端所期待的另一种接口，从而使原本因为接口不匹配而无法在一起工作的两个类能够在一起工作。</p>
<blockquote>
<p>适配器模式的实现方式分为两种，一种是通过继承被适配类实现(类的适配)，一种通过委派给被适配类实现(对象的适配)</p>
</blockquote>
<ul>
<li>系统需要使用现有的类，而此类的接口不符合系统的需要。</li>
<li>如果需要改变多个已有的子类的接口，则可以使用对象的适配器模式。(如果adaptee的所有子类都需要改变接口时需要使用对象适配器模式，否则需要为每一个adaptee创建一个adapter)</li>
</ul>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjIwcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDozNTRweDtoZWlnaHQ6MjIwcHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzNTQgMjIwIiB3aWR0aD0iMzU0cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjEzbnVlOXVnZ3p5eWoiIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PCEtLU1ENT1bMzZjZTdjYjBkYjI1NWQzZmM4YjQ1ODUyNjRiODNlMDddCmNsYXNzIElUYXJnZXQtLT48cmVjdCBjb2RlTGluZT0iNSIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxM251ZTl1Z2d6eXlqKSIgaGVpZ2h0PSI2MC45NTUxIiBpZD0iSVRhcmdldCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iODEiIHg9IjEwNi41IiB5PSI3Ii8+PGVsbGlwc2UgY3g9IjEyNS4xIiBjeT0iMjMiIGZpbGw9IiNCMUIxQjEiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMTIxLjAyNzcsMTguNzY1MSBMMTIxLjAyNzcsMTYuNjA2OSBMMTI4LjQwNzEsMTYuNjA2OSBMMTI4LjQwNzEsMTguNzY1MSBMMTI1Ljk0MTgsMTguNzY1MSBMMTI1Ljk0MTgsMjYuODQxOCBMMTI4LjQwNzEsMjYuODQxOCBMMTI4LjQwNzEsMjkgTDEyMS4wMjc3LDI5IEwxMjEuMDI3NywyNi44NDE4IEwxMjMuNDkzMSwyNi44NDE4IEwxMjMuNDkzMSwxOC43NjUxIFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI0MSIgeD0iMTM5LjkiIHk9IjI3LjUzNTIiPklUYXJnZXQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTA3LjUiIHgyPSIxODYuNSIgeTE9IjM5IiB5Mj0iMzkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxMDcuNSIgeDI9IjE4Ni41IiB5MT0iNDciIHkyPSI0NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjY5IiB4PSIxMTIuNSIgeT0iNjEuNjM0OCI+K29wZXJhdGlvbigpPC90ZXh0PjwhLS1NRDU9W2YzOGE4NWU0N2Y3ZDRmODEyNTIzZGQ5YjZkN2QyYzE2XQpjbGFzcyBBZGFwdGVyLS0+PHJlY3QgY29kZUxpbmU9IjkiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmMTNudWU5dWdnenl5aikiIGhlaWdodD0iNzMuOTEwMiIgaWQ9IkFkYXB0ZXIiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjEwNyIgeD0iMTU5LjUiIHk9IjEyOCIvPjxlbGxpcHNlIGN4PSIxODcuMSIgY3k9IjE0NCIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0xOTAuMDczMSwxNDkuNjQzMSBRMTg5LjQ5MjEsMTQ5Ljk0MTkgMTg4Ljg1MjksMTUwLjA5MTMgUTE4OC4yMTM4LDE1MC4yNDA3IDE4Ny41MDgyLDE1MC4yNDA3IFExODUuMDAxNCwxNTAuMjQwNyAxODMuNjgxNSwxNDguNTg4OSBRMTgyLjM2MTcsMTQ2LjkzNyAxODIuMzYxNywxNDMuODE1OSBRMTgyLjM2MTcsMTQwLjY4NjUgMTgzLjY4MTUsMTM5LjAzNDcgUTE4NS4wMDE0LDEzNy4zODI4IDE4Ny41MDgyLDEzNy4zODI4IFExODguMjEzOCwxMzcuMzgyOCAxODguODYxMiwxMzcuNTMyMiBRMTg5LjUwODcsMTM3LjY4MTYgMTkwLjA3MzEsMTM3Ljk4MDUgTDE5MC4wNzMxLDE0MC43MDMxIFExODkuNDQyMywxNDAuMTIyMSAxODguODQ4OCwxMzkuODUyMyBRMTg4LjI1NTMsMTM5LjU4MjUgMTg3LjYyNDQsMTM5LjU4MjUgUTE4Ni4yNzk3LDEzOS41ODI1IDE4NS41OTQ5LDE0MC42NDkyIFExODQuOTEwMSwxNDEuNzE1OCAxODQuOTEwMSwxNDMuODE1OSBRMTg0LjkxMDEsMTQ1LjkwNzcgMTg1LjU5NDksMTQ2Ljk3NDQgUTE4Ni4yNzk3LDE0OC4wNDEgMTg3LjYyNDQsMTQ4LjA0MSBRMTg4LjI1NTMsMTQ4LjA0MSAxODguODQ4OCwxNDcuNzcxMiBRMTg5LjQ0MjMsMTQ3LjUwMTUgMTkwLjA3MzEsMTQ2LjkyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI0NyIgeD0iMjAzLjkiIHk9IjE0OC41MzUyIj5BZGFwdGVyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE2MC41IiB4Mj0iMjY1LjUiIHkxPSIxNjAiIHkyPSIxNjAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI5NSIgeD0iMTY1LjUiIHk9IjE3NC42MzQ4Ij4tYWRhcHRlZTpBZGFwdGVlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE2MC41IiB4Mj0iMjY1LjUiIHkxPSIxODAuOTU1MSIgeTI9IjE4MC45NTUxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNjkiIHg9IjE2NS41IiB5PSIxOTUuNTg5OCI+K29wZXJhdGlvbigpPC90ZXh0PjwhLS1NRDU9WzczOTNiNzk0MjlmMjNjZDYxZTZlNmE0OTNkM2EyYjE0XQpjbGFzcyBBZGFwdGVlLS0+PHJlY3QgY29kZUxpbmU9IjE0IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjEzbnVlOXVnZ3p5eWopIiBoZWlnaHQ9IjYwLjk1NTEiIGlkPSJBZGFwdGVlIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxMTIiIHg9IjIyMyIgeT0iNyIvPjxlbGxpcHNlIGN4PSIyNTEuOTUiIGN5PSIyMyIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0yNTQuOTIzMSwyOC42NDMxIFEyNTQuMzQyMSwyOC45NDE5IDI1My43MDI5LDI5LjA5MTMgUTI1My4wNjM4LDI5LjI0MDcgMjUyLjM1ODIsMjkuMjQwNyBRMjQ5Ljg1MTQsMjkuMjQwNyAyNDguNTMxNSwyNy41ODg5IFEyNDcuMjExNywyNS45MzcgMjQ3LjIxMTcsMjIuODE1OSBRMjQ3LjIxMTcsMTkuNjg2NSAyNDguNTMxNSwxOC4wMzQ3IFEyNDkuODUxNCwxNi4zODI4IDI1Mi4zNTgyLDE2LjM4MjggUTI1My4wNjM4LDE2LjM4MjggMjUzLjcxMTIsMTYuNTMyMiBRMjU0LjM1ODcsMTYuNjgxNiAyNTQuOTIzMSwxNi45ODA1IEwyNTQuOTIzMSwxOS43MDMxIFEyNTQuMjkyMywxOS4xMjIxIDI1My42OTg4LDE4Ljg1MjMgUTI1My4xMDUzLDE4LjU4MjUgMjUyLjQ3NDQsMTguNTgyNSBRMjUxLjEyOTcsMTguNTgyNSAyNTAuNDQ0OSwxOS42NDkyIFEyNDkuNzYwMSwyMC43MTU4IDI0OS43NjAxLDIyLjgxNTkgUTI0OS43NjAxLDI0LjkwNzcgMjUwLjQ0NDksMjUuOTc0NCBRMjUxLjEyOTcsMjcuMDQxIDI1Mi40NzQ0LDI3LjA0MSBRMjUzLjEwNTMsMjcuMDQxIDI1My42OTg4LDI2Ljc3MTIgUTI1NC4yOTIzLDI2LjUwMTUgMjU0LjkyMzEsMjUuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjQ5IiB4PSIyNjkuMDUiIHk9IjI3LjUzNTIiPkFkYXB0ZWU8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMjI0IiB4Mj0iMzM0IiB5MT0iMzkiIHkyPSIzOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjIyNCIgeDI9IjMzNCIgeTE9IjQ3IiB5Mj0iNDciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMDAiIHg9IjIyOSIgeT0iNjEuNjM0OCI+K290aGVyT3BlcmF0aW9uKCk8L3RleHQ+PCEtLU1ENT1bZWQ2NjI0YzY1NTZkNWU3YjFiZDIzMDMyMTYyZDIwYjddCmNsYXNzIENsaWVudC0tPjxyZWN0IGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmMTNudWU5dWdnenl5aikiIGhlaWdodD0iNDgiIGlkPSJDbGllbnQiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjY0IiB4PSI3IiB5PSIxMy41Ii8+PGVsbGlwc2UgY3g9IjIyIiBjeT0iMjkuNSIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0yNC45NzMxLDM1LjE0MzEgUTI0LjM5MjEsMzUuNDQxOSAyMy43NTI5LDM1LjU5MTMgUTIzLjExMzgsMzUuNzQwNyAyMi40MDgyLDM1Ljc0MDcgUTE5LjkwMTQsMzUuNzQwNyAxOC41ODE1LDM0LjA4ODkgUTE3LjI2MTcsMzIuNDM3IDE3LjI2MTcsMjkuMzE1OSBRMTcuMjYxNywyNi4xODY1IDE4LjU4MTUsMjQuNTM0NyBRMTkuOTAxNCwyMi44ODI4IDIyLjQwODIsMjIuODgyOCBRMjMuMTEzOCwyMi44ODI4IDIzLjc2MTIsMjMuMDMyMiBRMjQuNDA4NywyMy4xODE2IDI0Ljk3MzEsMjMuNDgwNSBMMjQuOTczMSwyNi4yMDMxIFEyNC4zNDIzLDI1LjYyMjEgMjMuNzQ4OCwyNS4zNTIzIFEyMy4xNTUzLDI1LjA4MjUgMjIuNTI0NCwyNS4wODI1IFEyMS4xNzk3LDI1LjA4MjUgMjAuNDk0OSwyNi4xNDkyIFExOS44MTAxLDI3LjIxNTggMTkuODEwMSwyOS4zMTU5IFExOS44MTAxLDMxLjQwNzcgMjAuNDk0OSwzMi40NzQ0IFEyMS4xNzk3LDMzLjU0MSAyMi41MjQ0LDMzLjU0MSBRMjMuMTU1MywzMy41NDEgMjMuNzQ4OCwzMy4yNzEyIFEyNC4zNDIzLDMzLjAwMTUgMjQuOTczMSwzMi40MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMzIiIHg9IjM2IiB5PSIzNC4wMzUyIj5DbGllbnQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iOCIgeDI9IjcwIiB5MT0iNDUuNSIgeTI9IjQ1LjUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI4IiB4Mj0iNzAiIHkxPSI1My41IiB5Mj0iNTMuNSIvPjwhLS1NRDU9W2Y1Y2Q4ZjA1MDRkMThhOTI2YWFkMzM2ZWNhZWIzOWY0XQpyZXZlcnNlIGxpbmsgSVRhcmdldCB0byBBZGFwdGVyLS0+PHBhdGggZD0iTTE3My41LDg4LjAzOTQgQzE3My41LDg4LjAzOTQgMTczLjUsMTI3Ljg4ODggMTczLjUsMTI3Ljg4ODggIiBmaWxsPSJub25lIiBpZD0iSVRhcmdldC1iYWNrdG8tQWRhcHRlciIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSIxNjYuNTAwMSw4OC4wMzk1LDE3My41LDY4LjAzOTQsMTgwLjUwMDEsODguMDM5NCwxNjYuNTAwMSw4OC4wMzk1IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtjZDIzOTU1MGMzYTc3ODYyNDMwYjlmMDhiYjRhYjIyOV0KbGluayBBZGFwdGVlIHRvIEFkYXB0ZXItLT48cGF0aCBjb2RlTGluZT0iMTgiIGQ9Ik0yNDQuNzUsODEuMDM5NCBDMjQ0Ljc1LDgxLjAzOTQgMjQ0Ljc1LDExNS44ODg4IDI0NC43NSwxMTUuODg4OCAiIGZpbGw9Im5vbmUiIGlkPSJBZGFwdGVlLUFkYXB0ZXIiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiNGRkZGRkYiIHBvaW50cz0iMjQ0Ljc1LDEyNy44ODg4LDI0OC43NSwxMjEuODg4OCwyNDQuNzUsMTE1Ljg4ODgsMjQwLjc1LDEyMS44ODg4LDI0NC43NSwxMjcuODg4OCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIyNDQuNzUsNjguMDM5NCwyNDAuNzUsNzcuMDM5NCwyNDQuNzUsNzMuMDM5NCwyNDguNzUsNzcuMDM5NCwyNDQuNzUsNjguMDM5NCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMjQ0Ljc1IiB4Mj0iMjQ0Ljc1IiB5MT0iNzMuMDM5NCIgeTI9IjgxLjAzOTQiLz48IS0tTUQ1PVs0NjZjMjk2YWY3ZjdiZThiNDkxMzc1NTNlNzkyMjU0Y10KbGluayBDbGllbnQgdG8gSVRhcmdldC0tPjxwYXRoIGNvZGVMaW5lPSIxOSIgZD0iTTcxLjExMTIsMzggQzcxLjExMTIsMzggMTAxLjM4MDIsMzggMTAxLjM4MDIsMzggIiBmaWxsPSJub25lIiBpZD0iQ2xpZW50LXRvLUlUYXJnZXQiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMTA2LjM4MDIsMzgsOTcuMzgwMiwzNCwxMDEuMzgwMiwzOCw5Ny4zODAyLDQyLDEwNi4zODAyLDM4IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVswMDIyOGE4YjcyYzhkY2I5MzhhYjY2MmFkYzE0NTExYl0KbGluayBJVGFyZ2V0IHRvIEFkYXB0ZWUtLT48IS0tTUQ1PVthMzM2NjFjOWJjYzFlNGRkNDNiMjM3ZTc2ZDRlNTllN10KQHN0YXJ0dW1sDQpza2lucGFyYW0gbW9ub2Nocm9tZSB0cnVlDQpza2lucGFyYW0gY2xhc3NBdHRyaWJ1dGVJY29uU2l6ZSAwDQpza2lucGFyYW0gbGluZXR5cGUgb3J0aG8NCg0KaW50ZXJmYWNlIElUYXJnZXQgew0KICAgICsgb3BlcmF0aW9uKCkNCn0NCg0KY2xhc3MgQWRhcHRlciBpbXBsZW1lbnRzIElUYXJnZXQgew0KICAgIC0gYWRhcHRlZTpBZGFwdGVlDQogICAgKyBvcGVyYXRpb24oKQ0KfQ0KDQpjbGFzcyBBZGFwdGVlIHsNCiAgICArIG90aGVyT3BlcmF0aW9uKCkNCn0NCg0KQWRhcHRlciBvLXVwLT4gQWRhcHRlZQ0KQ2xpZW50IC1yaWdodC0+IElUYXJnZXQNCg0KSVRhcmdldCAtW2hpZGRlbl1yaWdodC0+IEFkYXB0ZWUNCg0KQGVuZHVtbA0KClBsYW50VU1MIHZlcnNpb24gMS4yMDIwLjE2KE1vbiBBdWcgMjQgMDQ6MjA6NDMgQ1NUIDIwMjApCihHUEwgc291cmNlIGRpc3RyaWJ1dGlvbikKSmF2YSBSdW50aW1lOiBKYXZhKFRNKSBTRSBSdW50aW1lIEVudmlyb25tZW50CkpWTTogSmF2YSBIb3RTcG90KFRNKSA2NC1CaXQgU2VydmVyIFZNCkRlZmF1bHQgRW5jb2Rpbmc6IFVURi04Ckxhbmd1YWdlOiB6aApDb3VudHJ5OiBDTgotLT48L2c+PC9zdmc+'>
<h4 id="组合模式（COMPOSITE）"><a href="#组合模式（COMPOSITE）" class="headerlink" title="组合模式（COMPOSITE）"></a>组合模式（COMPOSITE）</h4><p>组合模式有时候又称为部分-整体模式，组合模式将对象组织到树结构中，用来描述整体与部分的关系。客户端把一个个单独的成分对象和由它们复合而成的合成对象同等看待。</p>
<blockquote>
<p>组合模式的关键是一个抽象组件，既可以代表图元，又可以代表图元的容器。如果抽象组件中有增加、移除组件的方法时代表叶子组件和非叶子组件具有统一的接口，存在对叶子节点增加组件的情况，并且不能在编译时发现，如果叶子节点和非叶子节点的接口不一致则用户必须知道具体的类型各有利弊。安全和透明性的平衡，一种权衡的方式是增加一个类型判断的方法，判断类型后再调用应该有的方法。</p>
</blockquote>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjg1cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo1MjBweDtoZWlnaHQ6Mjg1cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MjAgMjg1IiB3aWR0aD0iNTIwcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZnVic3JpOWd0eXhqcCIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVszNjcwYTliNjdiOGE3NTJmNmU0MmRhMjVkZWE3ZTJkYV0KY2xhc3MgTGVhZi0tPjxyZWN0IGNvZGVMaW5lPSIxMyIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2Z1YnNyaTlndHl4anApIiBoZWlnaHQ9IjYwLjk1NTEiIGlkPSJMZWFmIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxMDciIHg9IjciIHk9IjE4Ni41Ii8+PGVsbGlwc2UgY3g9IjQ0Ljk1IiBjeT0iMjAyLjUiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNNDcuOTIzMSwyMDguMTQzMSBRNDcuMzQyMSwyMDguNDQxOSA0Ni43MDI5LDIwOC41OTEzIFE0Ni4wNjM4LDIwOC43NDA3IDQ1LjM1ODIsMjA4Ljc0MDcgUTQyLjg1MTQsMjA4Ljc0MDcgNDEuNTMxNSwyMDcuMDg4OSBRNDAuMjExNywyMDUuNDM3IDQwLjIxMTcsMjAyLjMxNTkgUTQwLjIxMTcsMTk5LjE4NjUgNDEuNTMxNSwxOTcuNTM0NyBRNDIuODUxNCwxOTUuODgyOCA0NS4zNTgyLDE5NS44ODI4IFE0Ni4wNjM4LDE5NS44ODI4IDQ2LjcxMTIsMTk2LjAzMjIgUTQ3LjM1ODcsMTk2LjE4MTYgNDcuOTIzMSwxOTYuNDgwNSBMNDcuOTIzMSwxOTkuMjAzMSBRNDcuMjkyMywxOTguNjIyMSA0Ni42OTg4LDE5OC4zNTIzIFE0Ni4xMDUzLDE5OC4wODI1IDQ1LjQ3NDQsMTk4LjA4MjUgUTQ0LjEyOTcsMTk4LjA4MjUgNDMuNDQ0OSwxOTkuMTQ5MiBRNDIuNzYwMSwyMDAuMjE1OCA0Mi43NjAxLDIwMi4zMTU5IFE0Mi43NjAxLDIwNC40MDc3IDQzLjQ0NDksMjA1LjQ3NDQgUTQ0LjEyOTcsMjA2LjU0MSA0NS40NzQ0LDIwNi41NDEgUTQ2LjEwNTMsMjA2LjU0MSA0Ni42OTg4LDIwNi4yNzEyIFE0Ny4yOTIzLDIwNi4wMDE1IDQ3LjkyMzEsMjA1LjQyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIyNCIgeD0iNjQuMDUiIHk9IjIwNy4wMzUyIj5MZWFmPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjgiIHgyPSIxMTMiIHkxPSIyMTguNSIgeTI9IjIxOC41Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iOCIgeDI9IjExMyIgeTE9IjIyNi41IiB5Mj0iMjI2LjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI5NSIgeD0iMTMiIHk9IjI0MS4xMzQ4Ij4rb3BlcmF0aW9uKCk6dm9pZDwvdGV4dD48IS0tTUQ1PVs3M2QyNTFhMzc3ZjE3MzMyNWYyMTk5N2M3N2MyNWFkOV0KY2xhc3MgQ29tcG9zaXRlLS0+PHJlY3QgY29kZUxpbmU9IjE3IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZnVic3JpOWd0eXhqcCkiIGhlaWdodD0iOTkuODIwMyIgaWQ9IkNvbXBvc2l0ZSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTYxIiB4PSIxNDkiIHk9IjE2NyIvPjxlbGxpcHNlIGN4PSIxOTQuNzUiIGN5PSIxODMiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMTk3LjcyMzEsMTg4LjY0MzEgUTE5Ny4xNDIxLDE4OC45NDE5IDE5Ni41MDI5LDE4OS4wOTEzIFExOTUuODYzOCwxODkuMjQwNyAxOTUuMTU4MiwxODkuMjQwNyBRMTkyLjY1MTQsMTg5LjI0MDcgMTkxLjMzMTUsMTg3LjU4ODkgUTE5MC4wMTE3LDE4NS45MzcgMTkwLjAxMTcsMTgyLjgxNTkgUTE5MC4wMTE3LDE3OS42ODY1IDE5MS4zMzE1LDE3OC4wMzQ3IFExOTIuNjUxNCwxNzYuMzgyOCAxOTUuMTU4MiwxNzYuMzgyOCBRMTk1Ljg2MzgsMTc2LjM4MjggMTk2LjUxMTIsMTc2LjUzMjIgUTE5Ny4xNTg3LDE3Ni42ODE2IDE5Ny43MjMxLDE3Ni45ODA1IEwxOTcuNzIzMSwxNzkuNzAzMSBRMTk3LjA5MjMsMTc5LjEyMjEgMTk2LjQ5ODgsMTc4Ljg1MjMgUTE5NS45MDUzLDE3OC41ODI1IDE5NS4yNzQ0LDE3OC41ODI1IFExOTMuOTI5NywxNzguNTgyNSAxOTMuMjQ0OSwxNzkuNjQ5MiBRMTkyLjU2MDEsMTgwLjcxNTggMTkyLjU2MDEsMTgyLjgxNTkgUTE5Mi41NjAxLDE4NC45MDc3IDE5My4yNDQ5LDE4NS45NzQ0IFExOTMuOTI5NywxODcuMDQxIDE5NS4yNzQ0LDE4Ny4wNDEgUTE5NS45MDUzLDE4Ny4wNDEgMTk2LjQ5ODgsMTg2Ljc3MTIgUTE5Ny4wOTIzLDE4Ni41MDE1IDE5Ny43MjMxLDE4NS45MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNjEiIHg9IjIxNS4yNSIgeT0iMTg3LjUzNTIiPkNvbXBvc2l0ZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxNTAiIHgyPSIzMDkiIHkxPSIxOTkiIHkyPSIxOTkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxNTAiIHgyPSIzMDkiIHkxPSIyMDciIHkyPSIyMDciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI5NSIgeD0iMTU1IiB5PSIyMjEuNjM0OCI+K29wZXJhdGlvbigpOnZvaWQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTM5IiB4PSIxNTUiIHk9IjIzNC41ODk4Ij4rYWRkKElDb21wb25lbnQgZyk6dm9pZDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxNDkiIHg9IjE1NSIgeT0iMjQ3LjU0NDkiPityZW1vdmUoSUNvbXBvbmVudCk6dm9pZDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxNDUiIHg9IjE1NSIgeT0iMjYwLjUiPitnZXRDaGlsZChpbnQpOklDb21wb25lbnQ8L3RleHQ+PHBhdGggZD0iTTM0NSwxOTYuNSBMMzQ1LDIxMyBMMzEwLjE5NTksMjE3IEwzNDUsMjIxIEwzNDUsMjM3LjEyMTEgQTAsMCAwIDAgMCAzNDUsMjM3LjEyMTEgTDUwOCwyMzcuMTIxMSBBMCwwIDAgMCAwIDUwOCwyMzcuMTIxMSBMNTA4LDIwNi41IEw0OTgsMTk2LjUgTDM0NSwxOTYuNSBBMCwwIDAgMCAwIDM0NSwxOTYuNSAiIGZpbGw9IiNFQ0VDRUMiIGZpbHRlcj0idXJsKCNmdWJzcmk5Z3R5eGpwKSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTQ5OCwxOTYuNSBMNDk4LDIwNi41IEw1MDgsMjA2LjUgTDQ5OCwxOTYuNSAiIGZpbGw9IiNFQ0VDRUMiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjE0MiIgeD0iMzUxIiB5PSIyMTQuMDY4NCI+Zm9yYWxsIGMgaW4gY29tcG9uZW50czwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI3OSIgeD0iMzgzIiB5PSIyMjkuMzc4OSI+Yy5vcGVyYXRpb24oKTwvdGV4dD48IS0tTUQ1PVs1ZTk4ZTVmZGY1Nzg4YzNkNTNlMDA4NTM4OTZmZmM2OV0KY2xhc3MgSUNvbXBvbmVudC0tPjxyZWN0IGNvZGVMaW5lPSI1IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZnVic3JpOWd0eXhqcCkiIGhlaWdodD0iOTkuODIwMyIgaWQ9IklDb21wb25lbnQiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjE2MSIgeD0iMTQ5IiB5PSI3Ii8+PGVsbGlwc2UgY3g9IjE5MSIgY3k9IjIzIiBmaWxsPSIjQjFCMUIxIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTE4Ni45Mjc3LDE4Ljc2NTEgTDE4Ni45Mjc3LDE2LjYwNjkgTDE5NC4zMDcxLDE2LjYwNjkgTDE5NC4zMDcxLDE4Ljc2NTEgTDE5MS44NDE4LDE4Ljc2NTEgTDE5MS44NDE4LDI2Ljg0MTggTDE5NC4zMDcxLDI2Ljg0MTggTDE5NC4zMDcxLDI5IEwxODYuOTI3NywyOSBMMTg2LjkyNzcsMjYuODQxOCBMMTg5LjM5MzEsMjYuODQxOCBMMTg5LjM5MzEsMTguNzY1MSBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNjkiIHg9IjIxMSIgeT0iMjcuNTM1MiI+SUNvbXBvbmVudDwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxNTAiIHgyPSIzMDkiIHkxPSIzOSIgeTI9IjM5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTUwIiB4Mj0iMzA5IiB5MT0iNDciIHkyPSI0NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9Ijk1IiB4PSIxNTUiIHk9IjYxLjYzNDgiPitvcGVyYXRpb24oKTp2b2lkPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEyOSIgeD0iMTU1IiB5PSI3NC41ODk4Ij4rYWRkKElDb21wb25lbnQpOnZvaWQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTQ5IiB4PSIxNTUiIHk9Ijg3LjU0NDkiPityZW1vdmUoSUNvbXBvbmVudCk6dm9pZDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxNDUiIHg9IjE1NSIgeT0iMTAwLjUiPitnZXRDaGlsZChpbnQpOklDb21wb25lbnQ8L3RleHQ+PCEtLU1ENT1bZWQ2NjI0YzY1NTZkNWU3YjFiZDIzMDMyMTYyZDIwYjddCmNsYXNzIENsaWVudC0tPjxyZWN0IGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmdWJzcmk5Z3R5eGpwKSIgaGVpZ2h0PSI0OCIgaWQ9IkNsaWVudCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNjQiIHg9IjM0NS41IiB5PSIzMyIvPjxlbGxpcHNlIGN4PSIzNjAuNSIgY3k9IjQ5IiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTM2My40NzMxLDU0LjY0MzEgUTM2Mi44OTIxLDU0Ljk0MTkgMzYyLjI1MjksNTUuMDkxMyBRMzYxLjYxMzgsNTUuMjQwNyAzNjAuOTA4Miw1NS4yNDA3IFEzNTguNDAxNCw1NS4yNDA3IDM1Ny4wODE1LDUzLjU4ODkgUTM1NS43NjE3LDUxLjkzNyAzNTUuNzYxNyw0OC44MTU5IFEzNTUuNzYxNyw0NS42ODY1IDM1Ny4wODE1LDQ0LjAzNDcgUTM1OC40MDE0LDQyLjM4MjggMzYwLjkwODIsNDIuMzgyOCBRMzYxLjYxMzgsNDIuMzgyOCAzNjIuMjYxMiw0Mi41MzIyIFEzNjIuOTA4Nyw0Mi42ODE2IDM2My40NzMxLDQyLjk4MDUgTDM2My40NzMxLDQ1LjcwMzEgUTM2Mi44NDIzLDQ1LjEyMjEgMzYyLjI0ODgsNDQuODUyMyBRMzYxLjY1NTMsNDQuNTgyNSAzNjEuMDI0NCw0NC41ODI1IFEzNTkuNjc5Nyw0NC41ODI1IDM1OC45OTQ5LDQ1LjY0OTIgUTM1OC4zMTAxLDQ2LjcxNTggMzU4LjMxMDEsNDguODE1OSBRMzU4LjMxMDEsNTAuOTA3NyAzNTguOTk0OSw1MS45NzQ0IFEzNTkuNjc5Nyw1My4wNDEgMzYxLjAyNDQsNTMuMDQxIFEzNjEuNjU1Myw1My4wNDEgMzYyLjI0ODgsNTIuNzcxMiBRMzYyLjg0MjMsNTIuNTAxNSAzNjMuNDczMSw1MS45MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMzIiIHg9IjM3NC41IiB5PSI1My41MzUyIj5DbGllbnQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMzQ2LjUiIHgyPSI0MDguNSIgeTE9IjY1IiB5Mj0iNjUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIzNDYuNSIgeDI9IjQwOC41IiB5MT0iNzMiIHkyPSI3MyIvPjwhLS1NRDU9WzJkMmQ0MzkxNThlODdiNzE1ZWNjYmZhZDE4ODUxZmIyXQpyZXZlcnNlIGxpbmsgSUNvbXBvbmVudCB0byBMZWFmLS0+PHBhdGggY29kZUxpbmU9IjE2IiBkPSJNMTI4Ljk1OTYsNTcgQzEyOC45NTk2LDU3IDYwLjUsNTcgNjAuNSw1NyBDNjAuNSw1NyA2MC41LDEzOS42NTYyIDYwLjUsMTg2LjE1MDQgIiBmaWxsPSJub25lIiBpZD0iSUNvbXBvbmVudC1iYWNrdG8tTGVhZiIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSIxMjguOTU5Nyw0OS45OTk5LDE0OC45NTk2LDU3LDEyOC45NTk2LDYzLjk5OTksMTI4Ljk1OTcsNDkuOTk5OSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bNjgxNjhkNGFlMGQ5NmFmNjllMDg1NDUyMzgwMmJiZDJdCnJldmVyc2UgbGluayBJQ29tcG9uZW50IHRvIENvbXBvc2l0ZS0tPjxwYXRoIGQ9Ik0yMDIuNjY2NywxMjcuMTg2IEMyMDIuNjY2NywxMjcuMTg2IDIwMi42NjY3LDE2Ni45OTIxIDIwMi42NjY3LDE2Ni45OTIxICIgZmlsbD0ibm9uZSIgaWQ9IklDb21wb25lbnQtYmFja3RvLUNvbXBvc2l0ZSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSIxOTUuNjY2OCwxMjcuMTg2LDIwMi42NjY3LDEwNy4xODYsMjA5LjY2NjgsMTI3LjE4NiwxOTUuNjY2OCwxMjcuMTg2IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVsxNzA4NjY4MTIzOGI2ZjVhZDgwZGJkMTU2ZGYxOGE1OV0KbGluayBDb21wb3NpdGUgdG8gSUNvbXBvbmVudC0tPjxwYXRoIGNvZGVMaW5lPSIyNiIgZD0iTTI1Ni4zMzMzLDE1NC44MTQgQzI1Ni4zMzMzLDE1NC44MTQgMjU2LjMzMzMsMTIwLjAwNzkgMjU2LjMzMzMsMTIwLjAwNzkgIiBmaWxsPSJub25lIiBpZD0iQ29tcG9zaXRlLUlDb21wb25lbnQiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMjU2LjMzMzMsMTA3LjAwNzksMjUyLjMzMzMsMTE2LjAwNzksMjU2LjMzMzMsMTEyLjAwNzksMjYwLjMzMzMsMTE2LjAwNzksMjU2LjMzMzMsMTA3LjAwNzkiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIgeDE9IjI1Ni4zMzMzIiB4Mj0iMjU2LjMzMzQiIHkxPSIxMTIuMDA3OSIgeTI9IjEyMC4wMDc5Ii8+PHBvbHlnb24gZmlsbD0iI0ZGRkZGRiIgcG9pbnRzPSIyNTYuMzMzMywxNjYuODE0LDI2MC4zMzMzLDE2MC44MTQsMjU2LjMzMzMsMTU0LjgxNCwyNTIuMzMzMywxNjAuODE0LDI1Ni4zMzMzLDE2Ni44MTQiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzgzMzNjNTgxMmRmOWVmMTI3MTE5M2I4OGVkZGQ1YjZlXQpyZXZlcnNlIGxpbmsgSUNvbXBvbmVudCB0byBDbGllbnQtLT48cGF0aCBjb2RlTGluZT0iMjciIGQ9Ik0zMTUuNDI4NSw1NyBDMzE1LjQyODUsNTcgMzQ1LjQ3NzQsNTcgMzQ1LjQ3NzQsNTcgIiBmaWxsPSJub25lIiBpZD0iSUNvbXBvbmVudC1iYWNrdG8tQ2xpZW50IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjMxMC40Mjg1LDU3LDMxOS40Mjg1LDYxLDMxNS40Mjg1LDU3LDMxOS40Mjg1LDUzLDMxMC40Mjg1LDU3IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVs4MzRhYmEzNTRjM2QxMTAxNzA5NzgxMmExOGIyZjgxZl0KQHN0YXJ0dW1sDQpza2lucGFyYW0gbW9ub2Nocm9tZSB0cnVlDQpza2lucGFyYW0gY2xhc3NBdHRyaWJ1dGVJY29uU2l6ZSAwDQpza2lucGFyYW0gbGluZXR5cGUgb3J0aG8NCg0KaW50ZXJmYWNlIElDb21wb25lbnQgew0KICAgICsgb3BlcmF0aW9uKCk6dm9pZA0KICAgICsgYWRkKElDb21wb25lbnQpOnZvaWQNCiAgICArIHJlbW92ZShJQ29tcG9uZW50KTp2b2lkDQogICAgKyBnZXRDaGlsZChpbnQpOklDb21wb25lbnQNCn0NCg0KdG9nZXRoZXIgew0KICAgIGNsYXNzIExlYWYgew0KICAgICAgICArIG9wZXJhdGlvbigpOnZvaWQNCiAgICB9DQogICAgTGVhZiAudXAufD4gSUNvbXBvbmVudA0KICAgIENsYXNzIENvbXBvc2l0ZSBpbXBsZW1lbnRzIElDb21wb25lbnR7DQogICAgICAgICsgb3BlcmF0aW9uKCk6dm9pZA0KICAgICAgICArIGFkZChJQ29tcG9uZW50IGcpOnZvaWQNCiAgICAgICAgKyByZW1vdmUoSUNvbXBvbmVudCk6dm9pZA0KICAgICAgICArIGdldENoaWxkKGludCk6SUNvbXBvbmVudA0KDQogICAgfQ0KICAgIG5vdGUgImZvcmFsbCBjIGluIGNvbXBvbmVudHNcblx0Yy5vcGVyYXRpb24oKSIgYXMgTjENCn0NCkNvbXBvc2l0ZSBvLSAtPklDb21wb25lbnQNCkNsaWVudCAubGVmdC4+IElDb21wb25lbnQNCkNvbXBvc2l0ZSAucmlnaHQuIE4xDQoNCkBlbmR1bWwNCgpQbGFudFVNTCB2ZXJzaW9uIDEuMjAyMC4xNihNb24gQXVnIDI0IDA0OjIwOjQzIENTVCAyMDIwKQooR1BMIHNvdXJjZSBkaXN0cmlidXRpb24pCkphdmEgUnVudGltZTogSmF2YShUTSkgU0UgUnVudGltZSBFbnZpcm9ubWVudApKVk06IEphdmEgSG90U3BvdChUTSkgNjQtQml0IFNlcnZlciBWTQpEZWZhdWx0IEVuY29kaW5nOiBVVEYtOApMYW5ndWFnZTogemgKQ291bnRyeTogQ04KLS0+PC9nPjwvc3ZnPg=='>


<h4 id="桥接模式（BRIDGE"><a href="#桥接模式（BRIDGE" class="headerlink" title="桥接模式（BRIDGE)"></a>桥接模式（BRIDGE)</h4><p>将抽象部分与它的实现部分分离，使它们都可以独立地变化。</p>
<blockquote>
<p>抽象部分与实现部分的接口一般不一致，通过组合的方式使得抽象和实现部分可以独立的变化。一般由实现部分给出底层的操作而由抽象部分在底层操作的基础上提供高一层的操作。并且支持两者的独立变化。</p>
</blockquote>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMTk1cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo0OTdweDtoZWlnaHQ6MTk1cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA0OTcgMTk1IiB3aWR0aD0iNDk3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjVmczF5cTI2N2Y1YSIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVtmN2U1YWFlZGYxYjI1YWFkOWI0NDdjZGY4ZGJhMmEyMF0KY2xhc3MgQWJzdHJhY3Rpb24tLT48cmVjdCBjb2RlTGluZT0iNSIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2Y1ZnMxeXEyNjdmNWEpIiBoZWlnaHQ9IjYwLjk1NTEiIGlkPSJBYnN0cmFjdGlvbiIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTA3IiB4PSIzMyIgeT0iNyIvPjxlbGxpcHNlIGN4PSI1Mi41IiBjeT0iMjMiIGZpbGw9IiNDRENEQ0QiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNNTIuNjEzMywxOC4zNDgxIEw1MS40NTk1LDIzLjQxOTkgTDUzLjc3NTQsMjMuNDE5OSBaIE01MS4xMTkxLDE2LjEwNjkgTDU0LjExNTcsMTYuMTA2OSBMNTcuNDYwOSwyOC41IEw1NS4wMTIyLDI4LjUgTDU0LjI0ODUsMjUuNDM3IEw1MC45Njk3LDI1LjQzNyBMNTAuMjIyNywyOC41IEw0Ny43NzM5LDI4LjUgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjY1IiB4PSI2Ny41IiB5PSIyNy41MzUyIj5BYnN0cmFjdGlvbjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIzNCIgeDI9IjEzOSIgeTE9IjM5IiB5Mj0iMzkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIzNCIgeDI9IjEzOSIgeTE9IjQ3IiB5Mj0iNDciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI5NSIgeD0iMzkiIHk9IjYxLjYzNDgiPitvcGVyYXRpb24oKTp2b2lkPC90ZXh0PjwhLS1NRDU9WzA4OGI3MGY2MjdjYTI4YzgzNTlhOTk3ZDZjMTlhYjYxXQpjbGFzcyBSZWZpbmVkQWJzdHJhY3Rpb24tLT48cmVjdCBjb2RlTGluZT0iOSIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2Y1ZnMxeXEyNjdmNWEpIiBoZWlnaHQ9IjQ4IiBpZD0iUmVmaW5lZEFic3RyYWN0aW9uIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxNDEiIHg9IjciIHk9IjEyOCIvPjxlbGxpcHNlIGN4PSIyMiIgY3k9IjE0NCIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0yNC45NzMxLDE0OS42NDMxIFEyNC4zOTIxLDE0OS45NDE5IDIzLjc1MjksMTUwLjA5MTMgUTIzLjExMzgsMTUwLjI0MDcgMjIuNDA4MiwxNTAuMjQwNyBRMTkuOTAxNCwxNTAuMjQwNyAxOC41ODE1LDE0OC41ODg5IFExNy4yNjE3LDE0Ni45MzcgMTcuMjYxNywxNDMuODE1OSBRMTcuMjYxNywxNDAuNjg2NSAxOC41ODE1LDEzOS4wMzQ3IFExOS45MDE0LDEzNy4zODI4IDIyLjQwODIsMTM3LjM4MjggUTIzLjExMzgsMTM3LjM4MjggMjMuNzYxMiwxMzcuNTMyMiBRMjQuNDA4NywxMzcuNjgxNiAyNC45NzMxLDEzNy45ODA1IEwyNC45NzMxLDE0MC43MDMxIFEyNC4zNDIzLDE0MC4xMjIxIDIzLjc0ODgsMTM5Ljg1MjMgUTIzLjE1NTMsMTM5LjU4MjUgMjIuNTI0NCwxMzkuNTgyNSBRMjEuMTc5NywxMzkuNTgyNSAyMC40OTQ5LDE0MC42NDkyIFExOS44MTAxLDE0MS43MTU4IDE5LjgxMDEsMTQzLjgxNTkgUTE5LjgxMDEsMTQ1LjkwNzcgMjAuNDk0OSwxNDYuOTc0NCBRMjEuMTc5NywxNDguMDQxIDIyLjUyNDQsMTQ4LjA0MSBRMjMuMTU1MywxNDguMDQxIDIzLjc0ODgsMTQ3Ljc3MTIgUTI0LjM0MjMsMTQ3LjUwMTUgMjQuOTczMSwxNDYuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEwOSIgeD0iMzYiIHk9IjE0OC41MzUyIj5SZWZpbmVkQWJzdHJhY3Rpb248L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iOCIgeDI9IjE0NyIgeTE9IjE2MCIgeTI9IjE2MCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjgiIHgyPSIxNDciIHkxPSIxNjgiIHkyPSIxNjgiLz48IS0tTUQ1PVs2OTgyMTJiYmFjZTY4YTI3ZTAzOGFhYmU2MjQwNzlhN10KY2xhc3MgQWJzdHJhY3Rpb25JbXBsLS0+PHJlY3QgY29kZUxpbmU9IjExIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjVmczF5cTI2N2Y1YSkiIGhlaWdodD0iNjAuOTU1MSIgaWQ9IkFic3RyYWN0aW9uSW1wbCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTMwIiB4PSIxODMuNSIgeT0iNyIvPjxlbGxpcHNlIGN4PSIyMDIuMSIgY3k9IjIzIiBmaWxsPSIjQ0RDRENEIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTIwMi4yMTMzLDE4LjM0ODEgTDIwMS4wNTk1LDIzLjQxOTkgTDIwMy4zNzU0LDIzLjQxOTkgWiBNMjAwLjcxOTEsMTYuMTA2OSBMMjAzLjcxNTcsMTYuMTA2OSBMMjA3LjA2MDksMjguNSBMMjA0LjYxMjIsMjguNSBMMjAzLjg0ODUsMjUuNDM3IEwyMDAuNTY5NywyNS40MzcgTDE5OS44MjI3LDI4LjUgTDE5Ny4zNzM5LDI4LjUgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjkwIiB4PSIyMTYuOSIgeT0iMjcuNTM1MiI+QWJzdHJhY3Rpb25JbXBsPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE4NC41IiB4Mj0iMzEyLjUiIHkxPSIzOSIgeTI9IjM5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTg0LjUiIHgyPSIzMTIuNSIgeTE9IjQ3IiB5Mj0iNDciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMTgiIHg9IjE4OS41IiB5PSI2MS42MzQ4Ij4rb3BlcmF0aW9uSW1wbCgpOnZvaWQ8L3RleHQ+PCEtLU1ENT1bMDU5MTUyNTQ2ZDg4MWUwOGJkYjZkOGIxYTE2ZjJjNmVdCmNsYXNzIEFic3RyYWN0aW9uSW1wbEEtLT48cmVjdCBjb2RlTGluZT0iMTUiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmNWZzMXlxMjY3ZjVhKSIgaGVpZ2h0PSI0OCIgaWQ9IkFic3RyYWN0aW9uSW1wbEEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjEzMCIgeD0iMTgzLjUiIHk9IjEyOCIvPjxlbGxpcHNlIGN4PSIxOTguNSIgY3k9IjE0NCIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0yMDEuNDczMSwxNDkuNjQzMSBRMjAwLjg5MjEsMTQ5Ljk0MTkgMjAwLjI1MjksMTUwLjA5MTMgUTE5OS42MTM4LDE1MC4yNDA3IDE5OC45MDgyLDE1MC4yNDA3IFExOTYuNDAxNCwxNTAuMjQwNyAxOTUuMDgxNSwxNDguNTg4OSBRMTkzLjc2MTcsMTQ2LjkzNyAxOTMuNzYxNywxNDMuODE1OSBRMTkzLjc2MTcsMTQwLjY4NjUgMTk1LjA4MTUsMTM5LjAzNDcgUTE5Ni40MDE0LDEzNy4zODI4IDE5OC45MDgyLDEzNy4zODI4IFExOTkuNjEzOCwxMzcuMzgyOCAyMDAuMjYxMiwxMzcuNTMyMiBRMjAwLjkwODcsMTM3LjY4MTYgMjAxLjQ3MzEsMTM3Ljk4MDUgTDIwMS40NzMxLDE0MC43MDMxIFEyMDAuODQyMywxNDAuMTIyMSAyMDAuMjQ4OCwxMzkuODUyMyBRMTk5LjY1NTMsMTM5LjU4MjUgMTk5LjAyNDQsMTM5LjU4MjUgUTE5Ny42Nzk3LDEzOS41ODI1IDE5Ni45OTQ5LDE0MC42NDkyIFExOTYuMzEwMSwxNDEuNzE1OCAxOTYuMzEwMSwxNDMuODE1OSBRMTk2LjMxMDEsMTQ1LjkwNzcgMTk2Ljk5NDksMTQ2Ljk3NDQgUTE5Ny42Nzk3LDE0OC4wNDEgMTk5LjAyNDQsMTQ4LjA0MSBRMTk5LjY1NTMsMTQ4LjA0MSAyMDAuMjQ4OCwxNDcuNzcxMiBRMjAwLjg0MjMsMTQ3LjUwMTUgMjAxLjQ3MzEsMTQ2LjkyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI5OCIgeD0iMjEyLjUiIHk9IjE0OC41MzUyIj5BYnN0cmFjdGlvbkltcGxBPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE4NC41IiB4Mj0iMzEyLjUiIHkxPSIxNjAiIHkyPSIxNjAiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxODQuNSIgeDI9IjMxMi41IiB5MT0iMTY4IiB5Mj0iMTY4Ii8+PCEtLU1ENT1bMWE5OTk0MDVhZGM4YTBlOTIyNDZhYTE2MDZjOTljOGNdCmNsYXNzIEFic3RyYWN0aW9uSW1wbEItLT48cmVjdCBjb2RlTGluZT0iMTYiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmNWZzMXlxMjY3ZjVhKSIgaGVpZ2h0PSI0OCIgaWQ9IkFic3RyYWN0aW9uSW1wbEIiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjEyOSIgeD0iMzQ5IiB5PSIxMjgiLz48ZWxsaXBzZSBjeD0iMzY0IiBjeT0iMTQ0IiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTM2Ni45NzMxLDE0OS42NDMxIFEzNjYuMzkyMSwxNDkuOTQxOSAzNjUuNzUyOSwxNTAuMDkxMyBRMzY1LjExMzgsMTUwLjI0MDcgMzY0LjQwODIsMTUwLjI0MDcgUTM2MS45MDE0LDE1MC4yNDA3IDM2MC41ODE1LDE0OC41ODg5IFEzNTkuMjYxNywxNDYuOTM3IDM1OS4yNjE3LDE0My44MTU5IFEzNTkuMjYxNywxNDAuNjg2NSAzNjAuNTgxNSwxMzkuMDM0NyBRMzYxLjkwMTQsMTM3LjM4MjggMzY0LjQwODIsMTM3LjM4MjggUTM2NS4xMTM4LDEzNy4zODI4IDM2NS43NjEyLDEzNy41MzIyIFEzNjYuNDA4NywxMzcuNjgxNiAzNjYuOTczMSwxMzcuOTgwNSBMMzY2Ljk3MzEsMTQwLjcwMzEgUTM2Ni4zNDIzLDE0MC4xMjIxIDM2NS43NDg4LDEzOS44NTIzIFEzNjUuMTU1MywxMzkuNTgyNSAzNjQuNTI0NCwxMzkuNTgyNSBRMzYzLjE3OTcsMTM5LjU4MjUgMzYyLjQ5NDksMTQwLjY0OTIgUTM2MS44MTAxLDE0MS43MTU4IDM2MS44MTAxLDE0My44MTU5IFEzNjEuODEwMSwxNDUuOTA3NyAzNjIuNDk0OSwxNDYuOTc0NCBRMzYzLjE3OTcsMTQ4LjA0MSAzNjQuNTI0NCwxNDguMDQxIFEzNjUuMTU1MywxNDguMDQxIDM2NS43NDg4LDE0Ny43NzEyIFEzNjYuMzQyMywxNDcuNTAxNSAzNjYuOTczMSwxNDYuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9Ijk3IiB4PSIzNzgiIHk9IjE0OC41MzUyIj5BYnN0cmFjdGlvbkltcGxCPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjM1MCIgeDI9IjQ3NyIgeTE9IjE2MCIgeTI9IjE2MCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjM1MCIgeDI9IjQ3NyIgeTE9IjE2OCIgeTI9IjE2OCIvPjwhLS1NRDU9WzliOGE5OTc4ZjBhNzI1MWRiMjhkM2MzNTdlZTk3Zjk5XQpyZXZlcnNlIGxpbmsgQWJzdHJhY3Rpb24gdG8gUmVmaW5lZEFic3RyYWN0aW9uLS0+PHBhdGggZD0iTTg2LjUsODguMTgzOSBDODYuNSw4OC4xODM5IDg2LjUsMTI3Ljc2MzQgODYuNSwxMjcuNzYzNCAiIGZpbGw9Im5vbmUiIGlkPSJBYnN0cmFjdGlvbi1iYWNrdG8tUmVmaW5lZEFic3RyYWN0aW9uIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9Ijc5LjUwMDEsODguMTgzOSw4Ni41LDY4LjE4MzksOTMuNTAwMSw4OC4xODM5LDc5LjUwMDEsODguMTgzOSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bMDhmNmZhYWRkYzI0NWJmYjM0ZmZhZjhkZTY2YmI3N2JdCnJldmVyc2UgbGluayBBYnN0cmFjdGlvbkltcGwgdG8gQWJzdHJhY3Rpb25JbXBsQS0tPjxwYXRoIGQ9Ik0yNDguNSw4OC4xODM5IEMyNDguNSw4OC4xODM5IDI0OC41LDEyNy43NjM0IDI0OC41LDEyNy43NjM0ICIgZmlsbD0ibm9uZSIgaWQ9IkFic3RyYWN0aW9uSW1wbC1iYWNrdG8tQWJzdHJhY3Rpb25JbXBsQSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSIyNDEuNTAwMSw4OC4xODM5LDI0OC41LDY4LjE4MzksMjU1LjUwMDEsODguMTgzOSwyNDEuNTAwMSw4OC4xODM5IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVswZDcxMDZjYWE4NWZkZmY3MzkzODVmZmM0OTE0MjE4Zl0KcmV2ZXJzZSBsaW5rIEFic3RyYWN0aW9uSW1wbCB0byBBYnN0cmFjdGlvbkltcGxCLS0+PHBhdGggZD0iTTMzMy43MTI0LDM4IEMzMzMuNzEyNCwzOCA0MTMuNSwzOCA0MTMuNSwzOCBDNDEzLjUsMzggNDEzLjUsOTQuMzU5OSA0MTMuNSwxMjcuODIzNSAiIGZpbGw9Im5vbmUiIGlkPSJBYnN0cmFjdGlvbkltcGwtYmFja3RvLUFic3RyYWN0aW9uSW1wbEIiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMzMzLjcxMjQsNDQuOTk5OSwzMTMuNzEyNCwzOCwzMzMuNzEyMywzMC45OTk5LDMzMy43MTI0LDQ0Ljk5OTkiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzBjYTBmMzc4NDhmZmQ1NjVlMjA2ZGI1MGEwZDJjZTQwXQpsaW5rIEFic3RyYWN0aW9uIHRvIEFic3RyYWN0aW9uSW1wbC0tPjxwYXRoIGNvZGVMaW5lPSIxOCIgZD0iTTE1Mi40NDM3LDM4IEMxNTIuNDQzNywzOCAxNzAuMjUyMiwzOCAxNzAuMjUyMiwzOCAiIGZpbGw9Im5vbmUiIGlkPSJBYnN0cmFjdGlvbi1BYnN0cmFjdGlvbkltcGwiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMTgzLjI1MjIsMzgsMTc0LjI1MjIsMzQsMTc4LjI1MjIsMzgsMTc0LjI1MjIsNDIsMTgzLjI1MjIsMzgiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIgeDE9IjE3OC4yNTIyIiB4Mj0iMTcwLjI1MjIiIHkxPSIzOCIgeTI9IjM4Ii8+PHBvbHlnb24gZmlsbD0iI0ZGRkZGRiIgcG9pbnRzPSIxNDAuNDQzNywzOCwxNDYuNDQzNyw0MiwxNTIuNDQzNywzOCwxNDYuNDQzNywzNCwxNDAuNDQzNywzOCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bMjY4YTVhOTMyY2IzNWI3ODg1NDg0ZWQ2YmZjMzkyNjldCkBzdGFydHVtbA0Kc2tpbnBhcmFtIG1vbm9jaHJvbWUgdHJ1ZQ0Kc2tpbnBhcmFtIGNsYXNzQXR0cmlidXRlSWNvblNpemUgMA0Kc2tpbnBhcmFtIGxpbmV0eXBlIG9ydGhvDQoNCmFic3RyYWN0IGNsYXNzIEFic3RyYWN0aW9uIHsNCiAgICArIG9wZXJhdGlvbigpOnZvaWQNCn0NCg0KY2xhc3MgUmVmaW5lZEFic3RyYWN0aW9uIGV4dGVuZHMgQWJzdHJhY3Rpb24ge30NCg0KYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3Rpb25JbXBsIHsNCiAgICArIG9wZXJhdGlvbkltcGwoKTp2b2lkDQp9DQoNCmNsYXNzIEFic3RyYWN0aW9uSW1wbEEgZXh0ZW5kcyBBYnN0cmFjdGlvbkltcGwge30gDQpjbGFzcyBBYnN0cmFjdGlvbkltcGxCIGV4dGVuZHMgQWJzdHJhY3Rpb25JbXBsIHt9IA0KDQpBYnN0cmFjdGlvbiBvLT4gQWJzdHJhY3Rpb25JbXBsDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjAuMTYoTW9uIEF1ZyAyNCAwNDoyMDo0MyBDU1QgMjAyMCkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IHpoCkNvdW50cnk6IENOCi0tPjwvZz48L3N2Zz4='>

<h4 id="装饰者模式（DECORATOR）"><a href="#装饰者模式（DECORATOR）" class="headerlink" title="装饰者模式（DECORATOR）"></a>装饰者模式（DECORATOR）</h4><p>动态地给一个对象添加一些额外的职责，从增加功能的角度来说，装饰者模式比生成子类更为灵活。</p>
<blockquote>
<p>装饰类和被装饰类具有同样的接口，通过装饰类可以为被装饰类添加额外的功能，有点类似AOP可以在被装饰类的前后增加一定的功能。</p>
</blockquote>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMzQxcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo1NjhweDtoZWlnaHQ6MzQxcHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1NjggMzQxIiB3aWR0aD0iNTY4cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZmh6dXppcjRkY2Y3ZSIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48cGF0aCBkPSJNMzY4LjUsMjY1LjUgTDM2OC41LDMwNi4xMjExIEw1NTYuNSwzMDYuMTIxMSBMNTU2LjUsMjc1LjUgTDU0Ni41LDI2NS41IEwzNjguNSwyNjUuNSAiIGZpbGw9IiNFQ0VDRUMiIGZpbHRlcj0idXJsKCNmaHp1emlyNGRjZjdlKSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTU0Ni41LDI2NS41IEw1NDYuNSwyNzUuNSBMNTU2LjUsMjc1LjUgTDU0Ni41LDI2NS41ICIgZmlsbD0iI0VDRUNFQyIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTM4IiB4PSIzNzQuNSIgeT0iMjgzLjA2ODQiPumAmui/h+WcqG9wZXJhdGlvbuS4reiwg+eUqDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxNjciIHg9IjM3NC41IiB5PSIyOTguMzc4OSI+YWRkQmVoYXZpb3Llop7liqDpop3lpJbnmoTlip/og708L3RleHQ+PCEtLU1ENT1bOTA0Njc0Yjc2NzFhYjhkNDdiYzYyZDJmNWM2YzBjNjFdCmNsYXNzIENvbmNyZXRlRGVjb3JhdG9yLS0+PHJlY3QgY29kZUxpbmU9IjE4IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZmh6dXppcjRkY2Y3ZSkiIGhlaWdodD0iNzMuOTEwMiIgaWQ9IkNvbmNyZXRlRGVjb3JhdG9yIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxNDAiIHg9IjE5My41IiB5PSIyNDkiLz48ZWxsaXBzZSBjeD0iMjA4LjUiIGN5PSIyNjUiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMjExLjQ3MzEsMjcwLjY0MzEgUTIxMC44OTIxLDI3MC45NDE5IDIxMC4yNTI5LDI3MS4wOTEzIFEyMDkuNjEzOCwyNzEuMjQwNyAyMDguOTA4MiwyNzEuMjQwNyBRMjA2LjQwMTQsMjcxLjI0MDcgMjA1LjA4MTUsMjY5LjU4ODkgUTIwMy43NjE3LDI2Ny45MzcgMjAzLjc2MTcsMjY0LjgxNTkgUTIwMy43NjE3LDI2MS42ODY1IDIwNS4wODE1LDI2MC4wMzQ3IFEyMDYuNDAxNCwyNTguMzgyOCAyMDguOTA4MiwyNTguMzgyOCBRMjA5LjYxMzgsMjU4LjM4MjggMjEwLjI2MTIsMjU4LjUzMjIgUTIxMC45MDg3LDI1OC42ODE2IDIxMS40NzMxLDI1OC45ODA1IEwyMTEuNDczMSwyNjEuNzAzMSBRMjEwLjg0MjMsMjYxLjEyMjEgMjEwLjI0ODgsMjYwLjg1MjMgUTIwOS42NTUzLDI2MC41ODI1IDIwOS4wMjQ0LDI2MC41ODI1IFEyMDcuNjc5NywyNjAuNTgyNSAyMDYuOTk0OSwyNjEuNjQ5MiBRMjA2LjMxMDEsMjYyLjcxNTggMjA2LjMxMDEsMjY0LjgxNTkgUTIwNi4zMTAxLDI2Ni45MDc3IDIwNi45OTQ5LDI2Ny45NzQ0IFEyMDcuNjc5NywyNjkuMDQxIDIwOS4wMjQ0LDI2OS4wNDEgUTIwOS42NTUzLDI2OS4wNDEgMjEwLjI0ODgsMjY4Ljc3MTIgUTIxMC44NDIzLDI2OC41MDE1IDIxMS40NzMxLDI2Ny45MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTA4IiB4PSIyMjIuNSIgeT0iMjY5LjUzNTIiPkNvbmNyZXRlRGVjb3JhdG9yPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE5NC41IiB4Mj0iMzMyLjUiIHkxPSIyODEiIHkyPSIyODEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI5MCIgeD0iMTk5LjUiIHk9IjI5NS42MzQ4Ij4rb3BlcmF0aW9uIDp2b2lkPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE5NC41IiB4Mj0iMzMyLjUiIHkxPSIzMDEuOTU1MSIgeTI9IjMwMS45NTUxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTA2IiB4PSIxOTkuNSIgeT0iMzE2LjU4OTgiPi1hZGRCZWhhdmlvcigpOnZvaWQ8L3RleHQ+PCEtLU1ENT1bNGUxMzk2M2M5ZGM5MTZhMjFhODQzNmVmMzk0MjJiMzJdCmNsYXNzIENvbXBvbmVudC0tPjxyZWN0IGNvZGVMaW5lPSI1IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZmh6dXppcjRkY2Y3ZSkiIGhlaWdodD0iNjAuOTU1MSIgaWQ9IkNvbXBvbmVudCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTAyIiB4PSIyMTIuNSIgeT0iNyIvPjxlbGxpcHNlIGN4PSIyMjkuMyIgY3k9IjIzIiBmaWxsPSIjQ0RDRENEIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTIyOS40MTMzLDE4LjM0ODEgTDIyOC4yNTk1LDIzLjQxOTkgTDIzMC41NzU0LDIzLjQxOTkgWiBNMjI3LjkxOTEsMTYuMTA2OSBMMjMwLjkxNTcsMTYuMTA2OSBMMjM0LjI2MDksMjguNSBMMjMxLjgxMjIsMjguNSBMMjMxLjA0ODUsMjUuNDM3IEwyMjcuNzY5NywyNS40MzcgTDIyNy4wMjI3LDI4LjUgTDIyNC41NzM5LDI4LjUgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjY2IiB4PSIyNDMuNyIgeT0iMjcuNTM1MiI+Q29tcG9uZW50PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjIxMy41IiB4Mj0iMzEzLjUiIHkxPSIzOSIgeTI9IjM5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iOTAiIHg9IjIxOC41IiB5PSI1My42MzQ4Ij4rb3BlcmF0aW9uIDp2b2lkPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjIxMy41IiB4Mj0iMzEzLjUiIHkxPSI1OS45NTUxIiB5Mj0iNTkuOTU1MSIvPjwhLS1NRDU9W2I1YmMxOGYyZmY1NTBhM2VmMjg0NzRjMGIyNjQ2ZWJiXQpjbGFzcyBDb25jcmV0ZUNvbXBvbmVudC0tPjxyZWN0IGNvZGVMaW5lPSI5IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZmh6dXppcjRkY2Y3ZSkiIGhlaWdodD0iNDgiIGlkPSJDb25jcmV0ZUNvbXBvbmVudCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTQ5IiB4PSI3IiB5PSIxMzQuNSIvPjxlbGxpcHNlIGN4PSIyMiIgY3k9IjE1MC41IiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTI0Ljk3MzEsMTU2LjE0MzEgUTI0LjM5MjEsMTU2LjQ0MTkgMjMuNzUyOSwxNTYuNTkxMyBRMjMuMTEzOCwxNTYuNzQwNyAyMi40MDgyLDE1Ni43NDA3IFExOS45MDE0LDE1Ni43NDA3IDE4LjU4MTUsMTU1LjA4ODkgUTE3LjI2MTcsMTUzLjQzNyAxNy4yNjE3LDE1MC4zMTU5IFExNy4yNjE3LDE0Ny4xODY1IDE4LjU4MTUsMTQ1LjUzNDcgUTE5LjkwMTQsMTQzLjg4MjggMjIuNDA4MiwxNDMuODgyOCBRMjMuMTEzOCwxNDMuODgyOCAyMy43NjEyLDE0NC4wMzIyIFEyNC40MDg3LDE0NC4xODE2IDI0Ljk3MzEsMTQ0LjQ4MDUgTDI0Ljk3MzEsMTQ3LjIwMzEgUTI0LjM0MjMsMTQ2LjYyMjEgMjMuNzQ4OCwxNDYuMzUyMyBRMjMuMTU1MywxNDYuMDgyNSAyMi41MjQ0LDE0Ni4wODI1IFEyMS4xNzk3LDE0Ni4wODI1IDIwLjQ5NDksMTQ3LjE0OTIgUTE5LjgxMDEsMTQ4LjIxNTggMTkuODEwMSwxNTAuMzE1OSBRMTkuODEwMSwxNTIuNDA3NyAyMC40OTQ5LDE1My40NzQ0IFEyMS4xNzk3LDE1NC41NDEgMjIuNTI0NCwxNTQuNTQxIFEyMy4xNTUzLDE1NC41NDEgMjMuNzQ4OCwxNTQuMjcxMiBRMjQuMzQyMywxNTQuMDAxNSAyNC45NzMxLDE1My40MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTE3IiB4PSIzNiIgeT0iMTU1LjAzNTIiPkNvbmNyZXRlQ29tcG9uZW50PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjgiIHgyPSIxNTUiIHkxPSIxNjYuNSIgeTI9IjE2Ni41Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iOCIgeDI9IjE1NSIgeTE9IjE3NC41IiB5Mj0iMTc0LjUiLz48IS0tTUQ1PVszMjFkYWUxZTRjMjBhNTMyYTY3ODc5NTI1ZDY4ZWNjOF0KY2xhc3MgRGVjb3JhdG9yLS0+PHJlY3QgY29kZUxpbmU9IjExIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZmh6dXppcjRkY2Y3ZSkiIGhlaWdodD0iNjAuOTU1MSIgaWQ9IkRlY29yYXRvciIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTQ1IiB4PSIxOTEiIHk9IjEyOCIvPjxlbGxpcHNlIGN4PSIyMzEuMiIgY3k9IjE0NCIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0yMzQuMTczMSwxNDkuNjQzMSBRMjMzLjU5MjEsMTQ5Ljk0MTkgMjMyLjk1MjksMTUwLjA5MTMgUTIzMi4zMTM4LDE1MC4yNDA3IDIzMS42MDgyLDE1MC4yNDA3IFEyMjkuMTAxNCwxNTAuMjQwNyAyMjcuNzgxNSwxNDguNTg4OSBRMjI2LjQ2MTcsMTQ2LjkzNyAyMjYuNDYxNywxNDMuODE1OSBRMjI2LjQ2MTcsMTQwLjY4NjUgMjI3Ljc4MTUsMTM5LjAzNDcgUTIyOS4xMDE0LDEzNy4zODI4IDIzMS42MDgyLDEzNy4zODI4IFEyMzIuMzEzOCwxMzcuMzgyOCAyMzIuOTYxMiwxMzcuNTMyMiBRMjMzLjYwODcsMTM3LjY4MTYgMjM0LjE3MzEsMTM3Ljk4MDUgTDIzNC4xNzMxLDE0MC43MDMxIFEyMzMuNTQyMywxNDAuMTIyMSAyMzIuOTQ4OCwxMzkuODUyMyBRMjMyLjM1NTMsMTM5LjU4MjUgMjMxLjcyNDQsMTM5LjU4MjUgUTIzMC4zNzk3LDEzOS41ODI1IDIyOS42OTQ5LDE0MC42NDkyIFEyMjkuMDEwMSwxNDEuNzE1OCAyMjkuMDEwMSwxNDMuODE1OSBRMjI5LjAxMDEsMTQ1LjkwNzcgMjI5LjY5NDksMTQ2Ljk3NDQgUTIzMC4zNzk3LDE0OC4wNDEgMjMxLjcyNDQsMTQ4LjA0MSBRMjMyLjM1NTMsMTQ4LjA0MSAyMzIuOTQ4OCwxNDcuNzcxMiBRMjMzLjU0MjMsMTQ3LjUwMTUgMjM0LjE3MzEsMTQ2LjkyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI1NyIgeD0iMjUwLjgiIHk9IjE0OC41MzUyIj5EZWNvcmF0b3I8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTkyIiB4Mj0iMzM1IiB5MT0iMTYwIiB5Mj0iMTYwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTMzIiB4PSIxOTciIHk9IjE3NC42MzQ4Ij4tY29tcG9uZW50OkNvbXBvbmVudDwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxOTIiIHgyPSIzMzUiIHkxPSIxODAuOTU1MSIgeTI9IjE4MC45NTUxIi8+PCEtLU1ENT1bNDc1ODk5NGUyYzViOGM0ODBiNTI2OGIwNzNiZWI4YjBdCnJldmVyc2UgbGluayBDb21wb25lbnQgdG8gQ29uY3JldGVDb21wb25lbnQtLT48cGF0aCBkPSJNMTkyLjMxODUsMzggQzE5Mi4zMTg1LDM4IDgxLjUsMzggODEuNSwzOCBDODEuNSwzOCA4MS41LDk5LjIzOTcgODEuNSwxMzQuNDA0NiAiIGZpbGw9Im5vbmUiIGlkPSJDb21wb25lbnQtYmFja3RvLUNvbmNyZXRlQ29tcG9uZW50IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjE5Mi4zMTg2LDMwLjk5OTksMjEyLjMxODUsMzgsMTkyLjMxODUsNDQuOTk5OSwxOTIuMzE4NiwzMC45OTk5IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtjNTBlMTZlNzY4Njc1NGU4MjEwZjU5NDA2MTdjOTYxYV0KcmV2ZXJzZSBsaW5rIENvbXBvbmVudCB0byBEZWNvcmF0b3ItLT48cGF0aCBkPSJNMjQ2LjUsODguMDMzNCBDMjQ2LjUsODguMDMzNCAyNDYuNSwxMjcuOTc2NCAyNDYuNSwxMjcuOTc2NCAiIGZpbGw9Im5vbmUiIGlkPSJDb21wb25lbnQtYmFja3RvLURlY29yYXRvciIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSIyMzkuNTAwMSw4OC4wMzM0LDI0Ni41LDY4LjAzMzQsMjUzLjUwMDEsODguMDMzNCwyMzkuNTAwMSw4OC4wMzM0IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtkMDMyZTEyZWIyNjUzNTkxMjkwNDYxMTBmYjVkODU2ZV0KbGluayBEZWNvcmF0b3IgdG8gQ29tcG9uZW50LS0+PHBhdGggY29kZUxpbmU9IjIzIiBkPSJNMjgwLjUsMTE1Ljk2NjYgQzI4MC41LDExNS45NjY2IDI4MC41LDgxLjAyMzYgMjgwLjUsODEuMDIzNiAiIGZpbGw9Im5vbmUiIGlkPSJEZWNvcmF0b3ItQ29tcG9uZW50IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjI4MC41LDY4LjAyMzYsMjc2LjUsNzcuMDIzNiwyODAuNSw3My4wMjM2LDI4NC41LDc3LjAyMzYsMjgwLjUsNjguMDIzNiIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMjgwLjUiIHgyPSIyODAuNSIgeTE9IjczLjAyMzYiIHkyPSI4MS4wMjM3Ii8+PHBvbHlnb24gZmlsbD0iI0ZGRkZGRiIgcG9pbnRzPSIyODAuNSwxMjcuOTY2NiwyODQuNSwxMjEuOTY2NiwyODAuNSwxMTUuOTY2NiwyNzYuNSwxMjEuOTY2NiwyODAuNSwxMjcuOTY2NiIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bOGM5M2YyOTliNTVhZDg3ZWEzOGJjYmI2MDYxNTQyODVdCnJldmVyc2UgbGluayBEZWNvcmF0b3IgdG8gQ29uY3JldGVEZWNvcmF0b3ItLT48cGF0aCBkPSJNMjYzLjUsMjA5LjAzOTQgQzI2My41LDIwOS4wMzk0IDI2My41LDI0OC44ODg4IDI2My41LDI0OC44ODg4ICIgZmlsbD0ibm9uZSIgaWQ9IkRlY29yYXRvci1iYWNrdG8tQ29uY3JldGVEZWNvcmF0b3IiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMjU2LjUwMDEsMjA5LjAzOTUsMjYzLjUsMTg5LjAzOTQsMjcwLjUwMDEsMjA5LjAzOTQsMjU2LjUwMDEsMjA5LjAzOTUiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9W2M1ZTNhODY2ZmUxNjk1ZDBiMGUyODhkY2UxNGQ2OTBmXQpAc3RhcnR1bWwNCnNraW5wYXJhbSBtb25vY2hyb21lIHRydWUNCnNraW5wYXJhbSBjbGFzc0F0dHJpYnV0ZUljb25TaXplIDANCnNraW5wYXJhbSBsaW5ldHlwZSBvcnRobw0KDQphYnN0cmFjdCBjbGFzcyBDb21wb25lbnQgew0KICAgICsgb3BlcmF0aW9uIDp2b2lkDQp9DQoNCmNsYXNzIENvbmNyZXRlQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHt9DQoNCmNsYXNzIERlY29yYXRvciBleHRlbmRzIENvbXBvbmVudCB7DQogICAgLSBjb21wb25lbnQ6Q29tcG9uZW50DQogICAgDQp9DQp0b2dldGhlciB7DQpub3RlICLpgJrov4flnKhvcGVyYXRpb27kuK3osIPnlKhcbmFkZEJlaGF2aW9y5aKe5Yqg6aKd5aSW55qE5Yqf6IO9IiBhcyBOMQ0KDQpjbGFzcyBDb25jcmV0ZURlY29yYXRvciBleHRlbmRzIERlY29yYXRvcnsNCiAgICAtIGFkZEJlaGF2aW9yKCk6dm9pZA0KICAgICsgb3BlcmF0aW9uIDp2b2lkDQp9DQp9DQpEZWNvcmF0b3Igby1kb3duLT4gQ29tcG9uZW50DQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjAuMTYoTW9uIEF1ZyAyNCAwNDoyMDo0MyBDU1QgMjAyMCkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IHpoCkNvdW50cnk6IENOCi0tPjwvZz48L3N2Zz4='>

<h4 id="外观者模式（FACADE）"><a href="#外观者模式（FACADE）" class="headerlink" title="外观者模式（FACADE）"></a>外观者模式（FACADE）</h4><p>为子系统中的一组接口提供一个一致的界面，Facade定义了一个高层接口，这个接口使得这一子系统更加容易使用。</p>
<p><img src="https://raw.githubusercontent.com/loudisoftware/loudisoftware.github.io/master/images/pattern-facade.svg" alt="外观者模式"></p>
<h4 id="享元模式（FLYWEIGHT）"><a href="#享元模式（FLYWEIGHT）" class="headerlink" title="享元模式（FLYWEIGHT）"></a>享元模式（FLYWEIGHT）</h4><p>运用共享技术有效地支持大量细粒度的对象。</p>
<blockquote>
<p>由FleyweigtFactory对象创建实际的可以共享和不能共享的对象，共享对象的外部状态由Client保存。共享对象只会保留私有的状态。只有在外部状态信息很少，而共享对象会被多次共享的情况下才能节省空间。</p>
</blockquote>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjkxcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo0NDJweDtoZWlnaHQ6MjkxcHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA0NDIgMjkxIiB3aWR0aD0iNDQycHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjExeG45M2J1NHI5b28iIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PCEtLU1ENT1bNzU0MWQwOTRiNjhhNWFiMTU4ODgzYTE0YjFlY2Q5MDRdCmNsdXN0ZXIgc2hhcmVkcG9vbC0tPjxwb2x5Z29uIGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmMTF4bjkzYnU0cjlvbykiIHBvaW50cz0iMTYsODgsMTAyLDg4LDEwOSwxMTAuNDg4MywyOTAsMTEwLjQ4ODMsMjkwLDI3OSwxNiwyNzksMTYsODgiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE2IiB4Mj0iMTA5IiB5MT0iMTEwLjQ4ODMiIHkyPSIxMTAuNDg4MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI4MCIgeD0iMjAiIHk9IjEwMy41MzUyIj5zaGFyZWRwb29sPC90ZXh0PjwhLS1NRDU9WzY0ZjI3NzNhODk2YzQxNjkzMWE2NzA1ZWMxZTlhNmJjXQpjbGFzcyBDb25jcmV0ZUZseXdlaWdodC0tPjxyZWN0IGNvZGVMaW5lPSIxMCIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxMXhuOTNidTRyOW9vKSIgaGVpZ2h0PSI0OCIgaWQ9IkNvbmNyZXRlRmx5d2VpZ2h0IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxMzUiIHg9IjE0Ni41IiB5PSIxMTUiLz48ZWxsaXBzZSBjeD0iMTYxLjUiIGN5PSIxMzEiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMTY0LjQ3MzEsMTM2LjY0MzEgUTE2My44OTIxLDEzNi45NDE5IDE2My4yNTI5LDEzNy4wOTEzIFExNjIuNjEzOCwxMzcuMjQwNyAxNjEuOTA4MiwxMzcuMjQwNyBRMTU5LjQwMTQsMTM3LjI0MDcgMTU4LjA4MTUsMTM1LjU4ODkgUTE1Ni43NjE3LDEzMy45MzcgMTU2Ljc2MTcsMTMwLjgxNTkgUTE1Ni43NjE3LDEyNy42ODY1IDE1OC4wODE1LDEyNi4wMzQ3IFExNTkuNDAxNCwxMjQuMzgyOCAxNjEuOTA4MiwxMjQuMzgyOCBRMTYyLjYxMzgsMTI0LjM4MjggMTYzLjI2MTIsMTI0LjUzMjIgUTE2My45MDg3LDEyNC42ODE2IDE2NC40NzMxLDEyNC45ODA1IEwxNjQuNDczMSwxMjcuNzAzMSBRMTYzLjg0MjMsMTI3LjEyMjEgMTYzLjI0ODgsMTI2Ljg1MjMgUTE2Mi42NTUzLDEyNi41ODI1IDE2Mi4wMjQ0LDEyNi41ODI1IFExNjAuNjc5NywxMjYuNTgyNSAxNTkuOTk0OSwxMjcuNjQ5MiBRMTU5LjMxMDEsMTI4LjcxNTggMTU5LjMxMDEsMTMwLjgxNTkgUTE1OS4zMTAxLDEzMi45MDc3IDE1OS45OTQ5LDEzMy45NzQ0IFExNjAuNjc5NywxMzUuMDQxIDE2Mi4wMjQ0LDEzNS4wNDEgUTE2Mi42NTUzLDEzNS4wNDEgMTYzLjI0ODgsMTM0Ljc3MTIgUTE2My44NDIzLDEzNC41MDE1IDE2NC40NzMxLDEzMy45MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTAzIiB4PSIxNzUuNSIgeT0iMTM1LjUzNTIiPkNvbmNyZXRlRmx5d2VpZ2h0PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE0Ny41IiB4Mj0iMjgwLjUiIHkxPSIxNDciIHkyPSIxNDciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxNDcuNSIgeDI9IjI4MC41IiB5MT0iMTU1IiB5Mj0iMTU1Ii8+PCEtLU1ENT1bOWJlZmU2Y2U5NjIwNzAzMWM3MWRmNTdlYWZjODczMzFdCmNsYXNzIFVuc2hhcmVkQ29uY3JldGVGbHl3ZWlnaHQtLT48cmVjdCBjb2RlTGluZT0iMTQiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmMTF4bjkzYnU0cjlvbykiIGhlaWdodD0iNDgiIGlkPSJVbnNoYXJlZENvbmNyZXRlRmx5d2VpZ2h0IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxOTAiIHg9IjQ4IiB5PSIyMjMiLz48ZWxsaXBzZSBjeD0iNjMiIGN5PSIyMzkiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNNjUuOTczMSwyNDQuNjQzMSBRNjUuMzkyMSwyNDQuOTQxOSA2NC43NTI5LDI0NS4wOTEzIFE2NC4xMTM4LDI0NS4yNDA3IDYzLjQwODIsMjQ1LjI0MDcgUTYwLjkwMTQsMjQ1LjI0MDcgNTkuNTgxNSwyNDMuNTg4OSBRNTguMjYxNywyNDEuOTM3IDU4LjI2MTcsMjM4LjgxNTkgUTU4LjI2MTcsMjM1LjY4NjUgNTkuNTgxNSwyMzQuMDM0NyBRNjAuOTAxNCwyMzIuMzgyOCA2My40MDgyLDIzMi4zODI4IFE2NC4xMTM4LDIzMi4zODI4IDY0Ljc2MTIsMjMyLjUzMjIgUTY1LjQwODcsMjMyLjY4MTYgNjUuOTczMSwyMzIuOTgwNSBMNjUuOTczMSwyMzUuNzAzMSBRNjUuMzQyMywyMzUuMTIyMSA2NC43NDg4LDIzNC44NTIzIFE2NC4xNTUzLDIzNC41ODI1IDYzLjUyNDQsMjM0LjU4MjUgUTYyLjE3OTcsMjM0LjU4MjUgNjEuNDk0OSwyMzUuNjQ5MiBRNjAuODEwMSwyMzYuNzE1OCA2MC44MTAxLDIzOC44MTU5IFE2MC44MTAxLDI0MC45MDc3IDYxLjQ5NDksMjQxLjk3NDQgUTYyLjE3OTcsMjQzLjA0MSA2My41MjQ0LDI0My4wNDEgUTY0LjE1NTMsMjQzLjA0MSA2NC43NDg4LDI0Mi43NzEyIFE2NS4zNDIzLDI0Mi41MDE1IDY1Ljk3MzEsMjQxLjkyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxNTgiIHg9Ijc3IiB5PSIyNDMuNTM1MiI+VW5zaGFyZWRDb25jcmV0ZUZseXdlaWdodDwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI0OSIgeDI9IjIzNyIgeTE9IjI1NSIgeTI9IjI1NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjQ5IiB4Mj0iMjM3IiB5MT0iMjYzIiB5Mj0iMjYzIi8+PCEtLU1ENT1bN2MwOWI3OTYwNDA4NWFiNGZiYzc2OTQ5Y2Y3NWFiODVdCmNsYXNzIElGbHl3ZWlnaHQtLT48cmVjdCBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjExeG45M2J1NHI5b28pIiBoZWlnaHQ9IjQ4IiBpZD0iSUZseXdlaWdodCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iODciIHg9IjI0LjUiIHk9IjExNSIvPjxlbGxpcHNlIGN4PSIzOS41IiBjeT0iMTMxIiBmaWxsPSIjQjFCMUIxIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTM1LjQyNzcsMTI2Ljc2NTEgTDM1LjQyNzcsMTI0LjYwNjkgTDQyLjgwNzEsMTI0LjYwNjkgTDQyLjgwNzEsMTI2Ljc2NTEgTDQwLjM0MTgsMTI2Ljc2NTEgTDQwLjM0MTgsMTM0Ljg0MTggTDQyLjgwNzEsMTM0Ljg0MTggTDQyLjgwNzEsMTM3IEwzNS40Mjc3LDEzNyBMMzUuNDI3NywxMzQuODQxOCBMMzcuODkzMSwxMzQuODQxOCBMMzcuODkzMSwxMjYuNzY1MSBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNTUiIHg9IjUzLjUiIHk9IjEzNS41MzUyIj5JRmx5d2VpZ2h0PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjI1LjUiIHgyPSIxMTAuNSIgeTE9IjE0NyIgeTI9IjE0NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjI1LjUiIHgyPSIxMTAuNSIgeTE9IjE1NSIgeTI9IjE1NSIvPjwhLS1NRDU9WzM2MjRiZDYzOGM4ZmZkOWVhY2I3MjkxYzRkYWFiYWYzXQpjbGFzcyBGbHl3ZWlnaHRGYWN0b3J5LS0+PHJlY3QgY29kZUxpbmU9IjE5IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjExeG45M2J1NHI5b28pIiBoZWlnaHQ9IjQ4IiBpZD0iRmx5d2VpZ2h0RmFjdG9yeSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTI1IiB4PSIyOTguNSIgeT0iMjIzIi8+PGVsbGlwc2UgY3g9IjMxMy41IiBjeT0iMjM5IiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTMxNi40NzMxLDI0NC42NDMxIFEzMTUuODkyMSwyNDQuOTQxOSAzMTUuMjUyOSwyNDUuMDkxMyBRMzE0LjYxMzgsMjQ1LjI0MDcgMzEzLjkwODIsMjQ1LjI0MDcgUTMxMS40MDE0LDI0NS4yNDA3IDMxMC4wODE1LDI0My41ODg5IFEzMDguNzYxNywyNDEuOTM3IDMwOC43NjE3LDIzOC44MTU5IFEzMDguNzYxNywyMzUuNjg2NSAzMTAuMDgxNSwyMzQuMDM0NyBRMzExLjQwMTQsMjMyLjM4MjggMzEzLjkwODIsMjMyLjM4MjggUTMxNC42MTM4LDIzMi4zODI4IDMxNS4yNjEyLDIzMi41MzIyIFEzMTUuOTA4NywyMzIuNjgxNiAzMTYuNDczMSwyMzIuOTgwNSBMMzE2LjQ3MzEsMjM1LjcwMzEgUTMxNS44NDIzLDIzNS4xMjIxIDMxNS4yNDg4LDIzNC44NTIzIFEzMTQuNjU1MywyMzQuNTgyNSAzMTQuMDI0NCwyMzQuNTgyNSBRMzEyLjY3OTcsMjM0LjU4MjUgMzExLjk5NDksMjM1LjY0OTIgUTMxMS4zMTAxLDIzNi43MTU4IDMxMS4zMTAxLDIzOC44MTU5IFEzMTEuMzEwMSwyNDAuOTA3NyAzMTEuOTk0OSwyNDEuOTc0NCBRMzEyLjY3OTcsMjQzLjA0MSAzMTQuMDI0NCwyNDMuMDQxIFEzMTQuNjU1MywyNDMuMDQxIDMxNS4yNDg4LDI0Mi43NzEyIFEzMTUuODQyMywyNDIuNTAxNSAzMTYuNDczMSwyNDEuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjkzIiB4PSIzMjcuNSIgeT0iMjQzLjUzNTIiPkZseXdlaWdodEZhY3Rvcnk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMjk5LjUiIHgyPSI0MjIuNSIgeTE9IjI1NSIgeTI9IjI1NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjI5OS41IiB4Mj0iNDIyLjUiIHkxPSIyNjMiIHkyPSIyNjMiLz48IS0tTUQ1PVsxY2YzNjIzOGQ0MDQ2NWE4YjI3YjViNmJiZGY1MTQxYl0KY2xhc3MgQ2xpZW50MS0tPjxyZWN0IGNvZGVMaW5lPSIyMyIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxMXhuOTNidTRyOW9vKSIgaGVpZ2h0PSI0OCIgaWQ9IkNsaWVudDEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjcyIiB4PSIxMjUiIHk9IjciLz48ZWxsaXBzZSBjeD0iMTQwIiBjeT0iMjMiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMTQyLjk3MzEsMjguNjQzMSBRMTQyLjM5MjEsMjguOTQxOSAxNDEuNzUyOSwyOS4wOTEzIFExNDEuMTEzOCwyOS4yNDA3IDE0MC40MDgyLDI5LjI0MDcgUTEzNy45MDE0LDI5LjI0MDcgMTM2LjU4MTUsMjcuNTg4OSBRMTM1LjI2MTcsMjUuOTM3IDEzNS4yNjE3LDIyLjgxNTkgUTEzNS4yNjE3LDE5LjY4NjUgMTM2LjU4MTUsMTguMDM0NyBRMTM3LjkwMTQsMTYuMzgyOCAxNDAuNDA4MiwxNi4zODI4IFExNDEuMTEzOCwxNi4zODI4IDE0MS43NjEyLDE2LjUzMjIgUTE0Mi40MDg3LDE2LjY4MTYgMTQyLjk3MzEsMTYuOTgwNSBMMTQyLjk3MzEsMTkuNzAzMSBRMTQyLjM0MjMsMTkuMTIyMSAxNDEuNzQ4OCwxOC44NTIzIFExNDEuMTU1MywxOC41ODI1IDE0MC41MjQ0LDE4LjU4MjUgUTEzOS4xNzk3LDE4LjU4MjUgMTM4LjQ5NDksMTkuNjQ5MiBRMTM3LjgxMDEsMjAuNzE1OCAxMzcuODEwMSwyMi44MTU5IFExMzcuODEwMSwyNC45MDc3IDEzOC40OTQ5LDI1Ljk3NDQgUTEzOS4xNzk3LDI3LjA0MSAxNDAuNTI0NCwyNy4wNDEgUTE0MS4xNTUzLDI3LjA0MSAxNDEuNzQ4OCwyNi43NzEyIFExNDIuMzQyMywyNi41MDE1IDE0Mi45NzMxLDI1LjkyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI0MCIgeD0iMTU0IiB5PSIyNy41MzUyIj5DbGllbnQxPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjEyNiIgeDI9IjE5NiIgeTE9IjM5IiB5Mj0iMzkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxMjYiIHgyPSIxOTYiIHkxPSI0NyIgeTI9IjQ3Ii8+PCEtLU1ENT1bNzlkYjVkZTBiOTZmYTQ0N2NiNThkYzE3ZmQyYmQ3NDBdCmNsYXNzIENsaWVudDItLT48cmVjdCBjb2RlTGluZT0iMjciIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmMTF4bjkzYnU0cjlvbykiIGhlaWdodD0iNDgiIGlkPSJDbGllbnQyIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI3MiIgeD0iMjMyIiB5PSI3Ii8+PGVsbGlwc2UgY3g9IjI0NyIgY3k9IjIzIiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTI0OS45NzMxLDI4LjY0MzEgUTI0OS4zOTIxLDI4Ljk0MTkgMjQ4Ljc1MjksMjkuMDkxMyBRMjQ4LjExMzgsMjkuMjQwNyAyNDcuNDA4MiwyOS4yNDA3IFEyNDQuOTAxNCwyOS4yNDA3IDI0My41ODE1LDI3LjU4ODkgUTI0Mi4yNjE3LDI1LjkzNyAyNDIuMjYxNywyMi44MTU5IFEyNDIuMjYxNywxOS42ODY1IDI0My41ODE1LDE4LjAzNDcgUTI0NC45MDE0LDE2LjM4MjggMjQ3LjQwODIsMTYuMzgyOCBRMjQ4LjExMzgsMTYuMzgyOCAyNDguNzYxMiwxNi41MzIyIFEyNDkuNDA4NywxNi42ODE2IDI0OS45NzMxLDE2Ljk4MDUgTDI0OS45NzMxLDE5LjcwMzEgUTI0OS4zNDIzLDE5LjEyMjEgMjQ4Ljc0ODgsMTguODUyMyBRMjQ4LjE1NTMsMTguNTgyNSAyNDcuNTI0NCwxOC41ODI1IFEyNDYuMTc5NywxOC41ODI1IDI0NS40OTQ5LDE5LjY0OTIgUTI0NC44MTAxLDIwLjcxNTggMjQ0LjgxMDEsMjIuODE1OSBRMjQ0LjgxMDEsMjQuOTA3NyAyNDUuNDk0OSwyNS45NzQ0IFEyNDYuMTc5NywyNy4wNDEgMjQ3LjUyNDQsMjcuMDQxIFEyNDguMTU1MywyNy4wNDEgMjQ4Ljc0ODgsMjYuNzcxMiBRMjQ5LjM0MjMsMjYuNTAxNSAyNDkuOTczMSwyNS45MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNDAiIHg9IjI2MSIgeT0iMjcuNTM1MiI+Q2xpZW50MjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIyMzMiIHgyPSIzMDMiIHkxPSIzOSIgeTI9IjM5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMjMzIiB4Mj0iMzAzIiB5MT0iNDciIHkyPSI0NyIvPjwhLS1NRDU9WzE2ZmIzYzA0ZDY2MWU1Yjk1MmQyNzgwMzMzODExZThjXQpyZXZlcnNlIGxpbmsgSUZseXdlaWdodCB0byBVbnNoYXJlZENvbmNyZXRlRmx5d2VpZ2h0LS0+PHBhdGggZD0iTTc5Ljc1LDE4My4yMzczIEM3OS43NSwxODMuMjM3MyA3OS43NSwyMjIuODQzNiA3OS43NSwyMjIuODQzNiAiIGZpbGw9Im5vbmUiIGlkPSJJRmx5d2VpZ2h0LWJhY2t0by1VbnNoYXJlZENvbmNyZXRlRmx5d2VpZ2h0IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjcyLjc1MDEsMTgzLjIzNzMsNzkuNzUsMTYzLjIzNzMsODYuNzUwMSwxODMuMjM3Myw3Mi43NTAxLDE4My4yMzczIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVsxNjU5NWQ2OGMxMmU5NzMzMDg4ZTM0YWFhMGVhMTBhNF0KbGluayBDbGllbnQxIHRvIENvbmNyZXRlRmx5d2VpZ2h0LS0+PHBhdGggY29kZUxpbmU9IjMxIiBkPSJNMTcxLjc1LDU1LjIzNzMgQzE3MS43NSw1NS4yMzczIDE3MS43NSwxMDkuODQzNiAxNzEuNzUsMTA5Ljg0MzYgIiBmaWxsPSJub25lIiBpZD0iQ2xpZW50MS10by1Db25jcmV0ZUZseXdlaWdodCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIxNzEuNzUsMTE0Ljg0MzYsMTc1Ljc1LDEwNS44NDM2LDE3MS43NSwxMDkuODQzNiwxNjcuNzUsMTA1Ljg0MzYsMTcxLjc1LDExNC44NDM2IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtkZjZjY2I2NDE4MjFkYWQ0OTY5MWQ3YmQ4NjE4Y2NmZF0KbGluayBDbGllbnQyIHRvIENvbmNyZXRlRmx5d2VpZ2h0LS0+PHBhdGggY29kZUxpbmU9IjMyIiBkPSJNMjU2Ljc1LDU1LjIzNzMgQzI1Ni43NSw1NS4yMzczIDI1Ni43NSwxMDkuODQzNiAyNTYuNzUsMTA5Ljg0MzYgIiBmaWxsPSJub25lIiBpZD0iQ2xpZW50Mi10by1Db25jcmV0ZUZseXdlaWdodCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIyNTYuNzUsMTE0Ljg0MzYsMjYwLjc1LDEwNS44NDM2LDI1Ni43NSwxMDkuODQzNiwyNTIuNzUsMTA1Ljg0MzYsMjU2Ljc1LDExNC44NDM2IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtiYmQ3MWEyZDBkOTRkYzkwYTEwMzZiZTU4NDc4OWI3ZF0KcmV2ZXJzZSBsaW5rIElGbHl3ZWlnaHQgdG8gQ29uY3JldGVGbHl3ZWlnaHQtLT48cGF0aCBjb2RlTGluZT0iMzQiIGQ9Ik0xMzEuODA0OCwxMzkgQzEzMS44MDQ4LDEzOSAxNDYuNDU5MSwxMzkgMTQ2LjQ1OTEsMTM5ICIgZmlsbD0ibm9uZSIgaWQ9IklGbHl3ZWlnaHQtYmFja3RvLUNvbmNyZXRlRmx5d2VpZ2h0IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjEzMS44MDQ4LDE0NS45OTk5LDExMS44MDQ4LDEzOSwxMzEuODA0OCwxMzEuOTk5OSwxMzEuODA0OCwxNDUuOTk5OSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bMjkzYjBkYTE4OGNlMjE2YzQ1YzgzODZiN2FlOGJkNDRdCnJldmVyc2UgbGluayBDb25jcmV0ZUZseXdlaWdodCB0byBGbHl3ZWlnaHRGYWN0b3J5LS0+PHBhdGggY29kZUxpbmU9IjM2IiBkPSJNMjU5Ljc1LDE2OC4yMDcyIEMyNTkuNzUsMTY4LjIwNzIgMjU5Ljc1LDIzOSAyNTkuNzUsMjM5IEMyNTkuNzUsMjM5IDI3Ny42MDM5LDIzOSAyOTguMzE3MSwyMzkgIiBmaWxsPSJub25lIiBpZD0iQ29uY3JldGVGbHl3ZWlnaHQtYmFja3RvLUZseXdlaWdodEZhY3RvcnkiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMjU5Ljc1LDE2My4yMDcyLDI1NS43NSwxNzIuMjA3MiwyNTkuNzUsMTY4LjIwNzIsMjYzLjc1LDE3Mi4yMDcyLDI1OS43NSwxNjMuMjA3MiIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bY2ZmNmM5Y2QzY2Y3ZjExNzEyMzQ3ODUzMzIxNGIwMjddCnJldmVyc2UgbGluayBVbnNoYXJlZENvbmNyZXRlRmx5d2VpZ2h0IHRvIEZseXdlaWdodEZhY3RvcnktLT48cGF0aCBjb2RlTGluZT0iMzciIGQ9Ik0yNDMuMzAwOCwyNTUgQzI0My4zMDA4LDI1NSAyOTguMTk4NCwyNTUgMjk4LjE5ODQsMjU1ICIgZmlsbD0ibm9uZSIgaWQ9IlVuc2hhcmVkQ29uY3JldGVGbHl3ZWlnaHQtYmFja3RvLUZseXdlaWdodEZhY3RvcnkiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMjM4LjMwMDgsMjU1LDI0Ny4zMDA4LDI1OSwyNDMuMzAwOCwyNTUsMjQ3LjMwMDgsMjUxLDIzOC4zMDA4LDI1NSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bODExNTdkZTM1MDRjMGFlNDBkNmRiNmU4NmRhOGVmYjJdCkBzdGFydHVtbA0Kc2tpbnBhcmFtIG1vbm9jaHJvbWUgdHJ1ZQ0Kc2tpbnBhcmFtIGNsYXNzQXR0cmlidXRlSWNvblNpemUgMA0Kc2tpbnBhcmFtIGxpbmV0eXBlIG9ydGhvDQoNCg0KDQpwYWNrYWdlIHNoYXJlZHBvb2wgew0KDQoNCmNsYXNzIENvbmNyZXRlRmx5d2VpZ2h0IHsNCg0KfQ0KDQpjbGFzcyBVbnNoYXJlZENvbmNyZXRlRmx5d2VpZ2h0IGltcGxlbWVudHMgSUZseXdlaWdodCB7DQoNCn0NCn0NCg0KY2xhc3MgRmx5d2VpZ2h0RmFjdG9yeSB7DQoNCn0NCg0KY2xhc3MgQ2xpZW50MSB7DQoNCn0NCg0KY2xhc3MgQ2xpZW50MiB7DQoNCn0NCg0KQ2xpZW50MSAtZG93bi0+IENvbmNyZXRlRmx5d2VpZ2h0DQpDbGllbnQyIC1kb3duLT4gQ29uY3JldGVGbHl3ZWlnaHQNCg0KQ29uY3JldGVGbHl3ZWlnaHQgLmxlZnQufD4gSUZseXdlaWdodA0KDQpGbHl3ZWlnaHRGYWN0b3J5IC1sZWZ0LT4gQ29uY3JldGVGbHl3ZWlnaHQNCkZseXdlaWdodEZhY3RvcnkgLWxlZnQtPiBVbnNoYXJlZENvbmNyZXRlRmx5d2VpZ2h0DQoNCkBlbmR1bWwNCgpQbGFudFVNTCB2ZXJzaW9uIDEuMjAyMC4xNihNb24gQXVnIDI0IDA0OjIwOjQzIENTVCAyMDIwKQooR1BMIHNvdXJjZSBkaXN0cmlidXRpb24pCkphdmEgUnVudGltZTogSmF2YShUTSkgU0UgUnVudGltZSBFbnZpcm9ubWVudApKVk06IEphdmEgSG90U3BvdChUTSkgNjQtQml0IFNlcnZlciBWTQpEZWZhdWx0IEVuY29kaW5nOiBVVEYtOApMYW5ndWFnZTogemgKQ291bnRyeTogQ04KLS0+PC9nPjwvc3ZnPg=='>

<h4 id="代理模式（PROXY）"><a href="#代理模式（PROXY）" class="headerlink" title="代理模式（PROXY）"></a>代理模式（PROXY）</h4><p>为其他对象提供一种代理以控制对这个对象的访问。</p>
<blockquote>
<p>代理模式可用于创建实际对象开销很大，需要保护实际对象，或者为不同的地址空间提供局部代表等场景下。</p>
</blockquote>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjA3cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDoyODlweDtoZWlnaHQ6MjA3cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAyODkgMjA3IiB3aWR0aD0iMjg5cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjE2MGc1aHJ2NGxwMHkiIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PCEtLU1ENT1bMTU3NjcwMzkzZjkwMTRlYTM0ODQ3Y2ViNTg1MTU3NGJdCmNsYXNzIElTdWJqZWN0LS0+PHJlY3QgY29kZUxpbmU9IjUiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmMTYwZzVocnY0bHAweSkiIGhlaWdodD0iNjAuOTU1MSIgaWQ9IklTdWJqZWN0IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI5OSIgeD0iMTA0LjUiIHk9IjciLz48ZWxsaXBzZSBjeD0iMTI5LjQiIGN5PSIyMyIgZmlsbD0iI0IxQjFCMSIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0xMjUuMzI3NywxOC43NjUxIEwxMjUuMzI3NywxNi42MDY5IEwxMzIuNzA3MSwxNi42MDY5IEwxMzIuNzA3MSwxOC43NjUxIEwxMzAuMjQxOCwxOC43NjUxIEwxMzAuMjQxOCwyNi44NDE4IEwxMzIuNzA3MSwyNi44NDE4IEwxMzIuNzA3MSwyOSBMMTI1LjMyNzcsMjkgTDEyNS4zMjc3LDI2Ljg0MTggTDEyNy43OTMxLDI2Ljg0MTggTDEyNy43OTMxLDE4Ljc2NTEgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjQ1IiB4PSIxNDUuNiIgeT0iMjcuNTM1MiI+SVN1YmplY3Q8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTA1LjUiIHgyPSIyMDIuNSIgeTE9IjM5IiB5Mj0iMzkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxMDUuNSIgeDI9IjIwMi41IiB5MT0iNDciIHkyPSI0NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9Ijg3IiB4PSIxMTAuNSIgeT0iNjEuNjM0OCI+K3JlcXVlc3QoKTogdm9pZDwvdGV4dD48IS0tTUQ1PVtmNzEwOWUyNThiN2UzZTRiYjM5MGUzNGIxMTViOTljZV0KY2xhc3MgUHJveHktLT48cmVjdCBjb2RlTGluZT0iOCIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxNjBnNWhydjRscDB5KSIgaGVpZ2h0PSI2MC45NTUxIiBpZD0iUHJveHkiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9Ijk5IiB4PSIxNzEuNSIgeT0iMTI4Ii8+PGVsbGlwc2UgY3g9IjIwMi4yNSIgY3k9IjE0NCIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0yMDUuMjIzMSwxNDkuNjQzMSBRMjA0LjY0MjEsMTQ5Ljk0MTkgMjA0LjAwMjksMTUwLjA5MTMgUTIwMy4zNjM4LDE1MC4yNDA3IDIwMi42NTgyLDE1MC4yNDA3IFEyMDAuMTUxNCwxNTAuMjQwNyAxOTguODMxNSwxNDguNTg4OSBRMTk3LjUxMTcsMTQ2LjkzNyAxOTcuNTExNywxNDMuODE1OSBRMTk3LjUxMTcsMTQwLjY4NjUgMTk4LjgzMTUsMTM5LjAzNDcgUTIwMC4xNTE0LDEzNy4zODI4IDIwMi42NTgyLDEzNy4zODI4IFEyMDMuMzYzOCwxMzcuMzgyOCAyMDQuMDExMiwxMzcuNTMyMiBRMjA0LjY1ODcsMTM3LjY4MTYgMjA1LjIyMzEsMTM3Ljk4MDUgTDIwNS4yMjMxLDE0MC43MDMxIFEyMDQuNTkyMywxNDAuMTIyMSAyMDMuOTk4OCwxMzkuODUyMyBRMjAzLjQwNTMsMTM5LjU4MjUgMjAyLjc3NDQsMTM5LjU4MjUgUTIwMS40Mjk3LDEzOS41ODI1IDIwMC43NDQ5LDE0MC42NDkyIFEyMDAuMDYwMSwxNDEuNzE1OCAyMDAuMDYwMSwxNDMuODE1OSBRMjAwLjA2MDEsMTQ1LjkwNzcgMjAwLjc0NDksMTQ2Ljk3NDQgUTIwMS40Mjk3LDE0OC4wNDEgMjAyLjc3NDQsMTQ4LjA0MSBRMjAzLjQwNTMsMTQ4LjA0MSAyMDMuOTk4OCwxNDcuNzcxMiBRMjA0LjU5MjMsMTQ3LjUwMTUgMjA1LjIyMzEsMTQ2LjkyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIzMiIgeD0iMjE5Ljc1IiB5PSIxNDguNTM1MiI+UHJveHk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTcyLjUiIHgyPSIyNjkuNSIgeTE9IjE2MCIgeTI9IjE2MCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE3Mi41IiB4Mj0iMjY5LjUiIHkxPSIxNjgiIHkyPSIxNjgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI4NyIgeD0iMTc3LjUiIHk9IjE4Mi42MzQ4Ij4rcmVxdWVzdCgpOiB2b2lkPC90ZXh0PjwhLS1NRDU9WzQ0OWIzMDQ1YjMzYzMxOTc5YzNiYjMyNGEyYjQ4ZDcwXQpjbGFzcyBSZWFsU3ViamVjdC0tPjxyZWN0IGNvZGVMaW5lPSIxMiIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxNjBnNWhydjRscDB5KSIgaGVpZ2h0PSI2MC45NTUxIiBpZD0iUmVhbFN1YmplY3QiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9Ijk5IiB4PSIzNy41IiB5PSIxMjgiLz48ZWxsaXBzZSBjeD0iNTIuNSIgY3k9IjE0NCIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik01NS40NzMxLDE0OS42NDMxIFE1NC44OTIxLDE0OS45NDE5IDU0LjI1MjksMTUwLjA5MTMgUTUzLjYxMzgsMTUwLjI0MDcgNTIuOTA4MiwxNTAuMjQwNyBRNTAuNDAxNCwxNTAuMjQwNyA0OS4wODE1LDE0OC41ODg5IFE0Ny43NjE3LDE0Ni45MzcgNDcuNzYxNywxNDMuODE1OSBRNDcuNzYxNywxNDAuNjg2NSA0OS4wODE1LDEzOS4wMzQ3IFE1MC40MDE0LDEzNy4zODI4IDUyLjkwODIsMTM3LjM4MjggUTUzLjYxMzgsMTM3LjM4MjggNTQuMjYxMiwxMzcuNTMyMiBRNTQuOTA4NywxMzcuNjgxNiA1NS40NzMxLDEzNy45ODA1IEw1NS40NzMxLDE0MC43MDMxIFE1NC44NDIzLDE0MC4xMjIxIDU0LjI0ODgsMTM5Ljg1MjMgUTUzLjY1NTMsMTM5LjU4MjUgNTMuMDI0NCwxMzkuNTgyNSBRNTEuNjc5NywxMzkuNTgyNSA1MC45OTQ5LDE0MC42NDkyIFE1MC4zMTAxLDE0MS43MTU4IDUwLjMxMDEsMTQzLjgxNTkgUTUwLjMxMDEsMTQ1LjkwNzcgNTAuOTk0OSwxNDYuOTc0NCBRNTEuNjc5NywxNDguMDQxIDUzLjAyNDQsMTQ4LjA0MSBRNTMuNjU1MywxNDguMDQxIDU0LjI0ODgsMTQ3Ljc3MTIgUTU0Ljg0MjMsMTQ3LjUwMTUgNTUuNDczMSwxNDYuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjY3IiB4PSI2Ni41IiB5PSIxNDguNTM1MiI+UmVhbFN1YmplY3Q8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMzguNSIgeDI9IjEzNS41IiB5MT0iMTYwIiB5Mj0iMTYwIi8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMzguNSIgeDI9IjEzNS41IiB5MT0iMTY4IiB5Mj0iMTY4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iODciIHg9IjQzLjUiIHk9IjE4Mi42MzQ4Ij4rcmVxdWVzdCgpOiB2b2lkPC90ZXh0PjwhLS1NRDU9W2UzZjcyNzE4OTEzZjFlMDM3YzViYzcyZTQ0ZGU0OWY2XQpjbGFzcyBjbGllbnQtLT48cmVjdCBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjE2MGc1aHJ2NGxwMHkpIiBoZWlnaHQ9IjQ4IiBpZD0iY2xpZW50IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI2MiIgeD0iNyIgeT0iMTMuNSIvPjxlbGxpcHNlIGN4PSIyMiIgY3k9IjI5LjUiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMjQuOTczMSwzNS4xNDMxIFEyNC4zOTIxLDM1LjQ0MTkgMjMuNzUyOSwzNS41OTEzIFEyMy4xMTM4LDM1Ljc0MDcgMjIuNDA4MiwzNS43NDA3IFExOS45MDE0LDM1Ljc0MDcgMTguNTgxNSwzNC4wODg5IFExNy4yNjE3LDMyLjQzNyAxNy4yNjE3LDI5LjMxNTkgUTE3LjI2MTcsMjYuMTg2NSAxOC41ODE1LDI0LjUzNDcgUTE5LjkwMTQsMjIuODgyOCAyMi40MDgyLDIyLjg4MjggUTIzLjExMzgsMjIuODgyOCAyMy43NjEyLDIzLjAzMjIgUTI0LjQwODcsMjMuMTgxNiAyNC45NzMxLDIzLjQ4MDUgTDI0Ljk3MzEsMjYuMjAzMSBRMjQuMzQyMywyNS42MjIxIDIzLjc0ODgsMjUuMzUyMyBRMjMuMTU1MywyNS4wODI1IDIyLjUyNDQsMjUuMDgyNSBRMjEuMTc5NywyNS4wODI1IDIwLjQ5NDksMjYuMTQ5MiBRMTkuODEwMSwyNy4yMTU4IDE5LjgxMDEsMjkuMzE1OSBRMTkuODEwMSwzMS40MDc3IDIwLjQ5NDksMzIuNDc0NCBRMjEuMTc5NywzMy41NDEgMjIuNTI0NCwzMy41NDEgUTIzLjE1NTMsMzMuNTQxIDIzLjc0ODgsMzMuMjcxMiBRMjQuMzQyMywzMy4wMDE1IDI0Ljk3MzEsMzIuNDIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjMwIiB4PSIzNiIgeT0iMzQuMDM1MiI+Y2xpZW50PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjgiIHgyPSI2OCIgeTE9IjQ1LjUiIHkyPSI0NS41Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iOCIgeDI9IjY4IiB5MT0iNTMuNSIgeTI9IjUzLjUiLz48IS0tTUQ1PVswZjgyOGYzNDA5YzA2ZjNkOGFkNTMzMDBiMDk0YWZmOV0KcmV2ZXJzZSBsaW5rIElTdWJqZWN0IHRvIFByb3h5LS0+PHBhdGggZD0iTTE4Ny41LDg4LjAzMzQgQzE4Ny41LDg4LjAzMzQgMTg3LjUsMTI3Ljk3NjQgMTg3LjUsMTI3Ljk3NjQgIiBmaWxsPSJub25lIiBpZD0iSVN1YmplY3QtYmFja3RvLVByb3h5IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjE4MC41MDAxLDg4LjAzMzQsMTg3LjUsNjguMDMzNCwxOTQuNTAwMSw4OC4wMzM0LDE4MC41MDAxLDg4LjAzMzQiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzM5NTNhZmRlZTQyOGEyYWI0MTk0YWEyNjczN2UwYTg4XQpyZXZlcnNlIGxpbmsgSVN1YmplY3QgdG8gUmVhbFN1YmplY3QtLT48cGF0aCBkPSJNMTIwLjUsODguMDMzNCBDMTIwLjUsODguMDMzNCAxMjAuNSwxMjcuOTc2NCAxMjAuNSwxMjcuOTc2NCAiIGZpbGw9Im5vbmUiIGlkPSJJU3ViamVjdC1iYWNrdG8tUmVhbFN1YmplY3QiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMTEzLjUwMDEsODguMDMzNCwxMjAuNSw2OC4wMzM0LDEyNy41MDAxLDg4LjAzMzQsMTEzLjUwMDEsODguMDMzNCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bNDUyZDRiYzYzNDAyZDQ5MDZhOTdhMzdmZDIyYjhlYWZdCmxpbmsgUmVhbFN1YmplY3QgdG8gUHJveHktLT48cGF0aCBjb2RlTGluZT0iMTYiIGQ9Ik0xNDkuNTE1OSwxNTkgQzE0OS41MTU5LDE1OSAxNTkuMjQwMiwxNTkgMTU5LjI0MDIsMTU5ICIgZmlsbD0ibm9uZSIgaWQ9IlJlYWxTdWJqZWN0LVByb3h5IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9IjE3MS4yNDAyLDE1OSwxNjUuMjQwMiwxNTUsMTU5LjI0MDIsMTU5LDE2NS4yNDAyLDE2MywxNzEuMjQwMiwxNTkiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMTM2LjUxNTksMTU5LDE0NS41MTU5LDE2MywxNDEuNTE1OSwxNTksMTQ1LjUxNTksMTU1LDEzNi41MTU5LDE1OSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMTQxLjUxNTkiIHgyPSIxNDkuNTE1OSIgeTE9IjE1OSIgeTI9IjE1OC45OTk5Ii8+PCEtLU1ENT1bMjNjNzMxNTM4ZjZlMGU2NzNlMWUzNDgzYTYwNzUzYjldCmxpbmsgY2xpZW50IHRvIElTdWJqZWN0LS0+PHBhdGggY29kZUxpbmU9IjE4IiBkPSJNNjkuMDg1OSwzOCBDNjkuMDg1OSwzOCA5OS40NTA3LDM4IDk5LjQ1MDcsMzggIiBmaWxsPSJub25lIiBpZD0iY2xpZW50LXRvLUlTdWJqZWN0IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjEwNC40NTA3LDM4LDk1LjQ1MDcsMzQsOTkuNDUwNywzOCw5NS40NTA3LDQyLDEwNC40NTA3LDM4IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVs5YTVlZmVmMWNjMjJjYWExMjBlYzliNjI4OWVmM2RmOF0KQHN0YXJ0dW1sDQpza2lucGFyYW0gbW9ub2Nocm9tZSB0cnVlDQpza2lucGFyYW0gY2xhc3NBdHRyaWJ1dGVJY29uU2l6ZSAwDQpza2lucGFyYW0gbGluZXR5cGUgb3J0aG8NCg0KaW50ZXJmYWNlIElTdWJqZWN0IHsNCiAgICArIHJlcXVlc3QoKTogdm9pZA0KfQ0KY2xhc3MgUHJveHkgaW1wbGVtZW50cyBJU3ViamVjdCB7DQogICAgKyByZXF1ZXN0KCk6IHZvaWQNCn0NCg0KY2xhc3MgUmVhbFN1YmplY3QgaW1wbGVtZW50cyBJU3ViamVjdCB7DQogICAgKyByZXF1ZXN0KCk6IHZvaWQNCn0NCg0KUHJveHkgby1sZWZ0LT4gUmVhbFN1YmplY3QNCg0KY2xpZW50IC1yaWdodC0+IElTdWJqZWN0DQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjAuMTYoTW9uIEF1ZyAyNCAwNDoyMDo0MyBDU1QgMjAyMCkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IHpoCkNvdW50cnk6IENOCi0tPjwvZz48L3N2Zz4='>

<h4 id="Adapter与Bridge"><a href="#Adapter与Bridge" class="headerlink" title="Adapter与Bridge"></a>Adapter与Bridge</h4><p>Adapter模式与Bridge模式都给另一个对象提供一种程度上的间接性，Adapter主要用来解决两个已有接口之间不匹配的问题。而Bridge主要用来解决抽象与实现独占演进的问题。一般Bridge模式需要一开始就设计好，而Adapter是在避免代码重复时使用。</p>
<h4 id="Composite，Decorator与Proxy"><a href="#Composite，Decorator与Proxy" class="headerlink" title="Composite，Decorator与Proxy"></a>Composite，Decorator与Proxy</h4><p>Composite与Decorator具有类似的结构图，可以认为Decorator是Composite的一个特例，但是两者的目的不一样，Decorator皆在不使用继承的方式添加职责。而Composite则用来是相关的对象能够按照统一的方式处理，重点在于表示复杂的结构。</p>
<p>Proxy不能动态的添加或者分离性质，不是为递归组合而设计的。其目的是位实体提供一个替代者。</p>
]]></content>
      <tags>
        <tag>设计模式</tag>
      </tags>
  </entry>
  <entry>
    <title>设计模式-行为型</title>
    <url>/2020/10/18/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A1%8C%E4%B8%BA%E5%9E%8B/</url>
    <content><![CDATA[<p>行为模式涉及到算法和对象间职责的分配，行为模式不仅描述了对象或类的模式，还描述了它们之间的通信模式。</p>
<h4 id="职责链模式（CHAIN-OF-RESPONSIBILITY）"><a href="#职责链模式（CHAIN-OF-RESPONSIBILITY）" class="headerlink" title="职责链模式（CHAIN OF RESPONSIBILITY）"></a>职责链模式（CHAIN OF RESPONSIBILITY）</h4><p>多个对象都有机会处理请求，从而避免请求的发送者和接受者之间的耦合关系，将这些对象连成一条链，并沿着这条链传递该请求，直到有一个对象处理它为止。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjUwcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo1NzZweDtoZWlnaHQ6MjUwcHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1NzYgMjUwIiB3aWR0aD0iNTc2cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjE0Z3I5MnZjNnFoNjEiIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PCEtLU1ENT1bMWNmMzYyMzhkNDA0NjVhOGIyN2I1YjZiYmRmNTE0MWJdCmNsYXNzIENsaWVudDEtLT48IS0tTUQ1PVthODNkODI4YmUxM2QzMzNlMWZkZGIzZDRkOWQ5NzE5MV0KY2xhc3MgSGFuZGxlci0tPjxyZWN0IGNvZGVMaW5lPSIxMSIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxNGdyOTJ2YzZxaDYxKSIgaGVpZ2h0PSI3My45MTAyIiBpZD0iSGFuZGxlciIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTI5IiB4PSIxMTQuNSIgeT0iMjQiLz48ZWxsaXBzZSBjeD0iMTUyLjQ1IiBjeT0iNDAiIGZpbGw9IiNDRENEQ0QiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMTUyLjU2MzMsMzUuMzQ4MSBMMTUxLjQwOTUsNDAuNDE5OSBMMTUzLjcyNTQsNDAuNDE5OSBaIE0xNTEuMDY5MSwzMy4xMDY5IEwxNTQuMDY1NywzMy4xMDY5IEwxNTcuNDEwOSw0NS41IEwxNTQuOTYyMiw0NS41IEwxNTQuMTk4NSw0Mi40MzcgTDE1MC45MTk3LDQyLjQzNyBMMTUwLjE3MjcsNDUuNSBMMTQ3LjcyMzksNDUuNSBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNDYiIHg9IjE3MS41NSIgeT0iNDQuNTM1MiI+SGFuZGxlcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxMTUuNSIgeDI9IjI0Mi41IiB5MT0iNTYiIHkyPSI1NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9Ijk4IiB4PSIxMjAuNSIgeT0iNzAuNjM0OCI+LWhhbmRsZXIgOiBIYW5kbGVyPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjExNyIgeD0iMTIwLjUiIHk9IjgzLjU4OTgiPitoYW5kbGVSZXF1ZXN0OiB2b2lkPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjExNS41IiB4Mj0iMjQyLjUiIHkxPSI4OS45MTAyIiB5Mj0iODkuOTEwMiIvPjwhLS1NRDU9WzQxMTg2YmI5YTRlYzk5MjQwMjYyNjQ3NmFiYzE1ZjNhXQpjbGFzcyBDb25jcmV0ZUhhbmRsZXJBLS0+PHJlY3QgY29kZUxpbmU9IjIwIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjE0Z3I5MnZjNnFoNjEpIiBoZWlnaHQ9IjczLjkxMDIiIGlkPSJDb25jcmV0ZUhhbmRsZXJBIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxMzciIHg9IjI0LjUiIHk9IjE1OCIvPjxlbGxpcHNlIGN4PSIzOS41IiBjeT0iMTc0IiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTQyLjQ3MzEsMTc5LjY0MzEgUTQxLjg5MjEsMTc5Ljk0MTkgNDEuMjUyOSwxODAuMDkxMyBRNDAuNjEzOCwxODAuMjQwNyAzOS45MDgyLDE4MC4yNDA3IFEzNy40MDE0LDE4MC4yNDA3IDM2LjA4MTUsMTc4LjU4ODkgUTM0Ljc2MTcsMTc2LjkzNyAzNC43NjE3LDE3My44MTU5IFEzNC43NjE3LDE3MC42ODY1IDM2LjA4MTUsMTY5LjAzNDcgUTM3LjQwMTQsMTY3LjM4MjggMzkuOTA4MiwxNjcuMzgyOCBRNDAuNjEzOCwxNjcuMzgyOCA0MS4yNjEyLDE2Ny41MzIyIFE0MS45MDg3LDE2Ny42ODE2IDQyLjQ3MzEsMTY3Ljk4MDUgTDQyLjQ3MzEsMTcwLjcwMzEgUTQxLjg0MjMsMTcwLjEyMjEgNDEuMjQ4OCwxNjkuODUyMyBRNDAuNjU1MywxNjkuNTgyNSA0MC4wMjQ0LDE2OS41ODI1IFEzOC42Nzk3LDE2OS41ODI1IDM3Ljk5NDksMTcwLjY0OTIgUTM3LjMxMDEsMTcxLjcxNTggMzcuMzEwMSwxNzMuODE1OSBRMzcuMzEwMSwxNzUuOTA3NyAzNy45OTQ5LDE3Ni45NzQ0IFEzOC42Nzk3LDE3OC4wNDEgNDAuMDI0NCwxNzguMDQxIFE0MC42NTUzLDE3OC4wNDEgNDEuMjQ4OCwxNzcuNzcxMiBRNDEuODQyMywxNzcuNTAxNSA0Mi40NzMxLDE3Ni45MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTA1IiB4PSI1My41IiB5PSIxNzguNTM1MiI+Q29uY3JldGVIYW5kbGVyQTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIyNS41IiB4Mj0iMTYwLjUiIHkxPSIxOTAiIHkyPSIxOTAiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIyNS41IiB4Mj0iMTYwLjUiIHkxPSIxOTgiIHkyPSIxOTgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMTYiIHg9IjMwLjUiIHk9IjIxMi42MzQ4Ij4tY2FuSGFuZGxlKCk6Ym9vbGVhbjwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI5NyIgeD0iMzAuNSIgeT0iMjI1LjU4OTgiPi1yZWFsSGFuZGxlKCk6dm9pZDwvdGV4dD48IS0tTUQ1PVs0ODRiNjA4MjRkMmNhZjI1ZjUyM2QxMGM4MmY0ODFkZV0KY2xhc3MgQ29uY3JldGVIYW5kbGVyQi0tPjxyZWN0IGNvZGVMaW5lPSIyNSIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxNGdyOTJ2YzZxaDYxKSIgaGVpZ2h0PSI3My45MTAyIiBpZD0iQ29uY3JldGVIYW5kbGVyQiIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTM2IiB4PSIxOTciIHk9IjE1OCIvPjxlbGxpcHNlIGN4PSIyMTIiIGN5PSIxNzQiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMjE0Ljk3MzEsMTc5LjY0MzEgUTIxNC4zOTIxLDE3OS45NDE5IDIxMy43NTI5LDE4MC4wOTEzIFEyMTMuMTEzOCwxODAuMjQwNyAyMTIuNDA4MiwxODAuMjQwNyBRMjA5LjkwMTQsMTgwLjI0MDcgMjA4LjU4MTUsMTc4LjU4ODkgUTIwNy4yNjE3LDE3Ni45MzcgMjA3LjI2MTcsMTczLjgxNTkgUTIwNy4yNjE3LDE3MC42ODY1IDIwOC41ODE1LDE2OS4wMzQ3IFEyMDkuOTAxNCwxNjcuMzgyOCAyMTIuNDA4MiwxNjcuMzgyOCBRMjEzLjExMzgsMTY3LjM4MjggMjEzLjc2MTIsMTY3LjUzMjIgUTIxNC40MDg3LDE2Ny42ODE2IDIxNC45NzMxLDE2Ny45ODA1IEwyMTQuOTczMSwxNzAuNzAzMSBRMjE0LjM0MjMsMTcwLjEyMjEgMjEzLjc0ODgsMTY5Ljg1MjMgUTIxMy4xNTUzLDE2OS41ODI1IDIxMi41MjQ0LDE2OS41ODI1IFEyMTEuMTc5NywxNjkuNTgyNSAyMTAuNDk0OSwxNzAuNjQ5MiBRMjA5LjgxMDEsMTcxLjcxNTggMjA5LjgxMDEsMTczLjgxNTkgUTIwOS44MTAxLDE3NS45MDc3IDIxMC40OTQ5LDE3Ni45NzQ0IFEyMTEuMTc5NywxNzguMDQxIDIxMi41MjQ0LDE3OC4wNDEgUTIxMy4xNTUzLDE3OC4wNDEgMjEzLjc0ODgsMTc3Ljc3MTIgUTIxNC4zNDIzLDE3Ny41MDE1IDIxNC45NzMxLDE3Ni45MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTA0IiB4PSIyMjYiIHk9IjE3OC41MzUyIj5Db25jcmV0ZUhhbmRsZXJCPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE5OCIgeDI9IjMzMiIgeTE9IjE5MCIgeTI9IjE5MCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE5OCIgeDI9IjMzMiIgeTE9IjE5OCIgeTI9IjE5OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjExNiIgeD0iMjAzIiB5PSIyMTIuNjM0OCI+LWNhbkhhbmRsZSgpOmJvb2xlYW48L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iOTciIHg9IjIwMyIgeT0iMjI1LjU4OTgiPi1yZWFsSGFuZGxlKCk6dm9pZDwvdGV4dD48IS0tTUQ1PVtlZDY2MjRjNjU1NmQ1ZTdiMWJkMjMwMzIxNjJkMjBiN10KY2xhc3MgQ2xpZW50LS0+PHJlY3QgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxNGdyOTJ2YzZxaDYxKSIgaGVpZ2h0PSI0OCIgaWQ9IkNsaWVudCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNjQiIHg9IjI5NyIgeT0iMzciLz48ZWxsaXBzZSBjeD0iMzEyIiBjeT0iNTMiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMzE0Ljk3MzEsNTguNjQzMSBRMzE0LjM5MjEsNTguOTQxOSAzMTMuNzUyOSw1OS4wOTEzIFEzMTMuMTEzOCw1OS4yNDA3IDMxMi40MDgyLDU5LjI0MDcgUTMwOS45MDE0LDU5LjI0MDcgMzA4LjU4MTUsNTcuNTg4OSBRMzA3LjI2MTcsNTUuOTM3IDMwNy4yNjE3LDUyLjgxNTkgUTMwNy4yNjE3LDQ5LjY4NjUgMzA4LjU4MTUsNDguMDM0NyBRMzA5LjkwMTQsNDYuMzgyOCAzMTIuNDA4Miw0Ni4zODI4IFEzMTMuMTEzOCw0Ni4zODI4IDMxMy43NjEyLDQ2LjUzMjIgUTMxNC40MDg3LDQ2LjY4MTYgMzE0Ljk3MzEsNDYuOTgwNSBMMzE0Ljk3MzEsNDkuNzAzMSBRMzE0LjM0MjMsNDkuMTIyMSAzMTMuNzQ4OCw0OC44NTIzIFEzMTMuMTU1Myw0OC41ODI1IDMxMi41MjQ0LDQ4LjU4MjUgUTMxMS4xNzk3LDQ4LjU4MjUgMzEwLjQ5NDksNDkuNjQ5MiBRMzA5LjgxMDEsNTAuNzE1OCAzMDkuODEwMSw1Mi44MTU5IFEzMDkuODEwMSw1NC45MDc3IDMxMC40OTQ5LDU1Ljk3NDQgUTMxMS4xNzk3LDU3LjA0MSAzMTIuNTI0NCw1Ny4wNDEgUTMxMy4xNTUzLDU3LjA0MSAzMTMuNzQ4OCw1Ni43NzEyIFEzMTQuMzQyMyw1Ni41MDE1IDMxNC45NzMxLDU1LjkyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIzMiIgeD0iMzI2IiB5PSI1Ny41MzUyIj5DbGllbnQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMjk4IiB4Mj0iMzYwIiB5MT0iNjkiIHkyPSI2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjI5OCIgeDI9IjM2MCIgeTE9Ijc3IiB5Mj0iNzciLz48cGF0aCBkPSJNMzY4LDE1OS41IEwzNjgsMTkxIEwzMzMuMDQ5NCwxOTUgTDM2OCwxOTkgTDM2OCwyMzAuNzQyMiBBMCwwIDAgMCAwIDM2OCwyMzAuNzQyMiBMNTY0LDIzMC43NDIyIEEwLDAgMCAwIDAgNTY0LDIzMC43NDIyIEw1NjQsMTY5LjUgTDU1NCwxNTkuNSBMMzY4LDE1OS41IEEwLDAgMCAwIDAgMzY4LDE1OS41ICIgZmlsbD0iI0VDRUNFQyIgZmlsdGVyPSJ1cmwoI2YxNGdyOTJ2YzZxaDYxKSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTU1NCwxNTkuNSBMNTU0LDE2OS41IEw1NjQsMTY5LjUgTDU1NCwxNTkuNSAiIGZpbGw9IiNFQ0VDRUMiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9Ijc5IiB4PSIzNzQiIHk9IjE3Ny4wNjg0Ij5pZiBjYW5IYW5kbGU8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNjciIHg9IjQxMCIgeT0iMTkyLjM3ODkiPnJlYWxIYW5kbGU8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMjUiIHg9IjM3OCIgeT0iMjA3LjY4OTUiPmVsc2U8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTQzIiB4PSI0MDYiIHk9IjIyMyI+aGFuZGxlci5oYW5kbGVSZXF1ZXN0PC90ZXh0PjwhLS1NRDU9WzE5ODZiNWI5ZDFiZWFmNmI2ODI3M2E1YmUyZjQ5NjQ3XQpsaW5rIEhhbmRsZXIgdG8gSGFuZGxlci0tPjxwYXRoIGNvZGVMaW5lPSIxNSIgZD0iTTE3OSwxMS43MDUxIEMxNzksMTEuNzA1MSAxNzksNiAxNzksNiBDMTc5LDYgOTYuNzUsNiA5Ni43NSw2IEM5Ni43NSw2IDk2Ljc1LDEyOCA5Ni43NSwxMjggQzk2Ljc1LDEyOCAxMzAuMTY2NywxMjggMTMwLjE2NjcsMTI4IEMxMzAuMTY2NywxMjggMTMwLjE2NjcsMTExLjAyNzQgMTMwLjE2NjcsMTExLjAyNzQgIiBmaWxsPSJub25lIiBpZD0iSGFuZGxlci1IYW5kbGVyIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjEzMC4xNjY3LDk4LjAyNzQsMTI2LjE2NjcsMTA3LjAyNzQsMTMwLjE2NjcsMTAzLjAyNzQsMTM0LjE2NjcsMTA3LjAyNzQsMTMwLjE2NjcsOTguMDI3NCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMTMwLjE2NjciIHgyPSIxMzAuMTY2OCIgeTE9IjEwMy4wMjc0IiB5Mj0iMTExLjAyNzQiLz48cG9seWdvbiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9IjE3OSwyMy43MDUxLDE4MywxNy43MDUxLDE3OSwxMS43MDUxLDE3NSwxNy43MDUxLDE3OSwyMy43MDUxIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtlMWQyZDI0MGY5MTU1YjAwM2Q2M2NmMzI3YzI1NjJlMF0KbGluayBDbGllbnQxIHRvIEhhbmRsZXItLT48IS0tTUQ1PVswY2VlZWI3ZDBlZWQ5YWEzNGE0YjhlMDA1YjMxZDY4Zl0KcmV2ZXJzZSBsaW5rIEhhbmRsZXIgdG8gQ29uY3JldGVIYW5kbGVyQS0tPjxwYXRoIGQ9Ik0xNDUuODMzMywxMTguMzI2NSBDMTQ1LjgzMzMsMTE4LjMyNjUgMTQ1LjgzMzMsMTU3Ljg3MzcgMTQ1LjgzMzMsMTU3Ljg3MzcgIiBmaWxsPSJub25lIiBpZD0iSGFuZGxlci1iYWNrdG8tQ29uY3JldGVIYW5kbGVyQSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSIxMzguODMzNCwxMTguMzI2NSwxNDUuODMzMyw5OC4zMjY1LDE1Mi44MzM0LDExOC4zMjY0LDEzOC44MzM0LDExOC4zMjY1IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVswNzRjZDVlYzI4OWMxN2ZkMWMyNjAyY2M1OTA2NTBlMF0KcmV2ZXJzZSBsaW5rIEhhbmRsZXIgdG8gQ29uY3JldGVIYW5kbGVyQi0tPjxwYXRoIGQ9Ik0yMjAuMjUsMTE4LjMyNjUgQzIyMC4yNSwxMTguMzI2NSAyMjAuMjUsMTU3Ljg3MzcgMjIwLjI1LDE1Ny44NzM3ICIgZmlsbD0ibm9uZSIgaWQ9IkhhbmRsZXItYmFja3RvLUNvbmNyZXRlSGFuZGxlckIiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMjEzLjI1MDEsMTE4LjMyNjUsMjIwLjI1LDk4LjMyNjUsMjI3LjI1MDEsMTE4LjMyNjQsMjEzLjI1MDEsMTE4LjMyNjUiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9W2ViZjYyNzdhMWM0OWU5ZTljNWI2YmNlNGI4Y2NjZmFjXQpyZXZlcnNlIGxpbmsgQ29uY3JldGVIYW5kbGVyQSB0byBDb25jcmV0ZUhhbmRsZXJCLS0+PCEtLU1ENT1bNmJhNjg5N2Y1N2ZhNzBmZTQ5YzA2Yjk0YjY1N2U5NTFdCmxpbmsgQ2xpZW50IHRvIEhhbmRsZXItLT48cGF0aCBjb2RlTGluZT0iMzciIGQ9Ik0yOTYuODIxMiw2MSBDMjk2LjgyMTIsNjEgMjQ4LjUyMjMsNjEgMjQ4LjUyMjMsNjEgIiBmaWxsPSJub25lIiBpZD0iQ2xpZW50LXRvLUhhbmRsZXIiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMjQzLjUyMjMsNjEsMjUyLjUyMjMsNjUsMjQ4LjUyMjMsNjEsMjUyLjUyMjMsNTcsMjQzLjUyMjMsNjEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzU0MTFlNGYxZWRhN2NjZWNhYzExZjRiMGFhYTc1NmZlXQpAc3RhcnR1bWwNCnNraW5wYXJhbSBtb25vY2hyb21lIHRydWUNCnNraW5wYXJhbSBjbGFzc0F0dHJpYnV0ZUljb25TaXplIDANCnNraW5wYXJhbSBsaW5ldHlwZSBvcnRobw0KDQoNCg0KdG9nZXRoZXIgew0KDQpjbGFzcyBDbGllbnQxDQoNCmFic3RyYWN0IGNsYXNzIEhhbmRsZXIgew0KICAgIC0gaGFuZGxlciA6IEhhbmRsZXINCiAgICArIGhhbmRsZVJlcXVlc3Q6IHZvaWQNCn0NCkhhbmRsZXIgby4uPkhhbmRsZXINCn0NCg0KQ2xpZW50MSAtcmlnaHQtPiBIYW5kbGVyDQoNCmNsYXNzIENvbmNyZXRlSGFuZGxlckEgZXh0ZW5kcyBIYW5kbGVyew0KICAgIC0gY2FuSGFuZGxlKCk6Ym9vbGVhbg0KICAgIC0gcmVhbEhhbmRsZSgpOnZvaWQgDQp9DQoNCmNsYXNzIENvbmNyZXRlSGFuZGxlckIgZXh0ZW5kcyBIYW5kbGVyew0KICAgIC0gY2FuSGFuZGxlKCk6Ym9vbGVhbg0KICAgIC0gcmVhbEhhbmRsZSgpOnZvaWQgDQp9DQoNCg0KDQpDb25jcmV0ZUhhbmRsZXJCIC1sZWZ0W2hpZGRlbl0tPiBDb25jcmV0ZUhhbmRsZXJBDQoNCg0KaGlkZSBDbGllbnQxDQoNCkNsaWVudCAtcmlnaHQtPiBIYW5kbGVyDQoNCm5vdGUgImlmIGNhbkhhbmRsZSAgXG5cdCByZWFsSGFuZGxlIFxuIGVsc2UgXG5cdGhhbmRsZXIuaGFuZGxlUmVxdWVzdCIgYXMgTjENCg0KQ29uY3JldGVIYW5kbGVyQi5OMQ0KDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjAuMTYoTW9uIEF1ZyAyNCAwNDoyMDo0MyBDU1QgMjAyMCkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IHpoCkNvdW50cnk6IENOCi0tPjwvZz48L3N2Zz4='>

<h4 id="命令模式（COMMAND）"><a href="#命令模式（COMMAND）" class="headerlink" title="命令模式（COMMAND）"></a>命令模式（COMMAND）</h4><p>将一个请求封装为对象，从而使你可用不同的请求对客户进行参数化，对请求进行排队或者记录日志，以及支持可撤销的操作。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjA3cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDozOTBweDtoZWlnaHQ6MjA3cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzOTAgMjA3IiB3aWR0aD0iMzkwcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjVjc20zZ2FzNWhjYSIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVtkMDFlMzlhZGI4Y2MzMjQwZDQxOGRlMWFlZGI0NWU3NF0KY2xhc3MgSW52b2tlci0tPjxyZWN0IGNvZGVMaW5lPSI2IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjVjc20zZ2FzNWhjYSkiIGhlaWdodD0iNDgiIGlkPSJJbnZva2VyIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI3NCIgeD0iMTQyIiB5PSIxMy41Ii8+PGVsbGlwc2UgY3g9IjE1NyIgY3k9IjI5LjUiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMTU5Ljk3MzEsMzUuMTQzMSBRMTU5LjM5MjEsMzUuNDQxOSAxNTguNzUyOSwzNS41OTEzIFExNTguMTEzOCwzNS43NDA3IDE1Ny40MDgyLDM1Ljc0MDcgUTE1NC45MDE0LDM1Ljc0MDcgMTUzLjU4MTUsMzQuMDg4OSBRMTUyLjI2MTcsMzIuNDM3IDE1Mi4yNjE3LDI5LjMxNTkgUTE1Mi4yNjE3LDI2LjE4NjUgMTUzLjU4MTUsMjQuNTM0NyBRMTU0LjkwMTQsMjIuODgyOCAxNTcuNDA4MiwyMi44ODI4IFExNTguMTEzOCwyMi44ODI4IDE1OC43NjEyLDIzLjAzMjIgUTE1OS40MDg3LDIzLjE4MTYgMTU5Ljk3MzEsMjMuNDgwNSBMMTU5Ljk3MzEsMjYuMjAzMSBRMTU5LjM0MjMsMjUuNjIyMSAxNTguNzQ4OCwyNS4zNTIzIFExNTguMTU1MywyNS4wODI1IDE1Ny41MjQ0LDI1LjA4MjUgUTE1Ni4xNzk3LDI1LjA4MjUgMTU1LjQ5NDksMjYuMTQ5MiBRMTU0LjgxMDEsMjcuMjE1OCAxNTQuODEwMSwyOS4zMTU5IFExNTQuODEwMSwzMS40MDc3IDE1NS40OTQ5LDMyLjQ3NDQgUTE1Ni4xNzk3LDMzLjU0MSAxNTcuNTI0NCwzMy41NDEgUTE1OC4xNTUzLDMzLjU0MSAxNTguNzQ4OCwzMy4yNzEyIFExNTkuMzQyMywzMy4wMDE1IDE1OS45NzMxLDMyLjQyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI0MiIgeD0iMTcxIiB5PSIzNC4wMzUyIj5JbnZva2VyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE0MyIgeDI9IjIxNSIgeTE9IjQ1LjUiIHkyPSI0NS41Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTQzIiB4Mj0iMjE1IiB5MT0iNTMuNSIgeTI9IjUzLjUiLz48IS0tTUQ1PVsxMTAwOGQ1NjhiZTUyMTA5ZTc3ZjI5Nzc3MDlkZDg1M10KY2xhc3MgSUNvbW1hbmQtLT48cmVjdCBjb2RlTGluZT0iOCIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2Y1Y3NtM2dhczVoY2EpIiBoZWlnaHQ9IjYwLjk1NTEiIGlkPSJJQ29tbWFuZCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iOTciIHg9IjI1MS41IiB5PSI3Ii8+PGVsbGlwc2UgY3g9IjI2Ny44NSIgY3k9IjIzIiBmaWxsPSIjQjFCMUIxIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTI2My43Nzc3LDE4Ljc2NTEgTDI2My43Nzc3LDE2LjYwNjkgTDI3MS4xNTcxLDE2LjYwNjkgTDI3MS4xNTcxLDE4Ljc2NTEgTDI2OC42OTE4LDE4Ljc2NTEgTDI2OC42OTE4LDI2Ljg0MTggTDI3MS4xNTcxLDI2Ljg0MTggTDI3MS4xNTcxLDI5IEwyNjMuNzc3NywyOSBMMjYzLjc3NzcsMjYuODQxOCBMMjY2LjI0MzEsMjYuODQxOCBMMjY2LjI0MzEsMTguNzY1MSBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNjIiIHg9IjI4Mi4xNSIgeT0iMjcuNTM1MiI+SUNvbW1hbmQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMjUyLjUiIHgyPSIzNDcuNSIgeTE9IjM5IiB5Mj0iMzkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIyNTIuNSIgeDI9IjM0Ny41IiB5MT0iNDciIHkyPSI0NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9Ijg1IiB4PSIyNTcuNSIgeT0iNjEuNjM0OCI+K2V4ZWN1dGUoKTp2b2lkPC90ZXh0PjwhLS1NRDU9W2VkNjYyNGM2NTU2ZDVlN2IxYmQyMzAzMjE2MmQyMGI3XQpjbGFzcyBDbGllbnQtLT48cmVjdCBjb2RlTGluZT0iMTciIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmNWNzbTNnYXM1aGNhKSIgaGVpZ2h0PSI0OCIgaWQ9IkNsaWVudCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNjQiIHg9IjciIHk9IjEzNC41Ii8+PGVsbGlwc2UgY3g9IjIyIiBjeT0iMTUwLjUiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMjQuOTczMSwxNTYuMTQzMSBRMjQuMzkyMSwxNTYuNDQxOSAyMy43NTI5LDE1Ni41OTEzIFEyMy4xMTM4LDE1Ni43NDA3IDIyLjQwODIsMTU2Ljc0MDcgUTE5LjkwMTQsMTU2Ljc0MDcgMTguNTgxNSwxNTUuMDg4OSBRMTcuMjYxNywxNTMuNDM3IDE3LjI2MTcsMTUwLjMxNTkgUTE3LjI2MTcsMTQ3LjE4NjUgMTguNTgxNSwxNDUuNTM0NyBRMTkuOTAxNCwxNDMuODgyOCAyMi40MDgyLDE0My44ODI4IFEyMy4xMTM4LDE0My44ODI4IDIzLjc2MTIsMTQ0LjAzMjIgUTI0LjQwODcsMTQ0LjE4MTYgMjQuOTczMSwxNDQuNDgwNSBMMjQuOTczMSwxNDcuMjAzMSBRMjQuMzQyMywxNDYuNjIyMSAyMy43NDg4LDE0Ni4zNTIzIFEyMy4xNTUzLDE0Ni4wODI1IDIyLjUyNDQsMTQ2LjA4MjUgUTIxLjE3OTcsMTQ2LjA4MjUgMjAuNDk0OSwxNDcuMTQ5MiBRMTkuODEwMSwxNDguMjE1OCAxOS44MTAxLDE1MC4zMTU5IFExOS44MTAxLDE1Mi40MDc3IDIwLjQ5NDksMTUzLjQ3NDQgUTIxLjE3OTcsMTU0LjU0MSAyMi41MjQ0LDE1NC41NDEgUTIzLjE1NTMsMTU0LjU0MSAyMy43NDg4LDE1NC4yNzEyIFEyNC4zNDIzLDE1NC4wMDE1IDI0Ljk3MzEsMTUzLjQyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIzMiIgeD0iMzYiIHk9IjE1NS4wMzUyIj5DbGllbnQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iOCIgeDI9IjcwIiB5MT0iMTY2LjUiIHkyPSIxNjYuNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjgiIHgyPSI3MCIgeTE9IjE3NC41IiB5Mj0iMTc0LjUiLz48IS0tTUQ1PVtiY2VlOTczZTI2MjNiZWYwMTI3MjUyODE1YTM3YTZlOF0KY2xhc3MgUmVjZWl2ZXItLT48cmVjdCBjb2RlTGluZT0iMTkiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmNWNzbTNnYXM1aGNhKSIgaGVpZ2h0PSI2MC45NTUxIiBpZD0iUmVjZWl2ZXIiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9Ijg4IiB4PSIxMDYiIHk9IjEyOCIvPjxlbGxpcHNlIGN4PSIxMjQuMTUiIGN5PSIxNDQiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMTI3LjEyMzEsMTQ5LjY0MzEgUTEyNi41NDIxLDE0OS45NDE5IDEyNS45MDI5LDE1MC4wOTEzIFExMjUuMjYzOCwxNTAuMjQwNyAxMjQuNTU4MiwxNTAuMjQwNyBRMTIyLjA1MTQsMTUwLjI0MDcgMTIwLjczMTUsMTQ4LjU4ODkgUTExOS40MTE3LDE0Ni45MzcgMTE5LjQxMTcsMTQzLjgxNTkgUTExOS40MTE3LDE0MC42ODY1IDEyMC43MzE1LDEzOS4wMzQ3IFExMjIuMDUxNCwxMzcuMzgyOCAxMjQuNTU4MiwxMzcuMzgyOCBRMTI1LjI2MzgsMTM3LjM4MjggMTI1LjkxMTIsMTM3LjUzMjIgUTEyNi41NTg3LDEzNy42ODE2IDEyNy4xMjMxLDEzNy45ODA1IEwxMjcuMTIzMSwxNDAuNzAzMSBRMTI2LjQ5MjMsMTQwLjEyMjEgMTI1Ljg5ODgsMTM5Ljg1MjMgUTEyNS4zMDUzLDEzOS41ODI1IDEyNC42NzQ0LDEzOS41ODI1IFExMjMuMzI5NywxMzkuNTgyNSAxMjIuNjQ0OSwxNDAuNjQ5MiBRMTIxLjk2MDEsMTQxLjcxNTggMTIxLjk2MDEsMTQzLjgxNTkgUTEyMS45NjAxLDE0NS45MDc3IDEyMi42NDQ5LDE0Ni45NzQ0IFExMjMuMzI5NywxNDguMDQxIDEyNC42NzQ0LDE0OC4wNDEgUTEyNS4zMDUzLDE0OC4wNDEgMTI1Ljg5ODgsMTQ3Ljc3MTIgUTEyNi40OTIzLDE0Ny41MDE1IDEyNy4xMjMxLDE0Ni45MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNDkiIHg9IjEzOC44NSIgeT0iMTQ4LjUzNTIiPlJlY2VpdmVyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjEwNyIgeDI9IjE5MyIgeTE9IjE2MCIgeTI9IjE2MCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjEwNyIgeDI9IjE5MyIgeTE9IjE2OCIgeTI9IjE2OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9Ijc2IiB4PSIxMTIiIHk9IjE4Mi42MzQ4Ij4rYWN0aW9uKCk6dm9pZDwvdGV4dD48IS0tTUQ1PVs2ZmIxMzExZGEwNzQ1YzE4NGM2NDhhZWRiMzAxNDM5ZV0KY2xhc3MgQ29uY3JldGVDb21tYW5kLS0+PHJlY3QgY29kZUxpbmU9IjIzIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjVjc20zZ2FzNWhjYSkiIGhlaWdodD0iNDgiIGlkPSJDb25jcmV0ZUNvbW1hbmQiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjE0MiIgeD0iMjI5IiB5PSIxMzQuNSIvPjxlbGxpcHNlIGN4PSIyNDQiIGN5PSIxNTAuNSIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0yNDYuOTczMSwxNTYuMTQzMSBRMjQ2LjM5MjEsMTU2LjQ0MTkgMjQ1Ljc1MjksMTU2LjU5MTMgUTI0NS4xMTM4LDE1Ni43NDA3IDI0NC40MDgyLDE1Ni43NDA3IFEyNDEuOTAxNCwxNTYuNzQwNyAyNDAuNTgxNSwxNTUuMDg4OSBRMjM5LjI2MTcsMTUzLjQzNyAyMzkuMjYxNywxNTAuMzE1OSBRMjM5LjI2MTcsMTQ3LjE4NjUgMjQwLjU4MTUsMTQ1LjUzNDcgUTI0MS45MDE0LDE0My44ODI4IDI0NC40MDgyLDE0My44ODI4IFEyNDUuMTEzOCwxNDMuODgyOCAyNDUuNzYxMiwxNDQuMDMyMiBRMjQ2LjQwODcsMTQ0LjE4MTYgMjQ2Ljk3MzEsMTQ0LjQ4MDUgTDI0Ni45NzMxLDE0Ny4yMDMxIFEyNDYuMzQyMywxNDYuNjIyMSAyNDUuNzQ4OCwxNDYuMzUyMyBRMjQ1LjE1NTMsMTQ2LjA4MjUgMjQ0LjUyNDQsMTQ2LjA4MjUgUTI0My4xNzk3LDE0Ni4wODI1IDI0Mi40OTQ5LDE0Ny4xNDkyIFEyNDEuODEwMSwxNDguMjE1OCAyNDEuODEwMSwxNTAuMzE1OSBRMjQxLjgxMDEsMTUyLjQwNzcgMjQyLjQ5NDksMTUzLjQ3NDQgUTI0My4xNzk3LDE1NC41NDEgMjQ0LjUyNDQsMTU0LjU0MSBRMjQ1LjE1NTMsMTU0LjU0MSAyNDUuNzQ4OCwxNTQuMjcxMiBRMjQ2LjM0MjMsMTU0LjAwMTUgMjQ2Ljk3MzEsMTUzLjQyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMTAiIHg9IjI1OCIgeT0iMTU1LjAzNTIiPkNvbmNyZXRlQ29tbWFuZDwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIyMzAiIHgyPSIzNzAiIHkxPSIxNjYuNSIgeTI9IjE2Ni41Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMjMwIiB4Mj0iMzcwIiB5MT0iMTc0LjUiIHkyPSIxNzQuNSIvPjwhLS1NRDU9WzE5ZmU2YmMxZTAwZTI2MTgwN2YyYmZjOTc0ZmFiYjUyXQpsaW5rIEludm9rZXIgdG8gSUNvbW1hbmQtLT48cGF0aCBjb2RlTGluZT0iMTMiIGQ9Ik0yMjguMjkxMywzOCBDMjI4LjI5MTMsMzggMjM4LjQ2MDEsMzggMjM4LjQ2MDEsMzggIiBmaWxsPSJub25lIiBpZD0iSW52b2tlci1JQ29tbWFuZCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIyNTEuNDYwMSwzOCwyNDIuNDYwMSwzNCwyNDYuNDYwMSwzOCwyNDIuNDYwMSw0MiwyNTEuNDYwMSwzOCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMjQ2LjQ2MDEiIHgyPSIyMzguNDYwMSIgeTE9IjM4IiB5Mj0iMzcuOTk5OSIvPjxwb2x5Z29uIGZpbGw9IiNGRkZGRkYiIHBvaW50cz0iMjE2LjI5MTMsMzgsMjIyLjI5MTMsNDIsMjI4LjI5MTMsMzgsMjIyLjI5MTMsMzQsMjE2LjI5MTMsMzgiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9W2NjNGQwZDgyZjc4YjRkNmM1NmVkYjQ0MmYwZWMzOGZiXQpyZXZlcnNlIGxpbmsgSUNvbW1hbmQgdG8gQ29uY3JldGVDb21tYW5kLS0+PHBhdGggZD0iTTMwMCw4OC4wMzM0IEMzMDAsODguMDMzNCAzMDAsMTM0LjQ1ODcgMzAwLDEzNC40NTg3ICIgZmlsbD0ibm9uZSIgaWQ9IklDb21tYW5kLWJhY2t0by1Db25jcmV0ZUNvbW1hbmQiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMjkzLjAwMDEsODguMDMzNCwzMDAsNjguMDMzNCwzMDcuMDAwMSw4OC4wMzM0LDI5My4wMDAxLDg4LjAzMzQiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9W2Y2NjQ4YzFlYmE1MjY2NGRmOTdjNjdhMzk0OWNmYjNkXQpsaW5rIENsaWVudCB0byBSZWNlaXZlci0tPjxwYXRoIGNvZGVMaW5lPSIyOSIgZD0iTTcxLjEwNTgsMTU5IEM3MS4xMDU4LDE1OSAxMDAuOTkyOSwxNTkgMTAwLjk5MjksMTU5ICIgZmlsbD0ibm9uZSIgaWQ9IkNsaWVudC10by1SZWNlaXZlciIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIxMDUuOTkyOSwxNTksOTYuOTkyOSwxNTUsMTAwLjk5MjksMTU5LDk2Ljk5MjksMTYzLDEwNS45OTI5LDE1OSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bZTAyZjBjMzhkOGMzMmRkOTkwMGRhOTU2YTdiOTQ3MmFdCmxpbmsgQ2xpZW50IHRvIENvbmNyZXRlQ29tbWFuZC0tPjxwYXRoIGNvZGVMaW5lPSIzMCIgZD0iTTM5LDEzNC4yNDA5IEMzOSwxMTcuNDA5NCAzOSw5OCAzOSw5OCBDMzksOTggMjQwLjI1LDk4IDI0MC4yNSw5OCBDMjQwLjI1LDk4IDI0MC4yNSwxMjkuMjQwOSAyNDAuMjUsMTI5LjI0MDkgIiBmaWxsPSJub25lIiBpZD0iQ2xpZW50LXRvLUNvbmNyZXRlQ29tbWFuZCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIyNDAuMjUsMTM0LjI0MDksMjQ0LjI1LDEyNS4yNDA5LDI0MC4yNSwxMjkuMjQwOSwyMzYuMjUsMTI1LjI0MDksMjQwLjI1LDEzNC4yNDA5IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtmN2U4NzVkNjk4M2YyYzUwOTEzMGI5YzMzMjg1YmU5ZV0KcmV2ZXJzZSBsaW5rIFJlY2VpdmVyIHRvIENvbmNyZXRlQ29tbWFuZC0tPjxwYXRoIGNvZGVMaW5lPSIzMiIgZD0iTTE5OS4xOTM2LDE1OSBDMTk5LjE5MzYsMTU5IDIyOC44MywxNTkgMjI4LjgzLDE1OSAiIGZpbGw9Im5vbmUiIGlkPSJSZWNlaXZlci1iYWNrdG8tQ29uY3JldGVDb21tYW5kIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjE5NC4xOTM2LDE1OSwyMDMuMTkzNiwxNjMsMTk5LjE5MzYsMTU5LDIwMy4xOTM2LDE1NSwxOTQuMTkzNiwxNTkiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzVmYTg4N2Y0ZDU3OTdkZGJmMWU3NjQxNGQwYzliZGRiXQpAc3RhcnR1bWwNCnNraW5wYXJhbSBtb25vY2hyb21lIHRydWUNCnNraW5wYXJhbSBjbGFzc0F0dHJpYnV0ZUljb25TaXplIDANCnNraW5wYXJhbSBsaW5ldHlwZSBvcnRobw0KDQp0b2dldGhlciB7DQogICAgY2xhc3MgSW52b2tlciB7fQ0KDQogICAgaW50ZXJmYWNlIElDb21tYW5kIHsNCiAgICAgICAgKyBleGVjdXRlKCk6dm9pZA0KICAgIH0NCn0NCg0KSW52b2tlciBvLXJpZ2h0LT4gSUNvbW1hbmQNCg0KdG9nZXRoZXIgew0KDQogICAgY2xhc3MgQ2xpZW50IHt9DQoNCiAgICBjbGFzcyBSZWNlaXZlciB7DQogICAgICAgICsgYWN0aW9uKCk6dm9pZA0KICAgIH0NCg0KICAgIGNsYXNzIENvbmNyZXRlQ29tbWFuZCBpbXBsZW1lbnRzIElDb21tYW5kIHsNCg0KICAgIH0NCg0KfQ0KDQpDbGllbnQgLXJpZ2h0LT4gUmVjZWl2ZXINCkNsaWVudCAucmlnaHQuPiBDb25jcmV0ZUNvbW1hbmQNCg0KQ29uY3JldGVDb21tYW5kIC1sZWZ0LT4gUmVjZWl2ZXINCg0KQGVuZHVtbA0KClBsYW50VU1MIHZlcnNpb24gMS4yMDIwLjE2KE1vbiBBdWcgMjQgMDQ6MjA6NDMgQ1NUIDIwMjApCihHUEwgc291cmNlIGRpc3RyaWJ1dGlvbikKSmF2YSBSdW50aW1lOiBKYXZhKFRNKSBTRSBSdW50aW1lIEVudmlyb25tZW50CkpWTTogSmF2YSBIb3RTcG90KFRNKSA2NC1CaXQgU2VydmVyIFZNCkRlZmF1bHQgRW5jb2Rpbmc6IFVURi04Ckxhbmd1YWdlOiB6aApDb3VudHJ5OiBDTgotLT48L2c+PC9zdmc+'>
<p>交互时序图如下：</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMzQxcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo0MzRweDtoZWlnaHQ6MzQxcHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA0MzQgMzQxIiB3aWR0aD0iNDM0cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZnZtN29ubDg2cXk2eSIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNS4wLDUuMDsiIHgxPSIzNyIgeDI9IjM3IiB5MT0iMzguNDg4MyIgeTI9IjI5Mi45NzI3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDUuMCw1LjA7IiB4MT0iMTQxLjUiIHgyPSIxNDEuNSIgeTE9IjM4LjQ4ODMiIHkyPSIyOTIuOTcyNyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA1LjAsNS4wOyIgeDE9IjI2NC41IiB4Mj0iMjY0LjUiIHkxPSIzOC40ODgzIiB5Mj0iMjkyLjk3MjciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNS4wLDUuMDsiIHgxPSIzODQuNSIgeDI9IjM4NC41IiB5MT0iMzguNDg4MyIgeTI9IjI5Mi45NzI3Ii8+PHJlY3QgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2Z2bTdvbmw4NnF5NnkpIiBoZWlnaHQ9IjMwLjQ4ODMiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjU0IiB4PSI4IiB5PSIzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNDAiIHg9IjE1IiB5PSIyMy41MzUyIj5DbGllbnQ8L3RleHQ+PHJlY3QgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2Z2bTdvbmw4NnF5NnkpIiBoZWlnaHQ9IjMwLjQ4ODMiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjU0IiB4PSI4IiB5PSIyOTEuOTcyNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjQwIiB4PSIxNSIgeT0iMzEyLjUwNzgiPkNsaWVudDwvdGV4dD48cmVjdCBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZnZtN29ubDg2cXk2eSkiIGhlaWdodD0iMzAuNDg4MyIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNzEiIHg9IjEwNC41IiB5PSIzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNTciIHg9IjExMS41IiB5PSIyMy41MzUyIj5SZWNlaXZlcjwvdGV4dD48cmVjdCBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZnZtN29ubDg2cXk2eSkiIGhlaWdodD0iMzAuNDg4MyIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNzEiIHg9IjEwNC41IiB5PSIyOTEuOTcyNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjU3IiB4PSIxMTEuNSIgeT0iMzEyLjUwNzgiPlJlY2VpdmVyPC90ZXh0PjxyZWN0IGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmdm03b25sODZxeTZ5KSIgaGVpZ2h0PSIzMC40ODgzIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxNDciIHg9IjE4OS41IiB5PSIzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTMzIiB4PSIxOTYuNSIgeT0iMjMuNTM1MiI+Q29uY3JldGVDb21tYW5kPC90ZXh0PjxyZWN0IGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmdm03b25sODZxeTZ5KSIgaGVpZ2h0PSIzMC40ODgzIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxNDciIHg9IjE4OS41IiB5PSIyOTEuOTcyNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEzMyIgeD0iMTk2LjUiIHk9IjMxMi41MDc4Ij5Db25jcmV0ZUNvbW1hbmQ8L3RleHQ+PHJlY3QgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2Z2bTdvbmw4NnF5NnkpIiBoZWlnaHQ9IjMwLjQ4ODMiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjY1IiB4PSIzNTAuNSIgeT0iMyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjUxIiB4PSIzNTcuNSIgeT0iMjMuNTM1MiI+SW52b2tlcjwvdGV4dD48cmVjdCBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZnZtN29ubDg2cXk2eSkiIGhlaWdodD0iMzAuNDg4MyIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNjUiIHg9IjM1MC41IiB5PSIyOTEuOTcyNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjUxIiB4PSIzNTcuNSIgeT0iMzEyLjUwNzgiPkludm9rZXI8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIxMzAsNjUuNzk4OCwxNDAsNjkuNzk4OCwxMzAsNzMuNzk4OCwxMzQsNjkuNzk4OCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMzciIHgyPSIxMzYiIHkxPSI2OS43OTg4IiB5Mj0iNjkuNzk4OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjgxIiB4PSI0NCIgeT0iNjUuMDU2NiI+bmV3IFJlY2VpdmVyPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iNDgsOTUuMTA5NCwzOCw5OS4xMDk0LDQ4LDEwMy4xMDk0LDQ0LDk5LjEwOTQiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiAyLjAsMi4wOyIgeDE9IjQyIiB4Mj0iMTQxIiB5MT0iOTkuMTA5NCIgeTI9Ijk5LjEwOTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI0OSIgeD0iNTQiIHk9Ijk0LjM2NzIiPnJlY2VpdmVyPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMjUzLDEyNC40MTk5LDI2MywxMjguNDE5OSwyNTMsMTMyLjQxOTksMjU3LDEyOC40MTk5IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiIHgxPSIzNyIgeDI9IjI1OSIgeTE9IjEyOC40MTk5IiB5Mj0iMTI4LjQxOTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI5MyIgeD0iNDQiIHk9IjEyMy42Nzc3Ij5uZXcgQ29tbWFuZDwvdGV4dD48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjQ4LDE1My43MzA1LDM4LDE1Ny43MzA1LDQ4LDE2MS43MzA1LDQ0LDE1Ny43MzA1IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogMi4wLDIuMDsiIHgxPSI0MiIgeDI9IjI2NCIgeTE9IjE1Ny43MzA1IiB5Mj0iMTU3LjczMDUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI2MiIgeD0iNTQiIHk9IjE1Mi45ODgzIj5jb21tYW5kPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMjUzLDE4My4wNDEsMjYzLDE4Ny4wNDEsMjUzLDE5MS4wNDEsMjU3LDE4Ny4wNDEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIgeDE9IjM3IiB4Mj0iMjU5IiB5MT0iMTg3LjA0MSIgeTI9IjE4Ny4wNDEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMjgiIHg9IjQ0IiB5PSIxODIuMjk4OCI+c2V0UmVjZWl2ZXIocmVjZWl2ZXIpPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMzczLDIxMi4zNTE2LDM4MywyMTYuMzUxNiwzNzMsMjIwLjM1MTYsMzc3LDIxNi4zNTE2IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiIHgxPSIzNyIgeDI9IjM3OSIgeTE9IjIxNi4zNTE2IiB5Mj0iMjE2LjM1MTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxNTMiIHg9IjQ0IiB5PSIyMTEuNjA5NCI+c2V0Q29tbWFuZChjb21tYW5kKTwvdGV4dD48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjI3NiwyNDEuNjYyMSwyNjYsMjQ1LjY2MjEsMjc2LDI0OS42NjIxLDI3MiwyNDUuNjYyMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMjcwIiB4Mj0iMzg0IiB5MT0iMjQ1LjY2MjEiIHkyPSIyNDUuNjYyMSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjU3IiB4PSIyODIiIHk9IjI0MC45MTk5Ij5leGVjdXRlKCk8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIxNTMsMjcwLjk3MjcsMTQzLDI3NC45NzI3LDE1MywyNzguOTcyNywxNDksMjc0Ljk3MjciIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIgeDE9IjE0NyIgeDI9IjI2NCIgeTE9IjI3NC45NzI3IiB5Mj0iMjc0Ljk3MjciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI0NyIgeD0iMTU5IiB5PSIyNzAuMjMwNSI+YWN0aW9uKCk8L3RleHQ+PCEtLU1ENT1bNDNjNzIyNDRjNGM3NGEyODVkOWI3MWU3YmE1MTI2OTddCkBzdGFydHVtbA0Kc2tpbnBhcmFtIG1vbm9jaHJvbWUgdHJ1ZQ0Kc2tpbnBhcmFtIGNsYXNzQXR0cmlidXRlSWNvblNpemUgMA0Kc2tpbnBhcmFtIGxpbmV0eXBlIG9ydGhvDQoNCkNsaWVudCAtPiBSZWNlaXZlciA6bmV3IFJlY2VpdmVyDQpyZXR1cm4gcmVjZWl2ZXINCg0KQ2xpZW50IC0+IENvbmNyZXRlQ29tbWFuZCA6bmV3IENvbW1hbmQNCnJldHVybiBjb21tYW5kDQoNCkNsaWVudCAtPiBDb25jcmV0ZUNvbW1hbmQgOnNldFJlY2VpdmVyKHJlY2VpdmVyKQ0KDQpDbGllbnQgLT4gSW52b2tlciA6IHNldENvbW1hbmQoY29tbWFuZCkNCg0KSW52b2tlciAtPiBDb25jcmV0ZUNvbW1hbmQ6IGV4ZWN1dGUoKQ0KDQpDb25jcmV0ZUNvbW1hbmQgLT4gUmVjZWl2ZXI6YWN0aW9uKCkNCg0KQGVuZHVtbA0KClBsYW50VU1MIHZlcnNpb24gMS4yMDIwLjE2KE1vbiBBdWcgMjQgMDQ6MjA6NDMgQ1NUIDIwMjApCihHUEwgc291cmNlIGRpc3RyaWJ1dGlvbikKSmF2YSBSdW50aW1lOiBKYXZhKFRNKSBTRSBSdW50aW1lIEVudmlyb25tZW50CkpWTTogSmF2YSBIb3RTcG90KFRNKSA2NC1CaXQgU2VydmVyIFZNCkRlZmF1bHQgRW5jb2Rpbmc6IFVURi04Ckxhbmd1YWdlOiB6aApDb3VudHJ5OiBDTgotLT48L2c+PC9zdmc+'>

<h4 id="解释器模式（INTERPRETER）"><a href="#解释器模式（INTERPRETER）" class="headerlink" title="解释器模式（INTERPRETER）"></a>解释器模式（INTERPRETER）</h4><p>给定一个语言，定义它的文法的一种表示，并定义一个解释器，这个解释器使用该表示来解释语言中的句子。</p>
<blockquote>
<p>可以通过解释器模式创建一个对四则运算字符串进行求值，或者正则表达式的匹配。</p>
</blockquote>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMTk1cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo0ODNweDtoZWlnaHQ6MTk1cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA0ODMgMTk1IiB3aWR0aD0iNDgzcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZmdod2Q3Y2lwMXVtciIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVtlZDY2MjRjNjU1NmQ1ZTdiMWJkMjMwMzIxNjJkMjBiN10KY2xhc3MgQ2xpZW50LS0+PHJlY3QgY29kZUxpbmU9IjExIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZmdod2Q3Y2lwMXVtcikiIGhlaWdodD0iNDgiIGlkPSJDbGllbnQiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjY0IiB4PSIxMTUiIHk9IjEzLjUiLz48ZWxsaXBzZSBjeD0iMTMwIiBjeT0iMjkuNSIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0xMzIuOTczMSwzNS4xNDMxIFExMzIuMzkyMSwzNS40NDE5IDEzMS43NTI5LDM1LjU5MTMgUTEzMS4xMTM4LDM1Ljc0MDcgMTMwLjQwODIsMzUuNzQwNyBRMTI3LjkwMTQsMzUuNzQwNyAxMjYuNTgxNSwzNC4wODg5IFExMjUuMjYxNywzMi40MzcgMTI1LjI2MTcsMjkuMzE1OSBRMTI1LjI2MTcsMjYuMTg2NSAxMjYuNTgxNSwyNC41MzQ3IFExMjcuOTAxNCwyMi44ODI4IDEzMC40MDgyLDIyLjg4MjggUTEzMS4xMTM4LDIyLjg4MjggMTMxLjc2MTIsMjMuMDMyMiBRMTMyLjQwODcsMjMuMTgxNiAxMzIuOTczMSwyMy40ODA1IEwxMzIuOTczMSwyNi4yMDMxIFExMzIuMzQyMywyNS42MjIxIDEzMS43NDg4LDI1LjM1MjMgUTEzMS4xNTUzLDI1LjA4MjUgMTMwLjUyNDQsMjUuMDgyNSBRMTI5LjE3OTcsMjUuMDgyNSAxMjguNDk0OSwyNi4xNDkyIFExMjcuODEwMSwyNy4yMTU4IDEyNy44MTAxLDI5LjMxNTkgUTEyNy44MTAxLDMxLjQwNzcgMTI4LjQ5NDksMzIuNDc0NCBRMTI5LjE3OTcsMzMuNTQxIDEzMC41MjQ0LDMzLjU0MSBRMTMxLjE1NTMsMzMuNTQxIDEzMS43NDg4LDMzLjI3MTIgUTEzMi4zNDIzLDMzLjAwMTUgMTMyLjk3MzEsMzIuNDIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjMyIiB4PSIxNDQiIHk9IjM0LjAzNTIiPkNsaWVudDwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxMTYiIHgyPSIxNzgiIHkxPSI0NS41IiB5Mj0iNDUuNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjExNiIgeDI9IjE3OCIgeTE9IjUzLjUiIHkyPSI1My41Ii8+PCEtLU1ENT1bMTc1M2ExMGI0MDIzMTk3MjhlZDNjNDIxNTdhNWMzMWZdCmNsYXNzIEFic3RyYWN0RXhwcmVzc2lvbi0tPjxyZWN0IGNvZGVMaW5lPSIxNSIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2ZnaHdkN2NpcDF1bXIpIiBoZWlnaHQ9IjYwLjk1NTEiIGlkPSJBYnN0cmFjdEV4cHJlc3Npb24iIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjE0MyIgeD0iMjE0LjUiIHk9IjciLz48ZWxsaXBzZSBjeD0iMjI5LjUiIGN5PSIyMyIgZmlsbD0iI0NEQ0RDRCIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0yMjkuNjEzMywxOC4zNDgxIEwyMjguNDU5NSwyMy40MTk5IEwyMzAuNzc1NCwyMy40MTk5IFogTTIyOC4xMTkxLDE2LjEwNjkgTDIzMS4xMTU3LDE2LjEwNjkgTDIzNC40NjA5LDI4LjUgTDIzMi4wMTIyLDI4LjUgTDIzMS4yNDg1LDI1LjQzNyBMMjI3Ljk2OTcsMjUuNDM3IEwyMjcuMjIyNywyOC41IEwyMjQuNzczOSwyOC41IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMTEiIHg9IjI0My41IiB5PSIyNy41MzUyIj5BYnN0cmFjdEV4cHJlc3Npb248L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMjE1LjUiIHgyPSIzNTYuNSIgeTE9IjM5IiB5Mj0iMzkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIyMTUuNSIgeDI9IjM1Ni41IiB5MT0iNDciIHkyPSI0NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjkwIiB4PSIyMjAuNSIgeT0iNjEuNjM0OCI+K2ludGVycHJldCgpOnZvaWQ8L3RleHQ+PCEtLU1ENT1bNjc1NDM1NDM2NTkxN2FiZjhmMWE1NmFmMWI3ZTM0NGNdCmNsYXNzIENvbnRleHQtLT48cmVjdCBjb2RlTGluZT0iNiIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2ZnaHdkN2NpcDF1bXIpIiBoZWlnaHQ9IjQ4IiBpZD0iQ29udGV4dCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNzYiIHg9IjciIHk9IjEyOCIvPjxlbGxpcHNlIGN4PSIyMiIgY3k9IjE0NCIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0yNC45NzMxLDE0OS42NDMxIFEyNC4zOTIxLDE0OS45NDE5IDIzLjc1MjksMTUwLjA5MTMgUTIzLjExMzgsMTUwLjI0MDcgMjIuNDA4MiwxNTAuMjQwNyBRMTkuOTAxNCwxNTAuMjQwNyAxOC41ODE1LDE0OC41ODg5IFExNy4yNjE3LDE0Ni45MzcgMTcuMjYxNywxNDMuODE1OSBRMTcuMjYxNywxNDAuNjg2NSAxOC41ODE1LDEzOS4wMzQ3IFExOS45MDE0LDEzNy4zODI4IDIyLjQwODIsMTM3LjM4MjggUTIzLjExMzgsMTM3LjM4MjggMjMuNzYxMiwxMzcuNTMyMiBRMjQuNDA4NywxMzcuNjgxNiAyNC45NzMxLDEzNy45ODA1IEwyNC45NzMxLDE0MC43MDMxIFEyNC4zNDIzLDE0MC4xMjIxIDIzLjc0ODgsMTM5Ljg1MjMgUTIzLjE1NTMsMTM5LjU4MjUgMjIuNTI0NCwxMzkuNTgyNSBRMjEuMTc5NywxMzkuNTgyNSAyMC40OTQ5LDE0MC42NDkyIFExOS44MTAxLDE0MS43MTU4IDE5LjgxMDEsMTQzLjgxNTkgUTE5LjgxMDEsMTQ1LjkwNzcgMjAuNDk0OSwxNDYuOTc0NCBRMjEuMTc5NywxNDguMDQxIDIyLjUyNDQsMTQ4LjA0MSBRMjMuMTU1MywxNDguMDQxIDIzLjc0ODgsMTQ3Ljc3MTIgUTI0LjM0MjMsMTQ3LjUwMTUgMjQuOTczMSwxNDYuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjQ0IiB4PSIzNiIgeT0iMTQ4LjUzNTIiPkNvbnRleHQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iOCIgeDI9IjgyIiB5MT0iMTYwIiB5Mj0iMTYwIi8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iOCIgeDI9IjgyIiB5MT0iMTY4IiB5Mj0iMTY4Ii8+PCEtLU1ENT1bNzg2MDJlM2NjNDI4YTM2YjI2YjI3YmQ5NTEwODMwZGNdCmNsYXNzIFRlcm1pbmFsRXhwcmVzc2lvbi0tPjxyZWN0IGNvZGVMaW5lPSIyMCIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2ZnaHdkN2NpcDF1bXIpIiBoZWlnaHQ9IjQ4IiBpZD0iVGVybWluYWxFeHByZXNzaW9uIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxNDYiIHg9IjExOCIgeT0iMTI4Ii8+PGVsbGlwc2UgY3g9IjEzMyIgY3k9IjE0NCIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0xMzUuOTczMSwxNDkuNjQzMSBRMTM1LjM5MjEsMTQ5Ljk0MTkgMTM0Ljc1MjksMTUwLjA5MTMgUTEzNC4xMTM4LDE1MC4yNDA3IDEzMy40MDgyLDE1MC4yNDA3IFExMzAuOTAxNCwxNTAuMjQwNyAxMjkuNTgxNSwxNDguNTg4OSBRMTI4LjI2MTcsMTQ2LjkzNyAxMjguMjYxNywxNDMuODE1OSBRMTI4LjI2MTcsMTQwLjY4NjUgMTI5LjU4MTUsMTM5LjAzNDcgUTEzMC45MDE0LDEzNy4zODI4IDEzMy40MDgyLDEzNy4zODI4IFExMzQuMTEzOCwxMzcuMzgyOCAxMzQuNzYxMiwxMzcuNTMyMiBRMTM1LjQwODcsMTM3LjY4MTYgMTM1Ljk3MzEsMTM3Ljk4MDUgTDEzNS45NzMxLDE0MC43MDMxIFExMzUuMzQyMywxNDAuMTIyMSAxMzQuNzQ4OCwxMzkuODUyMyBRMTM0LjE1NTMsMTM5LjU4MjUgMTMzLjUyNDQsMTM5LjU4MjUgUTEzMi4xNzk3LDEzOS41ODI1IDEzMS40OTQ5LDE0MC42NDkyIFExMzAuODEwMSwxNDEuNzE1OCAxMzAuODEwMSwxNDMuODE1OSBRMTMwLjgxMDEsMTQ1LjkwNzcgMTMxLjQ5NDksMTQ2Ljk3NDQgUTEzMi4xNzk3LDE0OC4wNDEgMTMzLjUyNDQsMTQ4LjA0MSBRMTM0LjE1NTMsMTQ4LjA0MSAxMzQuNzQ4OCwxNDcuNzcxMiBRMTM1LjM0MjMsMTQ3LjUwMTUgMTM1Ljk3MzEsMTQ2LjkyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMTQiIHg9IjE0NyIgeT0iMTQ4LjUzNTIiPlRlcm1pbmFsRXhwcmVzc2lvbjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxMTkiIHgyPSIyNjMiIHkxPSIxNjAiIHkyPSIxNjAiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxMTkiIHgyPSIyNjMiIHkxPSIxNjgiIHkyPSIxNjgiLz48IS0tTUQ1PVtiZDM3NDUwODJlNDBiOWQ2Zjc3OTU5YWY2YWFhMDA1MF0KY2xhc3MgTm9udGVybWluYWxFeHByZXNzaW9uLS0+PHJlY3QgY29kZUxpbmU9IjIzIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZmdod2Q3Y2lwMXVtcikiIGhlaWdodD0iNDgiIGlkPSJOb250ZXJtaW5hbEV4cHJlc3Npb24iIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjE2NSIgeD0iMjk5LjUiIHk9IjEyOCIvPjxlbGxpcHNlIGN4PSIzMTQuNSIgY3k9IjE0NCIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0zMTcuNDczMSwxNDkuNjQzMSBRMzE2Ljg5MjEsMTQ5Ljk0MTkgMzE2LjI1MjksMTUwLjA5MTMgUTMxNS42MTM4LDE1MC4yNDA3IDMxNC45MDgyLDE1MC4yNDA3IFEzMTIuNDAxNCwxNTAuMjQwNyAzMTEuMDgxNSwxNDguNTg4OSBRMzA5Ljc2MTcsMTQ2LjkzNyAzMDkuNzYxNywxNDMuODE1OSBRMzA5Ljc2MTcsMTQwLjY4NjUgMzExLjA4MTUsMTM5LjAzNDcgUTMxMi40MDE0LDEzNy4zODI4IDMxNC45MDgyLDEzNy4zODI4IFEzMTUuNjEzOCwxMzcuMzgyOCAzMTYuMjYxMiwxMzcuNTMyMiBRMzE2LjkwODcsMTM3LjY4MTYgMzE3LjQ3MzEsMTM3Ljk4MDUgTDMxNy40NzMxLDE0MC43MDMxIFEzMTYuODQyMywxNDAuMTIyMSAzMTYuMjQ4OCwxMzkuODUyMyBRMzE1LjY1NTMsMTM5LjU4MjUgMzE1LjAyNDQsMTM5LjU4MjUgUTMxMy42Nzk3LDEzOS41ODI1IDMxMi45OTQ5LDE0MC42NDkyIFEzMTIuMzEwMSwxNDEuNzE1OCAzMTIuMzEwMSwxNDMuODE1OSBRMzEyLjMxMDEsMTQ1LjkwNzcgMzEyLjk5NDksMTQ2Ljk3NDQgUTMxMy42Nzk3LDE0OC4wNDEgMzE1LjAyNDQsMTQ4LjA0MSBRMzE1LjY1NTMsMTQ4LjA0MSAzMTYuMjQ4OCwxNDcuNzcxMiBRMzE2Ljg0MjMsMTQ3LjUwMTUgMzE3LjQ3MzEsMTQ2LjkyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMzMiIHg9IjMyOC41IiB5PSIxNDguNTM1MiI+Tm9udGVybWluYWxFeHByZXNzaW9uPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjMwMC41IiB4Mj0iNDYzLjUiIHkxPSIxNjAiIHkyPSIxNjAiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIzMDAuNSIgeDI9IjQ2My41IiB5MT0iMTY4IiB5Mj0iMTY4Ii8+PCEtLU1ENT1bNDkyMzcwZmFjZmY3ZjFiNDdmYzNiYTVlNWU0MzIwMWZdCnJldmVyc2UgbGluayBBYnN0cmFjdEV4cHJlc3Npb24gdG8gVGVybWluYWxFeHByZXNzaW9uLS0+PHBhdGggZD0iTTIzOS4yNSw4OC4xODM5IEMyMzkuMjUsODguMTgzOSAyMzkuMjUsMTI3Ljc2MzQgMjM5LjI1LDEyNy43NjM0ICIgZmlsbD0ibm9uZSIgaWQ9IkFic3RyYWN0RXhwcmVzc2lvbi1iYWNrdG8tVGVybWluYWxFeHByZXNzaW9uIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjIzMi4yNTAxLDg4LjE4MzksMjM5LjI1LDY4LjE4MzksMjQ2LjI1MDEsODguMTgzOSwyMzIuMjUwMSw4OC4xODM5IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtkZWEwODk1NzcwMjAwODRmMzAxNmZhNTVmNjAxMTU4Ml0KcmV2ZXJzZSBsaW5rIEFic3RyYWN0RXhwcmVzc2lvbiB0byBOb250ZXJtaW5hbEV4cHJlc3Npb24tLT48cGF0aCBkPSJNMzE4LjgzMzMsODguMTgzOSBDMzE4LjgzMzMsODguMTgzOSAzMTguODMzMywxMjcuNzYzNCAzMTguODMzMywxMjcuNzYzNCAiIGZpbGw9Im5vbmUiIGlkPSJBYnN0cmFjdEV4cHJlc3Npb24tYmFja3RvLU5vbnRlcm1pbmFsRXhwcmVzc2lvbiIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSIzMTEuODMzNCw4OC4xODM5LDMxOC44MzMzLDY4LjE4MzksMzI1LjgzMzQsODguMTgzOSwzMTEuODMzNCw4OC4xODM5IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVs4MDA1MTRlZTk2YWJlM2U2YjkyZGJkMjY5M2E2MTI0MF0KbGluayBBYnN0cmFjdEV4cHJlc3Npb24gdG8gTm9udGVybWluYWxFeHByZXNzaW9uLS0+PHBhdGggY29kZUxpbmU9IjI3IiBkPSJNMzM4LjE2NjcsODEuMTgzOSBDMzM4LjE2NjcsODEuMTgzOSAzMzguMTY2NywxMTUuNzYzNCAzMzguMTY2NywxMTUuNzYzNCAiIGZpbGw9Im5vbmUiIGlkPSJBYnN0cmFjdEV4cHJlc3Npb24tTm9udGVybWluYWxFeHByZXNzaW9uIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9IjMzOC4xNjY3LDEyNy43NjM0LDM0Mi4xNjY3LDEyMS43NjM0LDMzOC4xNjY3LDExNS43NjM0LDMzNC4xNjY3LDEyMS43NjM0LDMzOC4xNjY3LDEyNy43NjM0IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjMzOC4xNjY3LDY4LjE4MzksMzM0LjE2NjcsNzcuMTgzOSwzMzguMTY2Nyw3My4xODM5LDM0Mi4xNjY3LDc3LjE4MzksMzM4LjE2NjcsNjguMTgzOSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMzM4LjE2NjciIHgyPSIzMzguMTY2NyIgeTE9IjczLjE4MzkiIHkyPSI4MS4xODM5Ii8+PCEtLU1ENT1bOTVkZTc0YTU3ZjFlMDE4MmI1MmE0OWM2MDg3NzFkMTRdCmxpbmsgQ2xpZW50IHRvIEFic3RyYWN0RXhwcmVzc2lvbi0tPjxwYXRoIGNvZGVMaW5lPSIyOSIgZD0iTTE3OS4yMzg4LDM4IEMxNzkuMjM4OCwzOCAyMDkuMzYyNCwzOCAyMDkuMzYyNCwzOCAiIGZpbGw9Im5vbmUiIGlkPSJDbGllbnQtdG8tQWJzdHJhY3RFeHByZXNzaW9uIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjIxNC4zNjI0LDM4LDIwNS4zNjI0LDM0LDIwOS4zNjI0LDM4LDIwNS4zNjI0LDQyLDIxNC4zNjI0LDM4IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtiNjc3NjVlOTJlYjE4ODhhZTViMWRlMGM5YzIwZjkzMV0KbGluayBDbGllbnQgdG8gQ29udGV4dC0tPjxwYXRoIGNvZGVMaW5lPSIzMCIgZD0iTTExNC43MjY2LDM4IEM4NC44NDM4LDM4IDQ1LDM4IDQ1LDM4IEM0NSwzOCA0NSwxMjIuODIzNSA0NSwxMjIuODIzNSAiIGZpbGw9Im5vbmUiIGlkPSJDbGllbnQtdG8tQ29udGV4dCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSI0NSwxMjcuODIzNSw0OSwxMTguODIzNSw0NSwxMjIuODIzNSw0MSwxMTguODIzNSw0NSwxMjcuODIzNSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bNjU3ZjhlZjg4MTViNWIyZWRmNzQzZDM4NzBjY2JlZTRdCkBzdGFydHVtbA0Kc2tpbnBhcmFtIG1vbm9jaHJvbWUgdHJ1ZQ0Kc2tpbnBhcmFtIGNsYXNzQXR0cmlidXRlSWNvblNpemUgMA0Kc2tpbnBhcmFtIGxpbmV0eXBlIG9ydGhvDQoNCg0KY2xhc3MgQ29udGV4dCB7DQoNCn0NCg0KdG9nZXRoZXIgew0KICAgIGNsYXNzIENsaWVudCB7DQoNCiAgICB9DQoNCiAgICBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdEV4cHJlc3Npb24gew0KICAgICAgICArIGludGVycHJldCgpOnZvaWQNCiAgICB9DQp9DQoNCmNsYXNzIFRlcm1pbmFsRXhwcmVzc2lvbiBleHRlbmRzIEFic3RyYWN0RXhwcmVzc2lvbiB7DQoNCn0NCmNsYXNzIE5vbnRlcm1pbmFsRXhwcmVzc2lvbiBleHRlbmRzIEFic3RyYWN0RXhwcmVzc2lvbiB7DQoNCn0NCg0KTm9udGVybWluYWxFeHByZXNzaW9uIG8tdXAtPiBBYnN0cmFjdEV4cHJlc3Npb24NCg0KQ2xpZW50IC1yaWdodC0+IEFic3RyYWN0RXhwcmVzc2lvbg0KQ2xpZW50IC0gLT4gQ29udGV4dA0KQGVuZHVtbA0KClBsYW50VU1MIHZlcnNpb24gMS4yMDIwLjE2KE1vbiBBdWcgMjQgMDQ6MjA6NDMgQ1NUIDIwMjApCihHUEwgc291cmNlIGRpc3RyaWJ1dGlvbikKSmF2YSBSdW50aW1lOiBKYXZhKFRNKSBTRSBSdW50aW1lIEVudmlyb25tZW50CkpWTTogSmF2YSBIb3RTcG90KFRNKSA2NC1CaXQgU2VydmVyIFZNCkRlZmF1bHQgRW5jb2Rpbmc6IFVURi04Ckxhbmd1YWdlOiB6aApDb3VudHJ5OiBDTgotLT48L2c+PC9zdmc+'>

<h4 id="迭代器模式（ITERATOR）"><a href="#迭代器模式（ITERATOR）" class="headerlink" title="迭代器模式（ITERATOR）"></a>迭代器模式（ITERATOR）</h4><p>提供一种方法顺序访问一个聚合对象中各个元素，而又不需暴露该对象的内部表示。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjM0cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDozOTdweDtoZWlnaHQ6MjM0cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzOTcgMjM0IiB3aWR0aD0iMzk3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZmx0dmloaGNxZmIybCIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVs5MTRjZGY4MjJiZjgwZTk4NGU4YWMzYmY5M2I0MDZhNV0KY2xhc3MgQWdncmVnYXRlLS0+PHJlY3QgY29kZUxpbmU9IjUiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmbHR2aWhoY3FmYjJsKSIgaGVpZ2h0PSI2MC45NTUxIiBpZD0iQWdncmVnYXRlIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxNDUiIHg9IjciIHk9IjI2LjUiLz48ZWxsaXBzZSBjeD0iNDYuMyIgY3k9IjQyLjUiIGZpbGw9IiNDRENEQ0QiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNNDYuNDEzMywzNy44NDgxIEw0NS4yNTk1LDQyLjkxOTkgTDQ3LjU3NTQsNDIuOTE5OSBaIE00NC45MTkxLDM1LjYwNjkgTDQ3LjkxNTcsMzUuNjA2OSBMNTEuMjYwOSw0OCBMNDguODEyMiw0OCBMNDguMDQ4NSw0NC45MzcgTDQ0Ljc2OTcsNDQuOTM3IEw0NC4wMjI3LDQ4IEw0MS41NzM5LDQ4IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI1OSIgeD0iNjUuNyIgeT0iNDcuMDM1MiI+QWdncmVnYXRlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjgiIHgyPSIxNTEiIHkxPSI1OC41IiB5Mj0iNTguNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjgiIHgyPSIxNTEiIHkxPSI2Ni41IiB5Mj0iNjYuNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEzMyIgeD0iMTMiIHk9IjgxLjEzNDgiPitjcmVhdGVJdGVyYXRvcigpOkl0ZXJhdG9yPC90ZXh0PjwhLS1NRDU9W2VkNjYyNGM2NTU2ZDVlN2IxYmQyMzAzMjE2MmQyMGI3XQpjbGFzcyBDbGllbnQtLT48cmVjdCBjb2RlTGluZT0iOCIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2ZsdHZpaGhjcWZiMmwpIiBoZWlnaHQ9IjQ4IiBpZD0iQ2xpZW50IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI2NCIgeD0iMTg3LjUiIHk9IjMzIi8+PGVsbGlwc2UgY3g9IjIwMi41IiBjeT0iNDkiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMjA1LjQ3MzEsNTQuNjQzMSBRMjA0Ljg5MjEsNTQuOTQxOSAyMDQuMjUyOSw1NS4wOTEzIFEyMDMuNjEzOCw1NS4yNDA3IDIwMi45MDgyLDU1LjI0MDcgUTIwMC40MDE0LDU1LjI0MDcgMTk5LjA4MTUsNTMuNTg4OSBRMTk3Ljc2MTcsNTEuOTM3IDE5Ny43NjE3LDQ4LjgxNTkgUTE5Ny43NjE3LDQ1LjY4NjUgMTk5LjA4MTUsNDQuMDM0NyBRMjAwLjQwMTQsNDIuMzgyOCAyMDIuOTA4Miw0Mi4zODI4IFEyMDMuNjEzOCw0Mi4zODI4IDIwNC4yNjEyLDQyLjUzMjIgUTIwNC45MDg3LDQyLjY4MTYgMjA1LjQ3MzEsNDIuOTgwNSBMMjA1LjQ3MzEsNDUuNzAzMSBRMjA0Ljg0MjMsNDUuMTIyMSAyMDQuMjQ4OCw0NC44NTIzIFEyMDMuNjU1Myw0NC41ODI1IDIwMy4wMjQ0LDQ0LjU4MjUgUTIwMS42Nzk3LDQ0LjU4MjUgMjAwLjk5NDksNDUuNjQ5MiBRMjAwLjMxMDEsNDYuNzE1OCAyMDAuMzEwMSw0OC44MTU5IFEyMDAuMzEwMSw1MC45MDc3IDIwMC45OTQ5LDUxLjk3NDQgUTIwMS42Nzk3LDUzLjA0MSAyMDMuMDI0NCw1My4wNDEgUTIwMy42NTUzLDUzLjA0MSAyMDQuMjQ4OCw1Mi43NzEyIFEyMDQuODQyMyw1Mi41MDE1IDIwNS40NzMxLDUxLjkyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIzMiIgeD0iMjE2LjUiIHk9IjUzLjUzNTIiPkNsaWVudDwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxODguNSIgeDI9IjI1MC41IiB5MT0iNjUiIHkyPSI2NSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE4OC41IiB4Mj0iMjUwLjUiIHkxPSI3MyIgeTI9IjczIi8+PCEtLU1ENT1bMDIzZWNmNjcwMmUzY2EyY2U0N2FlNzQ3ZWFmYjIwZjFdCmNsYXNzIEl0ZXJhdG9yLS0+PHJlY3QgY29kZUxpbmU9IjkiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmbHR2aWhoY3FmYjJsKSIgaGVpZ2h0PSI5OS44MjAzIiBpZD0iSXRlcmF0b3IiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjkyIiB4PSIyODYuNSIgeT0iNyIvPjxlbGxpcHNlIGN4PSIzMDkuNiIgY3k9IjIzIiBmaWxsPSIjQjFCMUIxIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTMwNS41Mjc3LDE4Ljc2NTEgTDMwNS41Mjc3LDE2LjYwNjkgTDMxMi45MDcxLDE2LjYwNjkgTDMxMi45MDcxLDE4Ljc2NTEgTDMxMC40NDE4LDE4Ljc2NTEgTDMxMC40NDE4LDI2Ljg0MTggTDMxMi45MDcxLDI2Ljg0MTggTDMxMi45MDcxLDI5IEwzMDUuNTI3NywyOSBMMzA1LjUyNzcsMjYuODQxOCBMMzA3Ljk5MzEsMjYuODQxOCBMMzA3Ljk5MzEsMTguNzY1MSBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNDIiIHg9IjMyNS40IiB5PSIyNy41MzUyIj5JdGVyYXRvcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIyODcuNSIgeDI9IjM3Ny41IiB5MT0iMzkiIHkyPSIzOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjI4Ny41IiB4Mj0iMzc3LjUiIHkxPSI0NyIgeTI9IjQ3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMzkiIHg9IjI5Mi41IiB5PSI2MS42MzQ4Ij4rZmlyc3QoKTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI0MSIgeD0iMjkyLjUiIHk9Ijc0LjU4OTgiPituZXh0KCk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNTQiIHg9IjI5Mi41IiB5PSI4Ny41NDQ5Ij4raXNEb25lKCk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iODAiIHg9IjI5Mi41IiB5PSIxMDAuNSI+K2N1cnJlbnRJdGVtKCk8L3RleHQ+PCEtLU1ENT1bYWMxOTJlM2I1OGEyMTYzZTM4NDg4MjE0YTc4Mzc4ODZdCmNsYXNzIENvbmNyZXRlQWdncmVnYXRlLS0+PHJlY3QgY29kZUxpbmU9IjE4IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZmx0dmloaGNxZmIybCkiIGhlaWdodD0iNDgiIGlkPSJDb25jcmV0ZUFnZ3JlZ2F0ZSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTQyIiB4PSI1MC41IiB5PSIxNjciLz48ZWxsaXBzZSBjeD0iNjUuNSIgY3k9IjE4MyIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik02OC40NzMxLDE4OC42NDMxIFE2Ny44OTIxLDE4OC45NDE5IDY3LjI1MjksMTg5LjA5MTMgUTY2LjYxMzgsMTg5LjI0MDcgNjUuOTA4MiwxODkuMjQwNyBRNjMuNDAxNCwxODkuMjQwNyA2Mi4wODE1LDE4Ny41ODg5IFE2MC43NjE3LDE4NS45MzcgNjAuNzYxNywxODIuODE1OSBRNjAuNzYxNywxNzkuNjg2NSA2Mi4wODE1LDE3OC4wMzQ3IFE2My40MDE0LDE3Ni4zODI4IDY1LjkwODIsMTc2LjM4MjggUTY2LjYxMzgsMTc2LjM4MjggNjcuMjYxMiwxNzYuNTMyMiBRNjcuOTA4NywxNzYuNjgxNiA2OC40NzMxLDE3Ni45ODA1IEw2OC40NzMxLDE3OS43MDMxIFE2Ny44NDIzLDE3OS4xMjIxIDY3LjI0ODgsMTc4Ljg1MjMgUTY2LjY1NTMsMTc4LjU4MjUgNjYuMDI0NCwxNzguNTgyNSBRNjQuNjc5NywxNzguNTgyNSA2My45OTQ5LDE3OS42NDkyIFE2My4zMTAxLDE4MC43MTU4IDYzLjMxMDEsMTgyLjgxNTkgUTYzLjMxMDEsMTg0LjkwNzcgNjMuOTk0OSwxODUuOTc0NCBRNjQuNjc5NywxODcuMDQxIDY2LjAyNDQsMTg3LjA0MSBRNjYuNjU1MywxODcuMDQxIDY3LjI0ODgsMTg2Ljc3MTIgUTY3Ljg0MjMsMTg2LjUwMTUgNjguNDczMSwxODUuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjExMCIgeD0iNzkuNSIgeT0iMTg3LjUzNTIiPkNvbmNyZXRlQWdncmVnYXRlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjUxLjUiIHgyPSIxOTEuNSIgeTE9IjE5OSIgeTI9IjE5OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjUxLjUiIHgyPSIxOTEuNSIgeTE9IjIwNyIgeTI9IjIwNyIvPjwhLS1NRDU9WzRhM2MxMTg5OGM3MDNkNDRjMmVjY2Y2OTE2MDVhNzVmXQpjbGFzcyBDb25jcmV0ZUl0ZXJhdG9yLS0+PHJlY3QgY29kZUxpbmU9IjIyIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZmx0dmloaGNxZmIybCkiIGhlaWdodD0iNDgiIGlkPSJDb25jcmV0ZUl0ZXJhdG9yIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxMjUiIHg9IjI0OSIgeT0iMTY3Ii8+PGVsbGlwc2UgY3g9IjI2NCIgY3k9IjE4MyIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0yNjYuOTczMSwxODguNjQzMSBRMjY2LjM5MjEsMTg4Ljk0MTkgMjY1Ljc1MjksMTg5LjA5MTMgUTI2NS4xMTM4LDE4OS4yNDA3IDI2NC40MDgyLDE4OS4yNDA3IFEyNjEuOTAxNCwxODkuMjQwNyAyNjAuNTgxNSwxODcuNTg4OSBRMjU5LjI2MTcsMTg1LjkzNyAyNTkuMjYxNywxODIuODE1OSBRMjU5LjI2MTcsMTc5LjY4NjUgMjYwLjU4MTUsMTc4LjAzNDcgUTI2MS45MDE0LDE3Ni4zODI4IDI2NC40MDgyLDE3Ni4zODI4IFEyNjUuMTEzOCwxNzYuMzgyOCAyNjUuNzYxMiwxNzYuNTMyMiBRMjY2LjQwODcsMTc2LjY4MTYgMjY2Ljk3MzEsMTc2Ljk4MDUgTDI2Ni45NzMxLDE3OS43MDMxIFEyNjYuMzQyMywxNzkuMTIyMSAyNjUuNzQ4OCwxNzguODUyMyBRMjY1LjE1NTMsMTc4LjU4MjUgMjY0LjUyNDQsMTc4LjU4MjUgUTI2My4xNzk3LDE3OC41ODI1IDI2Mi40OTQ5LDE3OS42NDkyIFEyNjEuODEwMSwxODAuNzE1OCAyNjEuODEwMSwxODIuODE1OSBRMjYxLjgxMDEsMTg0LjkwNzcgMjYyLjQ5NDksMTg1Ljk3NDQgUTI2My4xNzk3LDE4Ny4wNDEgMjY0LjUyNDQsMTg3LjA0MSBRMjY1LjE1NTMsMTg3LjA0MSAyNjUuNzQ4OCwxODYuNzcxMiBRMjY2LjM0MjMsMTg2LjUwMTUgMjY2Ljk3MzEsMTg1LjkyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI5MyIgeD0iMjc4IiB5PSIxODcuNTM1MiI+Q29uY3JldGVJdGVyYXRvcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIyNTAiIHgyPSIzNzMiIHkxPSIxOTkiIHkyPSIxOTkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIyNTAiIHgyPSIzNzMiIHkxPSIyMDciIHkyPSIyMDciLz48IS0tTUQ1PVtjZGYzMTExNGMwYTliNzM2NzBiNDhmMjhjODNjMDA0MF0KbGluayBDbGllbnQgdG8gSXRlcmF0b3ItLT48cGF0aCBjb2RlTGluZT0iMTYiIGQ9Ik0yNTEuNTc5LDU3IEMyNTEuNTc5LDU3IDI4MS40MjE0LDU3IDI4MS40MjE0LDU3ICIgZmlsbD0ibm9uZSIgaWQ9IkNsaWVudC10by1JdGVyYXRvciIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIyODYuNDIxNCw1NywyNzcuNDIxNCw1MywyODEuNDIxNCw1NywyNzcuNDIxNCw2MSwyODYuNDIxNCw1NyIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bZjllOWJjODlmY2RhYTgyODdjZGE3ZWVmOTM1NTE5ZDRdCnJldmVyc2UgbGluayBBZ2dyZWdhdGUgdG8gQ2xpZW50LS0+PHBhdGggY29kZUxpbmU9IjE3IiBkPSJNMTU3LjM3MDQsNTcgQzE1Ny4zNzA0LDU3IDE4Ny4xOTk5LDU3IDE4Ny4xOTk5LDU3ICIgZmlsbD0ibm9uZSIgaWQ9IkFnZ3JlZ2F0ZS1iYWNrdG8tQ2xpZW50IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjE1Mi4zNzA0LDU3LDE2MS4zNzA0LDYxLDE1Ny4zNzA0LDU3LDE2MS4zNzA0LDUzLDE1Mi4zNzA0LDU3IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtlYzE2ZGQzZmFmMzZmYWY4ZDA0ZjM3YTgzMDgxMWZhOV0KcmV2ZXJzZSBsaW5rIEFnZ3JlZ2F0ZSB0byBDb25jcmV0ZUFnZ3JlZ2F0ZS0tPjxwYXRoIGQ9Ik0xMDEuMjUsMTA3Ljc0MjMgQzEwMS4yNSwxMDcuNzQyMyAxMDEuMjUsMTY2LjY0OTggMTAxLjI1LDE2Ni42NDk4ICIgZmlsbD0ibm9uZSIgaWQ9IkFnZ3JlZ2F0ZS1iYWNrdG8tQ29uY3JldGVBZ2dyZWdhdGUiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iOTQuMjUwMSwxMDcuNzQyMywxMDEuMjUsODcuNzQyMywxMDguMjUwMSwxMDcuNzQyMyw5NC4yNTAxLDEwNy43NDIzIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVswODAwNWZhZDc4YjI1ZDk0M2VhYzBkZjEwZTU3NTE4ZV0KcmV2ZXJzZSBsaW5rIEl0ZXJhdG9yIHRvIENvbmNyZXRlSXRlcmF0b3ItLT48cGF0aCBkPSJNMzMwLjI1LDEyNy4yNzc5IEMzMzAuMjUsMTI3LjI3NzkgMzMwLjI1LDE2Ni43MzczIDMzMC4yNSwxNjYuNzM3MyAiIGZpbGw9Im5vbmUiIGlkPSJJdGVyYXRvci1iYWNrdG8tQ29uY3JldGVJdGVyYXRvciIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSIzMjMuMjUwMSwxMjcuMjc3OSwzMzAuMjUsMTA3LjI3NzksMzM3LjI1MDEsMTI3LjI3NzksMzIzLjI1MDEsMTI3LjI3NzkiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9W2M0ZWFlZjgxMjgyOWJlODEyYTVjY2EwMjg1ZGMyYjc2XQpsaW5rIENvbmNyZXRlQWdncmVnYXRlIHRvIENvbmNyZXRlSXRlcmF0b3ItLT48cGF0aCBjb2RlTGluZT0iMjYiIGQ9Ik0xOTIuNTE5MiwxOTEgQzIxMS4wNzAzLDE5MSAyMzAuOTI2NywxOTEgMjQ4Ljk5OTEsMTkxICIgZmlsbD0ibm9uZSIgaWQ9IkNvbmNyZXRlQWdncmVnYXRlLUNvbmNyZXRlSXRlcmF0b3IiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzMyNjg5YjAyOTRiNmQ5MDVjZWY2OGQzNTFmMGQ5ZTc4XQpAc3RhcnR1bWwNCnNraW5wYXJhbSBtb25vY2hyb21lIHRydWUNCnNraW5wYXJhbSBjbGFzc0F0dHJpYnV0ZUljb25TaXplIDANCnNraW5wYXJhbSBsaW5ldHlwZSBvcnRobw0KDQphYnN0cmFjdCBjbGFzcyBBZ2dyZWdhdGUgew0KICAgICsgY3JlYXRlSXRlcmF0b3IoKTpJdGVyYXRvcg0KfQ0KY2xhc3MgQ2xpZW50IHt9DQppbnRlcmZhY2UgSXRlcmF0b3Igew0KICAgICsgZmlyc3QoKQ0KICAgICsgbmV4dCgpDQogICAgKyBpc0RvbmUoKQ0KICAgICsgY3VycmVudEl0ZW0oKQ0KfQ0KDQpDbGllbnQgLXJpZ2h0LT4gSXRlcmF0b3INCkNsaWVudCAtbGVmdC0+IEFnZ3JlZ2F0ZQ0KY2xhc3MgQ29uY3JldGVBZ2dyZWdhdGUgZXh0ZW5kcyBBZ2dyZWdhdGUgew0KDQp9DQoNCmNsYXNzIENvbmNyZXRlSXRlcmF0b3IgaW1wbGVtZW50cyBJdGVyYXRvciB7DQoNCn0NCg0KQ29uY3JldGVJdGVyYXRvciAgLWxlZnQtIENvbmNyZXRlQWdncmVnYXRlDQoNCkBlbmR1bWwNCgpQbGFudFVNTCB2ZXJzaW9uIDEuMjAyMC4xNihNb24gQXVnIDI0IDA0OjIwOjQzIENTVCAyMDIwKQooR1BMIHNvdXJjZSBkaXN0cmlidXRpb24pCkphdmEgUnVudGltZTogSmF2YShUTSkgU0UgUnVudGltZSBFbnZpcm9ubWVudApKVk06IEphdmEgSG90U3BvdChUTSkgNjQtQml0IFNlcnZlciBWTQpEZWZhdWx0IEVuY29kaW5nOiBVVEYtOApMYW5ndWFnZTogemgKQ291bnRyeTogQ04KLS0+PC9nPjwvc3ZnPg=='>

<h4 id="调停者模式（MEDIATOR）"><a href="#调停者模式（MEDIATOR）" class="headerlink" title="调停者模式（MEDIATOR）"></a>调停者模式（MEDIATOR）</h4><p>用一个调停对象来封装一系列的对象交互，调停者使各对象不需要显示地相互引用，从而使其耦合松散，二者可以独立地改变它们之间的交互。</p>
<blockquote>
<p>调停者知道所有的colleague，并且colleague也知道调停者，colleague之间不需要相互引用，colleague和调停者之间可以使用观察者模式来通知变化的产生。</p>
</blockquote>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjc0cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo1MjNweDtoZWlnaHQ6Mjc0cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MjMgMjc0IiB3aWR0aD0iNTIzcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZmNqazRudjJhNDc2YyIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVswNTBkNWMzMjMwZmE1NjI2MzUzYmFlNzdkZWUwNjQxMF0KY2xhc3MgQ29uY3JldGVDb2xsZWFndWVBLS0+PHJlY3QgY29kZUxpbmU9IjkiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmY2prNG52MmE0NzZjKSIgaGVpZ2h0PSI0OCIgaWQ9IkNvbmNyZXRlQ29sbGVhZ3VlQSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTQ3IiB4PSIzNTcuNSIgeT0iMTE1Ii8+PGVsbGlwc2UgY3g9IjM3Mi41IiBjeT0iMTMxIiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTM3NS40NzMxLDEzNi42NDMxIFEzNzQuODkyMSwxMzYuOTQxOSAzNzQuMjUyOSwxMzcuMDkxMyBRMzczLjYxMzgsMTM3LjI0MDcgMzcyLjkwODIsMTM3LjI0MDcgUTM3MC40MDE0LDEzNy4yNDA3IDM2OS4wODE1LDEzNS41ODg5IFEzNjcuNzYxNywxMzMuOTM3IDM2Ny43NjE3LDEzMC44MTU5IFEzNjcuNzYxNywxMjcuNjg2NSAzNjkuMDgxNSwxMjYuMDM0NyBRMzcwLjQwMTQsMTI0LjM4MjggMzcyLjkwODIsMTI0LjM4MjggUTM3My42MTM4LDEyNC4zODI4IDM3NC4yNjEyLDEyNC41MzIyIFEzNzQuOTA4NywxMjQuNjgxNiAzNzUuNDczMSwxMjQuOTgwNSBMMzc1LjQ3MzEsMTI3LjcwMzEgUTM3NC44NDIzLDEyNy4xMjIxIDM3NC4yNDg4LDEyNi44NTIzIFEzNzMuNjU1MywxMjYuNTgyNSAzNzMuMDI0NCwxMjYuNTgyNSBRMzcxLjY3OTcsMTI2LjU4MjUgMzcwLjk5NDksMTI3LjY0OTIgUTM3MC4zMTAxLDEyOC43MTU4IDM3MC4zMTAxLDEzMC44MTU5IFEzNzAuMzEwMSwxMzIuOTA3NyAzNzAuOTk0OSwxMzMuOTc0NCBRMzcxLjY3OTcsMTM1LjA0MSAzNzMuMDI0NCwxMzUuMDQxIFEzNzMuNjU1MywxMzUuMDQxIDM3NC4yNDg4LDEzNC43NzEyIFEzNzQuODQyMywxMzQuNTAxNSAzNzUuNDczMSwxMzMuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjExNSIgeD0iMzg2LjUiIHk9IjEzNS41MzUyIj5Db25jcmV0ZUNvbGxlYWd1ZUE8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMzU4LjUiIHgyPSI1MDMuNSIgeTE9IjE0NyIgeTI9IjE0NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjM1OC41IiB4Mj0iNTAzLjUiIHkxPSIxNTUiIHkyPSIxNTUiLz48IS0tTUQ1PVtlYmRkYTIwNmZhNmVjNDgzZDQxZmNhYTc1ZWZmOWI0Zl0KY2xhc3MgQ29uY3JldGVDb2xsZWFndWVCLS0+PHJlY3QgY29kZUxpbmU9IjEwIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZmNqazRudjJhNDc2YykiIGhlaWdodD0iNDgiIGlkPSJDb25jcmV0ZUNvbGxlYWd1ZUIiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjE0NiIgeD0iMTc2IiB5PSIxMTUiLz48ZWxsaXBzZSBjeD0iMTkxIiBjeT0iMTMxIiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTE5My45NzMxLDEzNi42NDMxIFExOTMuMzkyMSwxMzYuOTQxOSAxOTIuNzUyOSwxMzcuMDkxMyBRMTkyLjExMzgsMTM3LjI0MDcgMTkxLjQwODIsMTM3LjI0MDcgUTE4OC45MDE0LDEzNy4yNDA3IDE4Ny41ODE1LDEzNS41ODg5IFExODYuMjYxNywxMzMuOTM3IDE4Ni4yNjE3LDEzMC44MTU5IFExODYuMjYxNywxMjcuNjg2NSAxODcuNTgxNSwxMjYuMDM0NyBRMTg4LjkwMTQsMTI0LjM4MjggMTkxLjQwODIsMTI0LjM4MjggUTE5Mi4xMTM4LDEyNC4zODI4IDE5Mi43NjEyLDEyNC41MzIyIFExOTMuNDA4NywxMjQuNjgxNiAxOTMuOTczMSwxMjQuOTgwNSBMMTkzLjk3MzEsMTI3LjcwMzEgUTE5My4zNDIzLDEyNy4xMjIxIDE5Mi43NDg4LDEyNi44NTIzIFExOTIuMTU1MywxMjYuNTgyNSAxOTEuNTI0NCwxMjYuNTgyNSBRMTkwLjE3OTcsMTI2LjU4MjUgMTg5LjQ5NDksMTI3LjY0OTIgUTE4OC44MTAxLDEyOC43MTU4IDE4OC44MTAxLDEzMC44MTU5IFExODguODEwMSwxMzIuOTA3NyAxODkuNDk0OSwxMzMuOTc0NCBRMTkwLjE3OTcsMTM1LjA0MSAxOTEuNTI0NCwxMzUuMDQxIFExOTIuMTU1MywxMzUuMDQxIDE5Mi43NDg4LDEzNC43NzEyIFExOTMuMzQyMywxMzQuNTAxNSAxOTMuOTczMSwxMzMuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjExNCIgeD0iMjA1IiB5PSIxMzUuNTM1MiI+Q29uY3JldGVDb2xsZWFndWVCPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE3NyIgeDI9IjMyMSIgeTE9IjE0NyIgeTI9IjE0NyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE3NyIgeDI9IjMyMSIgeTE9IjE1NSIgeTI9IjE1NSIvPjwhLS1NRDU9WzU3YjAzNmZjM2FkYzZmMzA4NDEwZTA2MTQ2NjI0YzdiXQpjbGFzcyBDb25jcmV0ZU1lZGlhdG9yLS0+PHJlY3QgY29kZUxpbmU9IjExIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZmNqazRudjJhNDc2YykiIGhlaWdodD0iNDgiIGlkPSJDb25jcmV0ZU1lZGlhdG9yIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxMzQiIHg9IjciIHk9IjExNSIvPjxlbGxpcHNlIGN4PSIyMiIgY3k9IjEzMSIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0yNC45NzMxLDEzNi42NDMxIFEyNC4zOTIxLDEzNi45NDE5IDIzLjc1MjksMTM3LjA5MTMgUTIzLjExMzgsMTM3LjI0MDcgMjIuNDA4MiwxMzcuMjQwNyBRMTkuOTAxNCwxMzcuMjQwNyAxOC41ODE1LDEzNS41ODg5IFExNy4yNjE3LDEzMy45MzcgMTcuMjYxNywxMzAuODE1OSBRMTcuMjYxNywxMjcuNjg2NSAxOC41ODE1LDEyNi4wMzQ3IFExOS45MDE0LDEyNC4zODI4IDIyLjQwODIsMTI0LjM4MjggUTIzLjExMzgsMTI0LjM4MjggMjMuNzYxMiwxMjQuNTMyMiBRMjQuNDA4NywxMjQuNjgxNiAyNC45NzMxLDEyNC45ODA1IEwyNC45NzMxLDEyNy43MDMxIFEyNC4zNDIzLDEyNy4xMjIxIDIzLjc0ODgsMTI2Ljg1MjMgUTIzLjE1NTMsMTI2LjU4MjUgMjIuNTI0NCwxMjYuNTgyNSBRMjEuMTc5NywxMjYuNTgyNSAyMC40OTQ5LDEyNy42NDkyIFExOS44MTAxLDEyOC43MTU4IDE5LjgxMDEsMTMwLjgxNTkgUTE5LjgxMDEsMTMyLjkwNzcgMjAuNDk0OSwxMzMuOTc0NCBRMjEuMTc5NywxMzUuMDQxIDIyLjUyNDQsMTM1LjA0MSBRMjMuMTU1MywxMzUuMDQxIDIzLjc0ODgsMTM0Ljc3MTIgUTI0LjM0MjMsMTM0LjUwMTUgMjQuOTczMSwxMzMuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEwMiIgeD0iMzYiIHk9IjEzNS41MzUyIj5Db25jcmV0ZU1lZGlhdG9yPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjgiIHgyPSIxNDAiIHkxPSIxNDciIHkyPSIxNDciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI4IiB4Mj0iMTQwIiB5MT0iMTU1IiB5Mj0iMTU1Ii8+PCEtLU1ENT1bN2JjNTcxNmZmMzRlOGI1N2Q5NzM3NjcwOWIxNTgyMTddCmNsYXNzIE1lZGlhdG9yLS0+PHJlY3QgY29kZUxpbmU9IjUiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmY2prNG52MmE0NzZjKSIgaGVpZ2h0PSI0OCIgaWQ9Ik1lZGlhdG9yIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI4MyIgeD0iNTkuNSIgeT0iNyIvPjxlbGxpcHNlIGN4PSI3NC41IiBjeT0iMjMiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNNzcuNDczMSwyOC42NDMxIFE3Ni44OTIxLDI4Ljk0MTkgNzYuMjUyOSwyOS4wOTEzIFE3NS42MTM4LDI5LjI0MDcgNzQuOTA4MiwyOS4yNDA3IFE3Mi40MDE0LDI5LjI0MDcgNzEuMDgxNSwyNy41ODg5IFE2OS43NjE3LDI1LjkzNyA2OS43NjE3LDIyLjgxNTkgUTY5Ljc2MTcsMTkuNjg2NSA3MS4wODE1LDE4LjAzNDcgUTcyLjQwMTQsMTYuMzgyOCA3NC45MDgyLDE2LjM4MjggUTc1LjYxMzgsMTYuMzgyOCA3Ni4yNjEyLDE2LjUzMjIgUTc2LjkwODcsMTYuNjgxNiA3Ny40NzMxLDE2Ljk4MDUgTDc3LjQ3MzEsMTkuNzAzMSBRNzYuODQyMywxOS4xMjIxIDc2LjI0ODgsMTguODUyMyBRNzUuNjU1MywxOC41ODI1IDc1LjAyNDQsMTguNTgyNSBRNzMuNjc5NywxOC41ODI1IDcyLjk5NDksMTkuNjQ5MiBRNzIuMzEwMSwyMC43MTU4IDcyLjMxMDEsMjIuODE1OSBRNzIuMzEwMSwyNC45MDc3IDcyLjk5NDksMjUuOTc0NCBRNzMuNjc5NywyNy4wNDEgNzUuMDI0NCwyNy4wNDEgUTc1LjY1NTMsMjcuMDQxIDc2LjI0ODgsMjYuNzcxMiBRNzYuODQyMywyNi41MDE1IDc3LjQ3MzEsMjUuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjUxIiB4PSI4OC41IiB5PSIyNy41MzUyIj5NZWRpYXRvcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI2MC41IiB4Mj0iMTQxLjUiIHkxPSIzOSIgeTI9IjM5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iNjAuNSIgeDI9IjE0MS41IiB5MT0iNDciIHkyPSI0NyIvPjwhLS1NRDU9W2RjZTFjNGE5OWQ2ZDc4MzIwZGJkOTM5NWU1Y2FhNDE2XQpjbGFzcyBDb2xsZWFndWUtLT48cmVjdCBjb2RlTGluZT0iNiIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2Zjams0bnYyYTQ3NmMpIiBoZWlnaHQ9IjQ4IiBpZD0iQ29sbGVhZ3VlIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI4OCIgeD0iMjA1IiB5PSI3Ii8+PGVsbGlwc2UgY3g9IjIyMCIgY3k9IjIzIiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTIyMi45NzMxLDI4LjY0MzEgUTIyMi4zOTIxLDI4Ljk0MTkgMjIxLjc1MjksMjkuMDkxMyBRMjIxLjExMzgsMjkuMjQwNyAyMjAuNDA4MiwyOS4yNDA3IFEyMTcuOTAxNCwyOS4yNDA3IDIxNi41ODE1LDI3LjU4ODkgUTIxNS4yNjE3LDI1LjkzNyAyMTUuMjYxNywyMi44MTU5IFEyMTUuMjYxNywxOS42ODY1IDIxNi41ODE1LDE4LjAzNDcgUTIxNy45MDE0LDE2LjM4MjggMjIwLjQwODIsMTYuMzgyOCBRMjIxLjExMzgsMTYuMzgyOCAyMjEuNzYxMiwxNi41MzIyIFEyMjIuNDA4NywxNi42ODE2IDIyMi45NzMxLDE2Ljk4MDUgTDIyMi45NzMxLDE5LjcwMzEgUTIyMi4zNDIzLDE5LjEyMjEgMjIxLjc0ODgsMTguODUyMyBRMjIxLjE1NTMsMTguNTgyNSAyMjAuNTI0NCwxOC41ODI1IFEyMTkuMTc5NywxOC41ODI1IDIxOC40OTQ5LDE5LjY0OTIgUTIxNy44MTAxLDIwLjcxNTggMjE3LjgxMDEsMjIuODE1OSBRMjE3LjgxMDEsMjQuOTA3NyAyMTguNDk0OSwyNS45NzQ0IFEyMTkuMTc5NywyNy4wNDEgMjIwLjUyNDQsMjcuMDQxIFEyMjEuMTU1MywyNy4wNDEgMjIxLjc0ODgsMjYuNzcxMiBRMjIyLjM0MjMsMjYuNTAxNSAyMjIuOTczMSwyNS45MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNTYiIHg9IjIzNCIgeT0iMjcuNTM1MiI+Q29sbGVhZ3VlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjIwNiIgeDI9IjI5MiIgeTE9IjM5IiB5Mj0iMzkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIyMDYiIHgyPSIyOTIiIHkxPSI0NyIgeTI9IjQ3Ii8+PCEtLU1ENT1bYzMzMGFhMTcxYjRhZTU2MDBkZTY1NjlhZGFhYjMxYzRdCmNsYXNzIE51bGwtLT48IS0tTUQ1PVswNTVkNjYxODI4MjZiZGVkNTc4NzhlZTE1MmMzYTcyZF0KcmV2ZXJzZSBsaW5rIENvbGxlYWd1ZSB0byBDb25jcmV0ZUNvbGxlYWd1ZUEtLT48cGF0aCBkPSJNMzEzLjA1NzEsMzEgQzMxMy4wNTcxLDMxIDQzMSwzMSA0MzEsMzEgQzQzMSwzMSA0MzEsODIuOTIwNyA0MzEsMTE0Ljc2MjcgIiBmaWxsPSJub25lIiBpZD0iQ29sbGVhZ3VlLWJhY2t0by1Db25jcmV0ZUNvbGxlYWd1ZUEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMzEzLjA1NzIsMzcuOTk5OSwyOTMuMDU3MSwzMSwzMTMuMDU3MSwyMy45OTk5LDMxMy4wNTcyLDM3Ljk5OTkiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9W2U0ZWM4Yzk5ZGY5ZjMwMjczYzdlZjIyMmZhY2NjNTA4XQpyZXZlcnNlIGxpbmsgQ29sbGVhZ3VlIHRvIENvbmNyZXRlQ29sbGVhZ3VlQi0tPjxwYXRoIGQ9Ik0yNDksNzUuMjM3MyBDMjQ5LDc1LjIzNzMgMjQ5LDExNC44NDM2IDI0OSwxMTQuODQzNiAiIGZpbGw9Im5vbmUiIGlkPSJDb2xsZWFndWUtYmFja3RvLUNvbmNyZXRlQ29sbGVhZ3VlQiIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSIyNDIuMDAwMSw3NS4yMzczLDI0OSw1NS4yMzczLDI1Ni4wMDAxLDc1LjIzNzMsMjQyLjAwMDEsNzUuMjM3MyIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bOGU4MWFiM2I1OGY3OGZhZTQ5MjQ0YzgyOWQ4M2UwMzFdCnJldmVyc2UgbGluayBNZWRpYXRvciB0byBDb25jcmV0ZU1lZGlhdG9yLS0+PHBhdGggZD0iTTEwMC4yNSw3NS4yMzczIEMxMDAuMjUsNzUuMjM3MyAxMDAuMjUsMTE0Ljg0MzYgMTAwLjI1LDExNC44NDM2ICIgZmlsbD0ibm9uZSIgaWQ9Ik1lZGlhdG9yLWJhY2t0by1Db25jcmV0ZU1lZGlhdG9yIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjkzLjI1MDEsNzUuMjM3MywxMDAuMjUsNTUuMjM3MywxMDcuMjUwMSw3NS4yMzczLDkzLjI1MDEsNzUuMjM3MyIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bMjQ1ZTEzMzU2ODNjNDQzNTlhNjBjM2Q5ZjkxNzJiNzldCmxpbmsgQ29uY3JldGVDb2xsZWFndWVBIHRvIE51bGwtLT48IS0tTUQ1PVs0ZDM5OTExYTBjZDlkNTRmYjcwZjJlZTRlMzBmODA3OV0KcmV2ZXJzZSBsaW5rIE1lZGlhdG9yIHRvIENvbGxlYWd1ZS0tPjxwYXRoIGNvZGVMaW5lPSIyMCIgZD0iTTE0Ny42MjAxLDMxIEMxNDcuNjIwMSwzMSAyMDQuODUxMSwzMSAyMDQuODUxMSwzMSAiIGZpbGw9Im5vbmUiIGlkPSJNZWRpYXRvci1iYWNrdG8tQ29sbGVhZ3VlIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjE0Mi42MjAxLDMxLDE1MS42MjAxLDM1LDE0Ny42MjAxLDMxLDE1MS42MjAxLDI3LDE0Mi42MjAxLDMxIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtlZmZlOGI3M2Y1Y2QwYjY0YTM5OGEyYzE1ZjIzNTljZV0KbGluayBDb25jcmV0ZU1lZGlhdG9yIHRvIENvbmNyZXRlQ29sbGVhZ3VlQS0tPjxwYXRoIGNvZGVMaW5lPSIyMSIgZD0iTTc0LDE2My4xNTcgQzc0LDE3Ny41MzQ4IDc0LDE5MyA3NCwxOTMgQzc0LDE5MyAzODAuNzUsMTkzIDM4MC43NSwxOTMgQzM4MC43NSwxOTMgMzgwLjc1LDE2OC4xNTcgMzgwLjc1LDE2OC4xNTcgIiBmaWxsPSJub25lIiBpZD0iQ29uY3JldGVNZWRpYXRvci10by1Db25jcmV0ZUNvbGxlYWd1ZUEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMzgwLjc1LDE2My4xNTcsMzc2Ljc1LDE3Mi4xNTcsMzgwLjc1LDE2OC4xNTcsMzg0Ljc1LDE3Mi4xNTcsMzgwLjc1LDE2My4xNTciIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9W2NmMmZmNzFmOWRmMjZkYTdkMTViYmU1ZjQ1NTUzMTA0XQpsaW5rIENvbmNyZXRlTWVkaWF0b3IgdG8gQ29uY3JldGVDb2xsZWFndWVCLS0+PHBhdGggY29kZUxpbmU9IjIyIiBkPSJNMTQxLjE1OTEsMTM5IEMxNDEuMTU5MSwxMzkgMTcwLjkwOSwxMzkgMTcwLjkwOSwxMzkgIiBmaWxsPSJub25lIiBpZD0iQ29uY3JldGVNZWRpYXRvci10by1Db25jcmV0ZUNvbGxlYWd1ZUIiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMTc1LjkwOSwxMzksMTY2LjkwOSwxMzUsMTcwLjkwOSwxMzksMTY2LjkwOSwxNDMsMTc1LjkwOSwxMzkiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzlhYTlmYWFmZjZhMjE0ODViMjQyYzI4NmZhMGVlN2VmXQpAc3RhcnR1bWwNCnNraW5wYXJhbSBtb25vY2hyb21lIHRydWUNCnNraW5wYXJhbSBjbGFzc0F0dHJpYnV0ZUljb25TaXplIDANCnNraW5wYXJhbSBsaW5ldHlwZSBvcnRobw0KDQpjbGFzcyBNZWRpYXRvciB7fQ0KY2xhc3MgQ29sbGVhZ3VlIHt9DQoNCnRvZ2V0aGVyIHsNCiAgICBjbGFzcyBDb25jcmV0ZUNvbGxlYWd1ZUEgZXh0ZW5kcyBDb2xsZWFndWUge30NCiAgICBjbGFzcyBDb25jcmV0ZUNvbGxlYWd1ZUIgZXh0ZW5kcyBDb2xsZWFndWUge30NCiAgICBjbGFzcyBDb25jcmV0ZU1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige30NCn0NCmNsYXNzIE51bGwge30NCg0KQ29uY3JldGVDb2xsZWFndWVBIC1baGlkZGVuXS0+IE51bGwNCg0KaGlkZSBOdWxsIG1lbWJlcnMNCmhpZGUgTnVsbA0KDQpDb2xsZWFndWUgLWxlZnQtPiBNZWRpYXRvcg0KQ29uY3JldGVNZWRpYXRvciAtcmlnaHQtPiBDb25jcmV0ZUNvbGxlYWd1ZUENCkNvbmNyZXRlTWVkaWF0b3IgLXJpZ2h0LT4gQ29uY3JldGVDb2xsZWFndWVCDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjAuMTYoTW9uIEF1ZyAyNCAwNDoyMDo0MyBDU1QgMjAyMCkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IHpoCkNvdW50cnk6IENOCi0tPjwvZz48L3N2Zz4='>

<h4 id="备忘录模式（MEMENTO）"><a href="#备忘录模式（MEMENTO）" class="headerlink" title="备忘录模式（MEMENTO）"></a>备忘录模式（MEMENTO）</h4><p>在不破坏封装性的前提下，捕获一个对象的内部状态，并在该对象之外保存这个状态，这样以后就可以将该对象恢复到原先保存的状态。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMTE2cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo1MTlweDtoZWlnaHQ6MTE2cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MTkgMTE2IiB3aWR0aD0iNTE5cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjFwNHo3enozd2FwdjgiIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PCEtLU1ENT1bNzc0MTQyMjk3N2Y0MjQ3OTQ0YjQ0MDM3YmY0MDljY2FdCmNsYXNzIE9yaWdpbmF0b3ItLT48cmVjdCBjb2RlTGluZT0iNCIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxcDR6N3p6M3dhcHY4KSIgaGVpZ2h0PSI3My45MTAyIiBpZD0iT3JpZ2luYXRvciIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTgyIiB4PSIzMTguNSIgeT0iMjQiLz48ZWxsaXBzZSBjeD0iMzc2Ljc1IiBjeT0iNDAiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMzc5LjcyMzEsNDUuNjQzMSBRMzc5LjE0MjEsNDUuOTQxOSAzNzguNTAyOSw0Ni4wOTEzIFEzNzcuODYzOCw0Ni4yNDA3IDM3Ny4xNTgyLDQ2LjI0MDcgUTM3NC42NTE0LDQ2LjI0MDcgMzczLjMzMTUsNDQuNTg4OSBRMzcyLjAxMTcsNDIuOTM3IDM3Mi4wMTE3LDM5LjgxNTkgUTM3Mi4wMTE3LDM2LjY4NjUgMzczLjMzMTUsMzUuMDM0NyBRMzc0LjY1MTQsMzMuMzgyOCAzNzcuMTU4MiwzMy4zODI4IFEzNzcuODYzOCwzMy4zODI4IDM3OC41MTEyLDMzLjUzMjIgUTM3OS4xNTg3LDMzLjY4MTYgMzc5LjcyMzEsMzMuOTgwNSBMMzc5LjcyMzEsMzYuNzAzMSBRMzc5LjA5MjMsMzYuMTIyMSAzNzguNDk4OCwzNS44NTIzIFEzNzcuOTA1MywzNS41ODI1IDM3Ny4yNzQ0LDM1LjU4MjUgUTM3NS45Mjk3LDM1LjU4MjUgMzc1LjI0NDksMzYuNjQ5MiBRMzc0LjU2MDEsMzcuNzE1OCAzNzQuNTYwMSwzOS44MTU5IFEzNzQuNTYwMSw0MS45MDc3IDM3NS4yNDQ5LDQyLjk3NDQgUTM3NS45Mjk3LDQ0LjA0MSAzNzcuMjc0NCw0NC4wNDEgUTM3Ny45MDUzLDQ0LjA0MSAzNzguNDk4OCw0My43NzEyIFEzNzkuMDkyMyw0My41MDE1IDM3OS43MjMxLDQyLjkyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI1NyIgeD0iMzk3LjI1IiB5PSI0NC41MzUyIj5PcmlnaW5hdG9yPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjMxOS41IiB4Mj0iNDk5LjUiIHkxPSI1NiIgeTI9IjU2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMzE5LjUiIHgyPSI0OTkuNSIgeTE9IjY0IiB5Mj0iNjQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxNzAiIHg9IjMyNC41IiB5PSI3OC42MzQ4Ij4rc2V0TWVtZW50byhNZW1lbnRvIG0pOnZvaWQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTUxIiB4PSIzMjQuNSIgeT0iOTEuNTg5OCI+K2NyZWF0ZU1lbWVudG8oKTpNZW1lbnRvPC90ZXh0PjwhLS1NRDU9W2I4MzM4MTU2ZThjZDk2Yzc4M2Y1ZmZjN2Q4MDIxZWE3XQpjbGFzcyBNZW1lbnRvLS0+PHJlY3QgY29kZUxpbmU9IjkiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmMXA0ejd6ejN3YXB2OCkiIGhlaWdodD0iNzMuOTEwMiIgaWQ9Ik1lbWVudG8iIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjE1MiIgeD0iMTMxLjUiIHk9IjI0Ii8+PGVsbGlwc2UgY3g9IjE3Ni43NSIgY3k9IjQwIiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTE3OS43MjMxLDQ1LjY0MzEgUTE3OS4xNDIxLDQ1Ljk0MTkgMTc4LjUwMjksNDYuMDkxMyBRMTc3Ljg2MzgsNDYuMjQwNyAxNzcuMTU4Miw0Ni4yNDA3IFExNzQuNjUxNCw0Ni4yNDA3IDE3My4zMzE1LDQ0LjU4ODkgUTE3Mi4wMTE3LDQyLjkzNyAxNzIuMDExNywzOS44MTU5IFExNzIuMDExNywzNi42ODY1IDE3My4zMzE1LDM1LjAzNDcgUTE3NC42NTE0LDMzLjM4MjggMTc3LjE1ODIsMzMuMzgyOCBRMTc3Ljg2MzgsMzMuMzgyOCAxNzguNTExMiwzMy41MzIyIFExNzkuMTU4NywzMy42ODE2IDE3OS43MjMxLDMzLjk4MDUgTDE3OS43MjMxLDM2LjcwMzEgUTE3OS4wOTIzLDM2LjEyMjEgMTc4LjQ5ODgsMzUuODUyMyBRMTc3LjkwNTMsMzUuNTgyNSAxNzcuMjc0NCwzNS41ODI1IFExNzUuOTI5NywzNS41ODI1IDE3NS4yNDQ5LDM2LjY0OTIgUTE3NC41NjAxLDM3LjcxNTggMTc0LjU2MDEsMzkuODE1OSBRMTc0LjU2MDEsNDEuOTA3NyAxNzUuMjQ0OSw0Mi45NzQ0IFExNzUuOTI5Nyw0NC4wNDEgMTc3LjI3NDQsNDQuMDQxIFExNzcuOTA1Myw0NC4wNDEgMTc4LjQ5ODgsNDMuNzcxMiBRMTc5LjA5MjMsNDMuNTAxNSAxNzkuNzIzMSw0Mi45MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNTMiIHg9IjE5Ny4yNSIgeT0iNDQuNTM1MiI+TWVtZW50bzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxMzIuNSIgeDI9IjI4Mi41IiB5MT0iNTYiIHkyPSI1NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjEzMi41IiB4Mj0iMjgyLjUiIHkxPSI2NCIgeTI9IjY0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iODkiIHg9IjEzNy41IiB5PSI3OC42MzQ4Ij4rZ2V0U3RhdGUoKTpTdGF0ZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxNDAiIHg9IjEzNy41IiB5PSI5MS41ODk4Ij4tc2V0U3RhdGUoU3RhdGUgc3RhdGUpOiB2b2lkPC90ZXh0PjwhLS1NRDU9WzUyZjgwMmQzMjI5NjlkYjJmZTZmZTY0OTJmYTM4MjRiXQpjbGFzcyBDYXJldGFrZXItLT48cmVjdCBjb2RlTGluZT0iMTQiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmMXA0ejd6ejN3YXB2OCkiIGhlaWdodD0iNDgiIGlkPSJDYXJldGFrZXIiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9Ijg5IiB4PSI3IiB5PSIzNyIvPjxlbGxpcHNlIGN4PSIyMiIgY3k9IjUzIiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTI0Ljk3MzEsNTguNjQzMSBRMjQuMzkyMSw1OC45NDE5IDIzLjc1MjksNTkuMDkxMyBRMjMuMTEzOCw1OS4yNDA3IDIyLjQwODIsNTkuMjQwNyBRMTkuOTAxNCw1OS4yNDA3IDE4LjU4MTUsNTcuNTg4OSBRMTcuMjYxNyw1NS45MzcgMTcuMjYxNyw1Mi44MTU5IFExNy4yNjE3LDQ5LjY4NjUgMTguNTgxNSw0OC4wMzQ3IFExOS45MDE0LDQ2LjM4MjggMjIuNDA4Miw0Ni4zODI4IFEyMy4xMTM4LDQ2LjM4MjggMjMuNzYxMiw0Ni41MzIyIFEyNC40MDg3LDQ2LjY4MTYgMjQuOTczMSw0Ni45ODA1IEwyNC45NzMxLDQ5LjcwMzEgUTI0LjM0MjMsNDkuMTIyMSAyMy43NDg4LDQ4Ljg1MjMgUTIzLjE1NTMsNDguNTgyNSAyMi41MjQ0LDQ4LjU4MjUgUTIxLjE3OTcsNDguNTgyNSAyMC40OTQ5LDQ5LjY0OTIgUTE5LjgxMDEsNTAuNzE1OCAxOS44MTAxLDUyLjgxNTkgUTE5LjgxMDEsNTQuOTA3NyAyMC40OTQ5LDU1Ljk3NDQgUTIxLjE3OTcsNTcuMDQxIDIyLjUyNDQsNTcuMDQxIFEyMy4xNTUzLDU3LjA0MSAyMy43NDg4LDU2Ljc3MTIgUTI0LjM0MjMsNTYuNTAxNSAyNC45NzMxLDU1LjkyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI1NyIgeD0iMzYiIHk9IjU3LjUzNTIiPkNhcmV0YWtlcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI4IiB4Mj0iOTUiIHkxPSI2OSIgeTI9IjY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iOCIgeDI9Ijk1IiB5MT0iNzciIHkyPSI3NyIvPjwhLS1NRDU9WzFlYTJiYWQwZGNlMDZhZmZlOTBiNDE0YzU0YjQ0MjA0XQpyZXZlcnNlIGxpbmsgTWVtZW50byB0byBPcmlnaW5hdG9yLS0+PHBhdGggY29kZUxpbmU9IjE2IiBkPSJNMjg4LjU3OTcsNjEgQzI4OC41Nzk3LDYxIDMxOC4xODI2LDYxIDMxOC4xODI2LDYxICIgZmlsbD0ibm9uZSIgaWQ9Ik1lbWVudG8tYmFja3RvLU9yaWdpbmF0b3IiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMjgzLjU3OTcsNjEsMjkyLjU3OTcsNjUsMjg4LjU3OTcsNjEsMjkyLjU3OTcsNTcsMjgzLjU3OTcsNjEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzhhOGNlOWJkZDdlYWYwMjFiMTU0MDJmZDQyMjI5ZTg2XQpsaW5rIENhcmV0YWtlciB0byBNZW1lbnRvLS0+PHBhdGggY29kZUxpbmU9IjE3IiBkPSJNMTA4LjIwMzMsNjEgQzEwOC4yMDMzLDYxIDExOC4yNjkxLDYxIDExOC4yNjkxLDYxICIgZmlsbD0ibm9uZSIgaWQ9IkNhcmV0YWtlci1NZW1lbnRvIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjEzMS4yNjkxLDYxLDEyMi4yNjkxLDU3LDEyNi4yNjkxLDYxLDEyMi4yNjkxLDY1LDEzMS4yNjkxLDYxIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiIHgxPSIxMjYuMjY5MSIgeDI9IjExOC4yNjkxIiB5MT0iNjEiIHkyPSI2MC45OTk5Ii8+PHBvbHlnb24gZmlsbD0iI0ZGRkZGRiIgcG9pbnRzPSI5Ni4yMDMzLDYxLDEwMi4yMDMzLDY1LDEwOC4yMDMzLDYxLDEwMi4yMDMzLDU3LDk2LjIwMzMsNjEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzRlYzEwNzliMDFkYTVhMGI4YzUyZjVhNmFjMjA3NjEyXQpsaW5rIENhcmV0YWtlciB0byBPcmlnaW5hdG9yLS0+PHBhdGggY29kZUxpbmU9IjE5IiBkPSJNNTEuNSwzNi43MTYxIEM1MS41LDIxLjk4MjQgNTEuNSw2IDUxLjUsNiBDNTEuNSw2IDQwOS41LDYgNDA5LjUsNiBDNDA5LjUsNiA0MDkuNSwxOC43MDUxIDQwOS41LDE4LjcwNTEgIiBmaWxsPSJub25lIiBpZD0iQ2FyZXRha2VyLXRvLU9yaWdpbmF0b3IiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iNDA5LjUsMjMuNzA1MSw0MTMuNSwxNC43MDUxLDQwOS41LDE4LjcwNTEsNDA1LjUsMTQuNzA1MSw0MDkuNSwyMy43MDUxIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtmMDI4ZWZiMjhkOTY5YTQwNjQ5YmJkZmZiMjZhNjUxYV0KQHN0YXJ0dW1sDQpza2lucGFyYW0gbW9ub2Nocm9tZSB0cnVlDQpza2lucGFyYW0gY2xhc3NBdHRyaWJ1dGVJY29uU2l6ZSAwDQpza2lucGFyYW0gbGluZXR5cGUgb3J0aG8NCmNsYXNzIE9yaWdpbmF0b3Igew0KICAgICsgc2V0TWVtZW50byhNZW1lbnRvIG0pOnZvaWQNCiAgICArIGNyZWF0ZU1lbWVudG8oKTpNZW1lbnRvDQp9DQoNCmNsYXNzIE1lbWVudG97DQogICAgKyBnZXRTdGF0ZSgpOlN0YXRlDQogICAgLSBzZXRTdGF0ZShTdGF0ZSBzdGF0ZSk6IHZvaWQNCn0NCg0KY2xhc3MgQ2FyZXRha2VyIHt9DQoNCk9yaWdpbmF0b3IgLmxlZnQuPiBNZW1lbnRvDQpDYXJldGFrZXIgby1yaWdodC0+TWVtZW50bw0KDQpDYXJldGFrZXIgLXJpZ2h0LT4gT3JpZ2luYXRvcg0KDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjAuMTYoTW9uIEF1ZyAyNCAwNDoyMDo0MyBDU1QgMjAyMCkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IHpoCkNvdW50cnk6IENOCi0tPjwvZz48L3N2Zz4='>

<p>交互时序图如下：</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjI0cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDozMzdweDtoZWlnaHQ6MjI0cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzMzcgMjI0IiB3aWR0aD0iMzM3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjFyazF5c2d4NzRkZXEiIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDUuMCw1LjA7IiB4MT0iNTAiIHgyPSI1MCIgeTE9IjM4LjQ4ODMiIHkyPSIxNzUuNzMwNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA1LjAsNS4wOyIgeDE9IjE3MCIgeDI9IjE3MCIgeTE9IjM4LjQ4ODMiIHkyPSIxNzUuNzMwNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA1LjAsNS4wOyIgeDE9IjI4MS41IiB4Mj0iMjgxLjUiIHkxPSIzOC40ODgzIiB5Mj0iMTc1LjczMDUiLz48cmVjdCBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjFyazF5c2d4NzRkZXEpIiBoZWlnaHQ9IjMwLjQ4ODMiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjgxIiB4PSI4IiB5PSIzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNjciIHg9IjE1IiB5PSIyMy41MzUyIj5DYXJldGFrZXI8L3RleHQ+PHJlY3QgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxcmsxeXNneDc0ZGVxKSIgaGVpZ2h0PSIzMC40ODgzIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI4MSIgeD0iOCIgeT0iMTc0LjczMDUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI2NyIgeD0iMTUiIHk9IjE5NS4yNjU2Ij5DYXJldGFrZXI8L3RleHQ+PHJlY3QgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxcmsxeXNneDc0ZGVxKSIgaGVpZ2h0PSIzMC40ODgzIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI4NSIgeD0iMTI2IiB5PSIzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNzEiIHg9IjEzMyIgeT0iMjMuNTM1MiI+T3JpZ2luYXRvcjwvdGV4dD48cmVjdCBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjFyazF5c2d4NzRkZXEpIiBoZWlnaHQ9IjMwLjQ4ODMiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9Ijg1IiB4PSIxMjYiIHk9IjE3NC43MzA1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNzEiIHg9IjEzMyIgeT0iMTk1LjI2NTYiPk9yaWdpbmF0b3I8L3RleHQ+PHJlY3QgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxcmsxeXNneDc0ZGVxKSIgaGVpZ2h0PSIzMC40ODgzIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI3OCIgeD0iMjQwLjUiIHk9IjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI2NCIgeD0iMjQ3LjUiIHk9IjIzLjUzNTIiPk1lbWVudG88L3RleHQ+PHJlY3QgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxcmsxeXNneDc0ZGVxKSIgaGVpZ2h0PSIzMC40ODgzIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI3OCIgeD0iMjQwLjUiIHk9IjE3NC43MzA1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNjQiIHg9IjI0Ny41IiB5PSIxOTUuMjY1NiI+TWVtZW50bzwvdGV4dD48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjE1OC41LDY1Ljc5ODgsMTY4LjUsNjkuNzk4OCwxNTguNSw3My43OTg4LDE2Mi41LDY5Ljc5ODgiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiAyLjAsMi4wOyIgeDE9IjUwLjUiIHgyPSIxNjQuNSIgeTE9IjY5Ljc5ODgiIHkyPSI2OS43OTg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iOTYiIHg9IjU3LjUiIHk9IjY1LjA1NjYiPmNyZWF0ZU1lbWVudG88L3RleHQ+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIyNjkuNSw5NS4xMDk0LDI3OS41LDk5LjEwOTQsMjY5LjUsMTAzLjEwOTQsMjczLjUsOTkuMTA5NCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDIuMCwyLjA7IiB4MT0iMTcwLjUiIHgyPSIyNzUuNSIgeTE9Ijk5LjEwOTQiIHkyPSI5OS4xMDk0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iODciIHg9IjE3Ny41IiB5PSI5NC4zNjcyIj5uZXcgTWVtZW50bzwvdGV4dD48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjI2OS41LDEyNC40MTk5LDI3OS41LDEyOC40MTk5LDI2OS41LDEzMi40MTk5LDI3My41LDEyOC40MTk5IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogMi4wLDIuMDsiIHgxPSIxNzAuNSIgeDI9IjI3NS41IiB5MT0iMTI4LjQxOTkiIHkyPSIxMjguNDE5OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjUwIiB4PSIxNzcuNSIgeT0iMTIzLjY3NzciPnNldFN0YXRlPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMTU4LjUsMTUzLjczMDUsMTY4LjUsMTU3LjczMDUsMTU4LjUsMTYxLjczMDUsMTYyLjUsMTU3LjczMDUiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiAyLjAsMi4wOyIgeDE9IjUwLjUiIHgyPSIxNjQuNSIgeTE9IjE1Ny43MzA1IiB5Mj0iMTU3LjczMDUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI3NyIgeD0iNTcuNSIgeT0iMTUyLjk4ODMiPnNldE1lbWVudG88L3RleHQ+PCEtLU1ENT1bMDVjNzU4NDA4ZWEyN2MwZDZiZDNjNzliNzViZTQ1NTVdCkBzdGFydHVtbA0Kc2tpbnBhcmFtIG1vbm9jaHJvbWUgdHJ1ZQ0Kc2tpbnBhcmFtIGNsYXNzQXR0cmlidXRlSWNvblNpemUgMA0Kc2tpbnBhcmFtIGxpbmV0eXBlIG9ydGhvDQoNCkNhcmV0YWtlciAtIC0+IE9yaWdpbmF0b3IgOiBjcmVhdGVNZW1lbnRvDQpPcmlnaW5hdG9yIC0gLT4gTWVtZW50byA6IG5ldyBNZW1lbnRvDQpPcmlnaW5hdG9yIC0gLT4gTWVtZW50byA6IHNldFN0YXRlDQoNCkNhcmV0YWtlciAtIC0+IE9yaWdpbmF0b3IgOiBzZXRNZW1lbnRvDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjAuMTYoTW9uIEF1ZyAyNCAwNDoyMDo0MyBDU1QgMjAyMCkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IHpoCkNvdW50cnk6IENOCi0tPjwvZz48L3N2Zz4='>

<h4 id="观察者模式（OBSERVER）"><a href="#观察者模式（OBSERVER）" class="headerlink" title="观察者模式（OBSERVER）"></a>观察者模式（OBSERVER）</h4><p>定义对象间的一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都得到通知并被自动更新。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjU5cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo0NTFweDtoZWlnaHQ6MjU5cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA0NTEgMjU5IiB3aWR0aD0iNDUxcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZmNqeWFvNGZ4d3JkbyIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVsxNTc2NzAzOTNmOTAxNGVhMzQ4NDdjZWI1ODUxNTc0Yl0KY2xhc3MgSVN1YmplY3QtLT48cmVjdCBjb2RlTGluZT0iNSIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2ZjanlhbzRmeHdyZG8pIiBoZWlnaHQ9Ijk5LjgyMDMiIGlkPSJJU3ViamVjdCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMjQ2IiB4PSI3IiB5PSI3Ii8+PGVsbGlwc2UgY3g9IjEwMy4yNSIgY3k9IjIzIiBmaWxsPSIjQjFCMUIxIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTk5LjE3NzcsMTguNzY1MSBMOTkuMTc3NywxNi42MDY5IEwxMDYuNTU3MSwxNi42MDY5IEwxMDYuNTU3MSwxOC43NjUxIEwxMDQuMDkxOCwxOC43NjUxIEwxMDQuMDkxOCwyNi44NDE4IEwxMDYuNTU3MSwyNi44NDE4IEwxMDYuNTU3MSwyOSBMOTkuMTc3NywyOSBMOTkuMTc3NywyNi44NDE4IEwxMDEuNjQzMSwyNi44NDE4IEwxMDEuNjQzMSwxOC43NjUxIFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI0NSIgeD0iMTIzLjc1IiB5PSIyNy41MzUyIj5JU3ViamVjdDwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI4IiB4Mj0iMjUyIiB5MT0iMzkiIHkyPSIzOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjgiIHgyPSIyNTIiIHkxPSI0NyIgeTI9IjQ3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMjE0IiB4PSIxMyIgeT0iNjEuNjM0OCI+K2FkZE9ic2VydmVyKE9ic2VydmVyIG9ic2VydmVyKTp2b2lkPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjIzNCIgeD0iMTMiIHk9Ijc0LjU4OTgiPityZW1vdmVPYnNlcnZlcihPYnNlcnZlciBvYnNlcnZlcik6dm9pZDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI4OSIgeD0iMTMiIHk9Ijg3LjU0NDkiPitnZXRTdGF0ZSgpOlN0YXRlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9Ijc0IiB4PSIxMyIgeT0iMTAwLjUiPitub3RpZnkoKTp2b2lkPC90ZXh0PjxwYXRoIGQ9Ik0yODguNSwzNi41IEwyODguNSw1MyBMMjUzLjE2NzQsNTcgTDI4OC41LDYxIEwyODguNSw3Ny4xMjExIEEwLDAgMCAwIDAgMjg4LjUsNzcuMTIxMSBMNDM5LjUsNzcuMTIxMSBBMCwwIDAgMCAwIDQzOS41LDc3LjEyMTEgTDQzOS41LDQ2LjUgTDQyOS41LDM2LjUgTDI4OC41LDM2LjUgQTAsMCAwIDAgMCAyODguNSwzNi41ICIgZmlsbD0iI0VDRUNFQyIgZmlsdGVyPSJ1cmwoI2ZjanlhbzRmeHdyZG8pIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNNDI5LjUsMzYuNSBMNDI5LjUsNDYuNSBMNDM5LjUsNDYuNSBMNDI5LjUsMzYuNSAiIGZpbGw9IiNFQ0VDRUMiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEzMCIgeD0iMjk0LjUiIHk9IjU0LjA2ODQiPmZvciBhbGwgbyBpbiBvYnNlcnZlcnM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iODciIHg9IjMyNi41IiB5PSI2OS4zNzg5Ij5vLnVwZGF0ZSh0aGlzKTwvdGV4dD48IS0tTUQ1PVsxZGNmOTRiZTg5ZjFkMWM2YzRmOGY3OTdkYTkwZjVmYV0KY2xhc3MgSU9ic2VydmVyLS0+PHJlY3QgY29kZUxpbmU9IjEzIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZmNqeWFvNGZ4d3JkbykiIGhlaWdodD0iNzMuOTEwMiIgaWQ9IklPYnNlcnZlciIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTczIiB4PSI0My41IiB5PSIxNjciLz48ZWxsaXBzZSBjeD0iOTcuNzUiIGN5PSIxODMiIGZpbGw9IiNCMUIxQjEiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNOTMuNjc3NywxNzguNzY1MSBMOTMuNjc3NywxNzYuNjA2OSBMMTAxLjA1NzEsMTc2LjYwNjkgTDEwMS4wNTcxLDE3OC43NjUxIEw5OC41OTE4LDE3OC43NjUxIEw5OC41OTE4LDE4Ni44NDE4IEwxMDEuMDU3MSwxODYuODQxOCBMMTAxLjA1NzEsMTg5IEw5My42Nzc3LDE4OSBMOTMuNjc3NywxODYuODQxOCBMOTYuMTQzMSwxODYuODQxOCBMOTYuMTQzMSwxNzguNzY1MSBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNTYiIHg9IjExOC4yNSIgeT0iMTg3LjUzNTIiPklPYnNlcnZlcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI0NC41IiB4Mj0iMjE1LjUiIHkxPSIxOTkiIHkyPSIxOTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI2MSIgeD0iNDkuNSIgeT0iMjEzLjYzNDgiPi1zdGF0ZTpTdGF0ZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI0NC41IiB4Mj0iMjE1LjUiIHkxPSIyMTkuOTU1MSIgeTI9IjIxOS45NTUxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTYxIiB4PSI0OS41IiB5PSIyMzQuNTg5OCI+K3VwZGF0ZShTdWJqZWN0IHN1YmplY3QpOnZvaWQ8L3RleHQ+PHBhdGggZD0iTTI1MS41LDE5MS41IEwyNTEuNSwyMDAgTDIxNi43MzUyLDIwNCBMMjUxLjUsMjA4IEwyNTEuNSwyMTYuODEwNSBBMCwwIDAgMCAwIDI1MS41LDIxNi44MTA1IEw0MzAuNSwyMTYuODEwNSBBMCwwIDAgMCAwIDQzMC41LDIxNi44MTA1IEw0MzAuNSwyMDEuNSBMNDIwLjUsMTkxLjUgTDI1MS41LDE5MS41IEEwLDAgMCAwIDAgMjUxLjUsMTkxLjUgIiBmaWxsPSIjRUNFQ0VDIiBmaWx0ZXI9InVybCgjZmNqeWFvNGZ4d3JkbykiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik00MjAuNSwxOTEuNSBMNDIwLjUsMjAxLjUgTDQzMC41LDIwMS41IEw0MjAuNSwxOTEuNSAiIGZpbGw9IiNFQ0VDRUMiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjE1OCIgeD0iMjU3LjUiIHk9IjIwOS4wNjg0Ij5zdGF0ZSA9IHN1YmplY3QuZ2V0U3RhdGUoKTwvdGV4dD48IS0tTUQ1PVs5NDdiOWNmNTAwYzg4ZjZkNjExOWE0ZTljNjNjYjJhM10KbGluayBJU3ViamVjdCB0byBJT2JzZXJ2ZXItLT48cGF0aCBjb2RlTGluZT0iMTkiIGQ9Ik0xMzAsMTE5LjE3NzkgQzEzMCwxMTkuMTc3OSAxMzAsMTUzLjU3NzQgMTMwLDE1My41Nzc0ICIgZmlsbD0ibm9uZSIgaWQ9IklTdWJqZWN0LUlPYnNlcnZlciIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIxMzAsMTY2LjU3NzQsMTM0LDE1Ny41Nzc0LDEzMCwxNjEuNTc3NCwxMjYsMTU3LjU3NzQsMTMwLDE2Ni41Nzc0IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiIHgxPSIxMzAiIHgyPSIxMzAiIHkxPSIxNjEuNTc3NCIgeTI9IjE1My41Nzc0Ii8+PHBvbHlnb24gZmlsbD0iI0ZGRkZGRiIgcG9pbnRzPSIxMzAsMTA3LjE3NzksMTI2LDExMy4xNzc5LDEzMCwxMTkuMTc3OSwxMzQsMTEzLjE3NzksMTMwLDEwNy4xNzc5IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVs2NTQ1NGI1MTFjNTQ4M2VlNjEyZDJmMzczNzcwMDBjOV0KQHN0YXJ0dW1sDQpza2lucGFyYW0gbW9ub2Nocm9tZSB0cnVlDQpza2lucGFyYW0gY2xhc3NBdHRyaWJ1dGVJY29uU2l6ZSAwDQpza2lucGFyYW0gbGluZXR5cGUgb3J0aG8NCg0KaW50ZXJmYWNlIElTdWJqZWN0IHsNCiAgICArIGFkZE9ic2VydmVyKE9ic2VydmVyIG9ic2VydmVyKTp2b2lkDQogICAgKyByZW1vdmVPYnNlcnZlcihPYnNlcnZlciBvYnNlcnZlcik6dm9pZA0KICAgICsgZ2V0U3RhdGUoKTpTdGF0ZQ0KICAgICsgbm90aWZ5KCk6dm9pZA0KfQ0Kbm90ZSByaWdodCA6IGZvciBhbGwgbyBpbiBvYnNlcnZlcnNcblx0by51cGRhdGUodGhpcykNCg0KaW50ZXJmYWNlIElPYnNlcnZlciB7DQogICAgKyB1cGRhdGUoU3ViamVjdCBzdWJqZWN0KTp2b2lkDQogICAgLSBzdGF0ZTpTdGF0ZQ0KfQ0Kbm90ZSByaWdodDogc3RhdGUgPSBzdWJqZWN0LmdldFN0YXRlKCkNCg0KSVN1YmplY3Qgby0gLT5JT2JzZXJ2ZXIgDQoNCkBlbmR1bWwNCgpQbGFudFVNTCB2ZXJzaW9uIDEuMjAyMC4xNihNb24gQXVnIDI0IDA0OjIwOjQzIENTVCAyMDIwKQooR1BMIHNvdXJjZSBkaXN0cmlidXRpb24pCkphdmEgUnVudGltZTogSmF2YShUTSkgU0UgUnVudGltZSBFbnZpcm9ubWVudApKVk06IEphdmEgSG90U3BvdChUTSkgNjQtQml0IFNlcnZlciBWTQpEZWZhdWx0IEVuY29kaW5nOiBVVEYtOApMYW5ndWFnZTogemgKQ291bnRyeTogQ04KLS0+PC9nPjwvc3ZnPg=='>

<h4 id="状态模式（STATE）"><a href="#状态模式（STATE）" class="headerlink" title="状态模式（STATE）"></a>状态模式（STATE）</h4><p>允许一个对象在其内部状态改变时改变它的行为，对象看起来似乎修改了它的类。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjIxcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo1NzlweDtoZWlnaHQ6MjIxcHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1NzkgMjIxIiB3aWR0aD0iNTc5cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjE5dGhwOXVmeG1iZGEiIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PCEtLU1ENT1bNjc1NDM1NDM2NTkxN2FiZjhmMWE1NmFmMWI3ZTM0NGNdCmNsYXNzIENvbnRleHQtLT48cmVjdCBjb2RlTGluZT0iNSIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxOXRocDl1ZnhtYmRhKSIgaGVpZ2h0PSI4Ni44NjUyIiBpZD0iQ29udGV4dCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTc1IiB4PSIxNzEuNSIgeT0iNyIvPjxlbGxpcHNlIGN4PSIyMzIuNzUiIGN5PSIyMyIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0yMzUuNzIzMSwyOC42NDMxIFEyMzUuMTQyMSwyOC45NDE5IDIzNC41MDI5LDI5LjA5MTMgUTIzMy44NjM4LDI5LjI0MDcgMjMzLjE1ODIsMjkuMjQwNyBRMjMwLjY1MTQsMjkuMjQwNyAyMjkuMzMxNSwyNy41ODg5IFEyMjguMDExNywyNS45MzcgMjI4LjAxMTcsMjIuODE1OSBRMjI4LjAxMTcsMTkuNjg2NSAyMjkuMzMxNSwxOC4wMzQ3IFEyMzAuNjUxNCwxNi4zODI4IDIzMy4xNTgyLDE2LjM4MjggUTIzMy44NjM4LDE2LjM4MjggMjM0LjUxMTIsMTYuNTMyMiBRMjM1LjE1ODcsMTYuNjgxNiAyMzUuNzIzMSwxNi45ODA1IEwyMzUuNzIzMSwxOS43MDMxIFEyMzUuMDkyMywxOS4xMjIxIDIzNC40OTg4LDE4Ljg1MjMgUTIzMy45MDUzLDE4LjU4MjUgMjMzLjI3NDQsMTguNTgyNSBRMjMxLjkyOTcsMTguNTgyNSAyMzEuMjQ0OSwxOS42NDkyIFEyMzAuNTYwMSwyMC43MTU4IDIzMC41NjAxLDIyLjgxNTkgUTIzMC41NjAxLDI0LjkwNzcgMjMxLjI0NDksMjUuOTc0NCBRMjMxLjkyOTcsMjcuMDQxIDIzMy4yNzQ0LDI3LjA0MSBRMjMzLjkwNTMsMjcuMDQxIDIzNC40OTg4LDI2Ljc3MTIgUTIzNS4wOTIzLDI2LjUwMTUgMjM1LjcyMzEsMjUuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjQ0IiB4PSIyNTMuMjUiIHk9IjI3LjUzNTIiPkNvbnRleHQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTcyLjUiIHgyPSIzNDUuNSIgeTE9IjM5IiB5Mj0iMzkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI2MSIgeD0iMTc3LjUiIHk9IjUzLjYzNDgiPi1zdGF0ZTpTdGF0ZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxNzIuNSIgeDI9IjM0NS41IiB5MT0iNTkuOTU1MSIgeTI9IjU5Ljk1NTEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI4NCIgeD0iMTc3LjUiIHk9Ijc0LjU4OTgiPityZXF1ZXN0KCk6dm9pZDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxNjMiIHg9IjE3Ny41IiB5PSI4Ny41NDQ5Ij4rY2hhbmdlU3RhdGUoU3RhdGUgc3RhdGUpOnZvaWQ8L3RleHQ+PHBhdGggZD0iTTYsMzggTDYsNjMuMzEwNSBBMCwwIDAgMCAwIDYsNjMuMzEwNSBMMTM2LDYzLjMxMDUgQTAsMCAwIDAgMCAxMzYsNjMuMzEwNSBMMTM2LDU2IEwxNzEuMzcxNiw1MSBMMTM2LDQ4IEwxMzYsNDggTDEyNiwzOCBMNiwzOCBBMCwwIDAgMCAwIDYsMzggIiBmaWxsPSIjRUNFQ0VDIiBmaWx0ZXI9InVybCgjZjE5dGhwOXVmeG1iZGEpIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMTI2LDM4IEwxMjYsNDggTDEzNiw0OCBMMTI2LDM4ICIgZmlsbD0iI0VDRUNFQyIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTA5IiB4PSIxMiIgeT0iNTUuNTY4NCI+c3RhdGUuaGFuZGxlKHRoaXMpPC90ZXh0PjwhLS1NRDU9WzYwZDZiOTI0MDhmOThhZWQ4ZGY5NGQ1YzZlMDRhYTYzXQpjbGFzcyBTdGF0ZS0tPjxyZWN0IGNvZGVMaW5lPSIxMSIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxOXRocDl1ZnhtYmRhKSIgaGVpZ2h0PSI2MC45NTUxIiBpZD0iU3RhdGUiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjE3OCIgeD0iMzgyIiB5PSIyMCIvPjxlbGxpcHNlIGN4PSI0NTIuNzUiIGN5PSIzNiIgZmlsbD0iI0NEQ0RDRCIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik00NTIuODYzMywzMS4zNDgxIEw0NTEuNzA5NSwzNi40MTk5IEw0NTQuMDI1NCwzNi40MTk5IFogTTQ1MS4zNjkxLDI5LjEwNjkgTDQ1NC4zNjU3LDI5LjEwNjkgTDQ1Ny43MTA5LDQxLjUgTDQ1NS4yNjIyLDQxLjUgTDQ1NC40OTg1LDM4LjQzNyBMNDUxLjIxOTcsMzguNDM3IEw0NTAuNDcyNyw0MS41IEw0NDguMDIzOSw0MS41IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIyOCIgeD0iNDczLjI1IiB5PSI0MC41MzUyIj5TdGF0ZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIzODMiIHgyPSI1NTkiIHkxPSI1MiIgeTI9IjUyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMzgzIiB4Mj0iNTU5IiB5MT0iNjAiIHkyPSI2MCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjE2NiIgeD0iMzg4IiB5PSI3NC42MzQ4Ij4raGFuZGxlKENvbnRleHQgY29udGV4dCk6dm9pZDwvdGV4dD48IS0tTUQ1PVtkMjFhZDE3MTY0MjEzN2M4MDQ4NDkzMTRjMGVmYzZlZl0KY2xhc3MgU3RhdGVBLS0+PHJlY3QgY29kZUxpbmU9IjE0IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjE5dGhwOXVmeG1iZGEpIiBoZWlnaHQ9IjQ4IiBpZD0iU3RhdGVBIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI2OCIgeD0iMzg1IiB5PSIxNTQiLz48ZWxsaXBzZSBjeD0iNDAwIiBjeT0iMTcwIiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTQwMi45NzMxLDE3NS42NDMxIFE0MDIuMzkyMSwxNzUuOTQxOSA0MDEuNzUyOSwxNzYuMDkxMyBRNDAxLjExMzgsMTc2LjI0MDcgNDAwLjQwODIsMTc2LjI0MDcgUTM5Ny45MDE0LDE3Ni4yNDA3IDM5Ni41ODE1LDE3NC41ODg5IFEzOTUuMjYxNywxNzIuOTM3IDM5NS4yNjE3LDE2OS44MTU5IFEzOTUuMjYxNywxNjYuNjg2NSAzOTYuNTgxNSwxNjUuMDM0NyBRMzk3LjkwMTQsMTYzLjM4MjggNDAwLjQwODIsMTYzLjM4MjggUTQwMS4xMTM4LDE2My4zODI4IDQwMS43NjEyLDE2My41MzIyIFE0MDIuNDA4NywxNjMuNjgxNiA0MDIuOTczMSwxNjMuOTgwNSBMNDAyLjk3MzEsMTY2LjcwMzEgUTQwMi4zNDIzLDE2Ni4xMjIxIDQwMS43NDg4LDE2NS44NTIzIFE0MDEuMTU1MywxNjUuNTgyNSA0MDAuNTI0NCwxNjUuNTgyNSBRMzk5LjE3OTcsMTY1LjU4MjUgMzk4LjQ5NDksMTY2LjY0OTIgUTM5Ny44MTAxLDE2Ny43MTU4IDM5Ny44MTAxLDE2OS44MTU5IFEzOTcuODEwMSwxNzEuOTA3NyAzOTguNDk0OSwxNzIuOTc0NCBRMzk5LjE3OTcsMTc0LjA0MSA0MDAuNTI0NCwxNzQuMDQxIFE0MDEuMTU1MywxNzQuMDQxIDQwMS43NDg4LDE3My43NzEyIFE0MDIuMzQyMywxNzMuNTAxNSA0MDIuOTczMSwxNzIuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjM2IiB4PSI0MTQiIHk9IjE3NC41MzUyIj5TdGF0ZUE8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMzg2IiB4Mj0iNDUyIiB5MT0iMTg2IiB5Mj0iMTg2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMzg2IiB4Mj0iNDUyIiB5MT0iMTk0IiB5Mj0iMTk0Ii8+PCEtLU1ENT1bMzg3YjY0MzI4ZDQxNzk2NzJjMWJlYmMwN2Q3NzU5MGVdCmNsYXNzIFN0YXRlQi0tPjxyZWN0IGNvZGVMaW5lPSIxNSIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxOXRocDl1ZnhtYmRhKSIgaGVpZ2h0PSI0OCIgaWQ9IlN0YXRlQiIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNjciIHg9IjQ4OC41IiB5PSIxNTQiLz48ZWxsaXBzZSBjeD0iNTAzLjUiIGN5PSIxNzAiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNNTA2LjQ3MzEsMTc1LjY0MzEgUTUwNS44OTIxLDE3NS45NDE5IDUwNS4yNTI5LDE3Ni4wOTEzIFE1MDQuNjEzOCwxNzYuMjQwNyA1MDMuOTA4MiwxNzYuMjQwNyBRNTAxLjQwMTQsMTc2LjI0MDcgNTAwLjA4MTUsMTc0LjU4ODkgUTQ5OC43NjE3LDE3Mi45MzcgNDk4Ljc2MTcsMTY5LjgxNTkgUTQ5OC43NjE3LDE2Ni42ODY1IDUwMC4wODE1LDE2NS4wMzQ3IFE1MDEuNDAxNCwxNjMuMzgyOCA1MDMuOTA4MiwxNjMuMzgyOCBRNTA0LjYxMzgsMTYzLjM4MjggNTA1LjI2MTIsMTYzLjUzMjIgUTUwNS45MDg3LDE2My42ODE2IDUwNi40NzMxLDE2My45ODA1IEw1MDYuNDczMSwxNjYuNzAzMSBRNTA1Ljg0MjMsMTY2LjEyMjEgNTA1LjI0ODgsMTY1Ljg1MjMgUTUwNC42NTUzLDE2NS41ODI1IDUwNC4wMjQ0LDE2NS41ODI1IFE1MDIuNjc5NywxNjUuNTgyNSA1MDEuOTk0OSwxNjYuNjQ5MiBRNTAxLjMxMDEsMTY3LjcxNTggNTAxLjMxMDEsMTY5LjgxNTkgUTUwMS4zMTAxLDE3MS45MDc3IDUwMS45OTQ5LDE3Mi45NzQ0IFE1MDIuNjc5NywxNzQuMDQxIDUwNC4wMjQ0LDE3NC4wNDEgUTUwNC42NTUzLDE3NC4wNDEgNTA1LjI0ODgsMTczLjc3MTIgUTUwNS44NDIzLDE3My41MDE1IDUwNi40NzMxLDE3Mi45MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMzUiIHg9IjUxNy41IiB5PSIxNzQuNTM1MiI+U3RhdGVCPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjQ4OS41IiB4Mj0iNTU0LjUiIHkxPSIxODYiIHkyPSIxODYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI0ODkuNSIgeDI9IjU1NC41IiB5MT0iMTk0IiB5Mj0iMTk0Ii8+PCEtLU1ENT1bMjU2ODhkZTVlY2I0ZGU3MmE4YWIzMGI5MjIzMGVmODddCnJldmVyc2UgbGluayBTdGF0ZSB0byBTdGF0ZUEtLT48cGF0aCBkPSJNNDE5LDEwMS4wMzk0IEM0MTksMTAxLjAzOTQgNDE5LDE1My42NzQ2IDQxOSwxNTMuNjc0NiAiIGZpbGw9Im5vbmUiIGlkPSJTdGF0ZS1iYWNrdG8tU3RhdGVBIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjQxMi4wMDAxLDEwMS4wMzk1LDQxOSw4MS4wMzk0LDQyNi4wMDAxLDEwMS4wMzk0LDQxMi4wMDAxLDEwMS4wMzk1IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVs3NTFhZjA0ZmMwNDhkYWRiYTFhZWI2MGM0MDEyYTZjY10KcmV2ZXJzZSBsaW5rIFN0YXRlIHRvIFN0YXRlQi0tPjxwYXRoIGQ9Ik01MjIsMTAxLjAzOTQgQzUyMiwxMDEuMDM5NCA1MjIsMTUzLjY3NDYgNTIyLDE1My42NzQ2ICIgZmlsbD0ibm9uZSIgaWQ9IlN0YXRlLWJhY2t0by1TdGF0ZUIiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iNTE1LjAwMDEsMTAxLjAzOTUsNTIyLDgxLjAzOTQsNTI5LjAwMDEsMTAxLjAzOTQsNTE1LjAwMDEsMTAxLjAzOTUiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzY0NDk1YjhmYmY5ZTc5YTA4MGY0NDlkNDFlNWE2MjEzXQpsaW5rIENvbnRleHQgdG8gU3RhdGUtLT48cGF0aCBjb2RlTGluZT0iMTYiIGQ9Ik0zNTguNzU4OCw1MSBDMzU4Ljc1ODgsNTEgMzY4LjkzODgsNTEgMzY4LjkzODgsNTEgIiBmaWxsPSJub25lIiBpZD0iQ29udGV4dC1TdGF0ZSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSIzODEuOTM4OCw1MSwzNzIuOTM4OCw0NywzNzYuOTM4OCw1MSwzNzIuOTM4OCw1NSwzODEuOTM4OCw1MSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMzc2LjkzODgiIHgyPSIzNjguOTM4OSIgeTE9IjUxIiB5Mj0iNTAuOTk5OSIvPjxwb2x5Z29uIGZpbGw9IiNGRkZGRkYiIHBvaW50cz0iMzQ2Ljc1ODgsNTEsMzUyLjc1ODgsNTUsMzU4Ljc1ODgsNTEsMzUyLjc1ODgsNDcsMzQ2Ljc1ODgsNTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzM0ZmQzYTQyMjAwMDE5NWY2ZDM5ZDY1NzQxZTdhMThhXQpAc3RhcnR1bWwNCnNraW5wYXJhbSBtb25vY2hyb21lIHRydWUNCnNraW5wYXJhbSBjbGFzc0F0dHJpYnV0ZUljb25TaXplIDANCnNraW5wYXJhbSBsaW5ldHlwZSBvcnRobw0KDQpjbGFzcyBDb250ZXh0IHsNCiAgICAtIHN0YXRlOlN0YXRlDQogICAgKyByZXF1ZXN0KCk6dm9pZA0KICAgICsgY2hhbmdlU3RhdGUoU3RhdGUgc3RhdGUpOnZvaWQNCn0NCm5vdGUgbGVmdDogc3RhdGUuaGFuZGxlKHRoaXMpDQphYnN0cmFjdCBjbGFzcyBTdGF0ZSB7DQogICAgKyBoYW5kbGUoQ29udGV4dCBjb250ZXh0KTp2b2lkDQp9DQpjbGFzcyBTdGF0ZUEgZXh0ZW5kcyBTdGF0ZSB7fQ0KY2xhc3MgU3RhdGVCIGV4dGVuZHMgU3RhdGUge30NCkNvbnRleHQgby0+IFN0YXRlDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjAuMTYoTW9uIEF1ZyAyNCAwNDoyMDo0MyBDU1QgMjAyMCkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IHpoCkNvdW50cnk6IENOCi0tPjwvZz48L3N2Zz4='>

<h4 id="策略模式（STRATEGY）"><a href="#策略模式（STRATEGY）" class="headerlink" title="策略模式（STRATEGY）"></a>策略模式（STRATEGY）</h4><p>定义一系列的算法，把它们一个个封装起来，并且使它们可相互替换，使得算法可独立于使用它的客户而变化。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjA4cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDozMTlweDtoZWlnaHQ6MjA4cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzMTkgMjA4IiB3aWR0aD0iMzE5cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZmFwMnpjMWloOHFoNSIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVs2NzU0MzU0MzY1OTE3YWJmOGYxYTU2YWYxYjdlMzQ0Y10KY2xhc3MgQ29udGV4dC0tPjxyZWN0IGNvZGVMaW5lPSI0IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZmFwMnpjMWloOHFoNSkiIGhlaWdodD0iNzMuOTEwMiIgaWQ9IkNvbnRleHQiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjExNSIgeD0iNyIgeT0iNyIvPjxlbGxpcHNlIGN4PSIzOS41NSIgY3k9IjIzIiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTQyLjUyMzEsMjguNjQzMSBRNDEuOTQyMSwyOC45NDE5IDQxLjMwMjksMjkuMDkxMyBRNDAuNjYzOCwyOS4yNDA3IDM5Ljk1ODIsMjkuMjQwNyBRMzcuNDUxNCwyOS4yNDA3IDM2LjEzMTUsMjcuNTg4OSBRMzQuODExNywyNS45MzcgMzQuODExNywyMi44MTU5IFEzNC44MTE3LDE5LjY4NjUgMzYuMTMxNSwxOC4wMzQ3IFEzNy40NTE0LDE2LjM4MjggMzkuOTU4MiwxNi4zODI4IFE0MC42NjM4LDE2LjM4MjggNDEuMzExMiwxNi41MzIyIFE0MS45NTg3LDE2LjY4MTYgNDIuNTIzMSwxNi45ODA1IEw0Mi41MjMxLDE5LjcwMzEgUTQxLjg5MjMsMTkuMTIyMSA0MS4yOTg4LDE4Ljg1MjMgUTQwLjcwNTMsMTguNTgyNSA0MC4wNzQ0LDE4LjU4MjUgUTM4LjcyOTcsMTguNTgyNSAzOC4wNDQ5LDE5LjY0OTIgUTM3LjM2MDEsMjAuNzE1OCAzNy4zNjAxLDIyLjgxNTkgUTM3LjM2MDEsMjQuOTA3NyAzOC4wNDQ5LDI1Ljk3NDQgUTM4LjcyOTcsMjcuMDQxIDQwLjA3NDQsMjcuMDQxIFE0MC43MDUzLDI3LjA0MSA0MS4yOTg4LDI2Ljc3MTIgUTQxLjg5MjMsMjYuNTAxNSA0Mi41MjMxLDI1LjkyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI0NCIgeD0iNTcuNDUiIHk9IjI3LjUzNTIiPkNvbnRleHQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iOCIgeDI9IjEyMSIgeTE9IjM5IiB5Mj0iMzkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMDMiIHg9IjEzIiB5PSI1My42MzQ4Ij4tc3RyYXRlZ3k6IElTdHJhdGVneTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI4IiB4Mj0iMTIxIiB5MT0iNTkuOTU1MSIgeTI9IjU5Ljk1NTEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI4OCIgeD0iMTMiIHk9Ijc0LjU4OTgiPitkb1NvbWV0aGluZygpPC90ZXh0PjwhLS1NRDU9WzczMTg5Y2Q3OGU4OGU0NTViZmE4MTNlYzU3Yzc4MjdmXQpjbGFzcyBJU3RyYXRlZ3ktLT48cmVjdCBjb2RlTGluZT0iOCIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2ZhcDJ6YzFpaDhxaDUpIiBoZWlnaHQ9IjYwLjk1NTEiIGlkPSJJU3RyYXRlZ3kiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjgxIiB4PSIxNTciIHk9IjEzLjUiLz48ZWxsaXBzZSBjeD0iMTcyIiBjeT0iMjkuNSIgZmlsbD0iI0IxQjFCMSIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0xNjcuOTI3NywyNS4yNjUxIEwxNjcuOTI3NywyMy4xMDY5IEwxNzUuMzA3MSwyMy4xMDY5IEwxNzUuMzA3MSwyNS4yNjUxIEwxNzIuODQxOCwyNS4yNjUxIEwxNzIuODQxOCwzMy4zNDE4IEwxNzUuMzA3MSwzMy4zNDE4IEwxNzUuMzA3MSwzNS41IEwxNjcuOTI3NywzNS41IEwxNjcuOTI3NywzMy4zNDE4IEwxNzAuMzkzMSwzMy4zNDE4IEwxNzAuMzkzMSwyNS4yNjUxIFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI0OSIgeD0iMTg2IiB5PSIzNC4wMzUyIj5JU3RyYXRlZ3k8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTU4IiB4Mj0iMjM3IiB5MT0iNDUuNSIgeTI9IjQ1LjUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxNTgiIHgyPSIyMzciIHkxPSI1My41IiB5Mj0iNTMuNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjY5IiB4PSIxNjMiIHk9IjY4LjEzNDgiPithbGdvcml0aG0oKTwvdGV4dD48IS0tTUQ1PVtmYjJjMzZiMjIyODAzNjkxMmRlZDg2OTQ5NjY3MzU1OV0KY2xhc3MgU3RyYXRlZ3lBLS0+PHJlY3QgY29kZUxpbmU9IjEyIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZmFwMnpjMWloOHFoNSkiIGhlaWdodD0iNDgiIGlkPSJTdHJhdGVneUEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9Ijg2IiB4PSI5My41IiB5PSIxNDEiLz48ZWxsaXBzZSBjeD0iMTA4LjUiIGN5PSIxNTciIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMTExLjQ3MzEsMTYyLjY0MzEgUTExMC44OTIxLDE2Mi45NDE5IDExMC4yNTI5LDE2My4wOTEzIFExMDkuNjEzOCwxNjMuMjQwNyAxMDguOTA4MiwxNjMuMjQwNyBRMTA2LjQwMTQsMTYzLjI0MDcgMTA1LjA4MTUsMTYxLjU4ODkgUTEwMy43NjE3LDE1OS45MzcgMTAzLjc2MTcsMTU2LjgxNTkgUTEwMy43NjE3LDE1My42ODY1IDEwNS4wODE1LDE1Mi4wMzQ3IFExMDYuNDAxNCwxNTAuMzgyOCAxMDguOTA4MiwxNTAuMzgyOCBRMTA5LjYxMzgsMTUwLjM4MjggMTEwLjI2MTIsMTUwLjUzMjIgUTExMC45MDg3LDE1MC42ODE2IDExMS40NzMxLDE1MC45ODA1IEwxMTEuNDczMSwxNTMuNzAzMSBRMTEwLjg0MjMsMTUzLjEyMjEgMTEwLjI0ODgsMTUyLjg1MjMgUTEwOS42NTUzLDE1Mi41ODI1IDEwOS4wMjQ0LDE1Mi41ODI1IFExMDcuNjc5NywxNTIuNTgyNSAxMDYuOTk0OSwxNTMuNjQ5MiBRMTA2LjMxMDEsMTU0LjcxNTggMTA2LjMxMDEsMTU2LjgxNTkgUTEwNi4zMTAxLDE1OC45MDc3IDEwNi45OTQ5LDE1OS45NzQ0IFExMDcuNjc5NywxNjEuMDQxIDEwOS4wMjQ0LDE2MS4wNDEgUTEwOS42NTUzLDE2MS4wNDEgMTEwLjI0ODgsMTYwLjc3MTIgUTExMC44NDIzLDE2MC41MDE1IDExMS40NzMxLDE1OS45MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNTQiIHg9IjEyMi41IiB5PSIxNjEuNTM1MiI+U3RyYXRlZ3lBPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9Ijk0LjUiIHgyPSIxNzguNSIgeTE9IjE3MyIgeTI9IjE3MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9Ijk0LjUiIHgyPSIxNzguNSIgeTE9IjE4MSIgeTI9IjE4MSIvPjwhLS1NRDU9WzUyMjVlYWIzYzlmYjRiNmIyZDMxMTllNmQ1NjFhY2ZmXQpjbGFzcyBTdHJhdGVneUItLT48cmVjdCBjb2RlTGluZT0iMTMiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmYXAyemMxaWg4cWg1KSIgaGVpZ2h0PSI0OCIgaWQ9IlN0cmF0ZWd5QiIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iODUiIHg9IjIxNSIgeT0iMTQxIi8+PGVsbGlwc2UgY3g9IjIzMCIgY3k9IjE1NyIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0yMzIuOTczMSwxNjIuNjQzMSBRMjMyLjM5MjEsMTYyLjk0MTkgMjMxLjc1MjksMTYzLjA5MTMgUTIzMS4xMTM4LDE2My4yNDA3IDIzMC40MDgyLDE2My4yNDA3IFEyMjcuOTAxNCwxNjMuMjQwNyAyMjYuNTgxNSwxNjEuNTg4OSBRMjI1LjI2MTcsMTU5LjkzNyAyMjUuMjYxNywxNTYuODE1OSBRMjI1LjI2MTcsMTUzLjY4NjUgMjI2LjU4MTUsMTUyLjAzNDcgUTIyNy45MDE0LDE1MC4zODI4IDIzMC40MDgyLDE1MC4zODI4IFEyMzEuMTEzOCwxNTAuMzgyOCAyMzEuNzYxMiwxNTAuNTMyMiBRMjMyLjQwODcsMTUwLjY4MTYgMjMyLjk3MzEsMTUwLjk4MDUgTDIzMi45NzMxLDE1My43MDMxIFEyMzIuMzQyMywxNTMuMTIyMSAyMzEuNzQ4OCwxNTIuODUyMyBRMjMxLjE1NTMsMTUyLjU4MjUgMjMwLjUyNDQsMTUyLjU4MjUgUTIyOS4xNzk3LDE1Mi41ODI1IDIyOC40OTQ5LDE1My42NDkyIFEyMjcuODEwMSwxNTQuNzE1OCAyMjcuODEwMSwxNTYuODE1OSBRMjI3LjgxMDEsMTU4LjkwNzcgMjI4LjQ5NDksMTU5Ljk3NDQgUTIyOS4xNzk3LDE2MS4wNDEgMjMwLjUyNDQsMTYxLjA0MSBRMjMxLjE1NTMsMTYxLjA0MSAyMzEuNzQ4OCwxNjAuNzcxMiBRMjMyLjM0MjMsMTYwLjUwMTUgMjMyLjk3MzEsMTU5LjkyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI1MyIgeD0iMjQ0IiB5PSIxNjEuNTM1MiI+U3RyYXRlZ3lCPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjIxNiIgeDI9IjI5OSIgeTE9IjE3MyIgeTI9IjE3MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjIxNiIgeDI9IjI5OSIgeTE9IjE4MSIgeTI9IjE4MSIvPjwhLS1NRDU9W2YxNGUwNzhkODI1ZGVhYzYyOGE5ZGUxYmY0MjUwNDdjXQpyZXZlcnNlIGxpbmsgSVN0cmF0ZWd5IHRvIFN0cmF0ZWd5QS0tPjxwYXRoIGQ9Ik0xNjguMjUsOTQuNTMzNCBDMTY4LjI1LDk0LjUzMzQgMTY4LjI1LDE0MC45NTg3IDE2OC4yNSwxNDAuOTU4NyAiIGZpbGw9Im5vbmUiIGlkPSJJU3RyYXRlZ3ktYmFja3RvLVN0cmF0ZWd5QSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSIxNjEuMjUwMSw5NC41MzM0LDE2OC4yNSw3NC41MzM0LDE3NS4yNTAxLDk0LjUzMzQsMTYxLjI1MDEsOTQuNTMzNCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bNzFjZThjYjcyMTZjYTI3M2U5NjQ4NmZhMGY2MThjNjldCnJldmVyc2UgbGluayBJU3RyYXRlZ3kgdG8gU3RyYXRlZ3lCLS0+PHBhdGggZD0iTTIyNi41LDk0LjUzMzQgQzIyNi41LDk0LjUzMzQgMjI2LjUsMTQwLjk1ODcgMjI2LjUsMTQwLjk1ODcgIiBmaWxsPSJub25lIiBpZD0iSVN0cmF0ZWd5LWJhY2t0by1TdHJhdGVneUIiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMjE5LjUwMDEsOTQuNTMzNCwyMjYuNSw3NC41MzM0LDIzMy41MDAxLDk0LjUzMzQsMjE5LjUwMDEsOTQuNTMzNCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bMWFhOWJiM2MwMTZjMDZhMWRmMjRiNGNhYjQ3NWUzMzldCmxpbmsgQ29udGV4dCB0byBJU3RyYXRlZ3ktLT48cGF0aCBjb2RlTGluZT0iMTUiIGQ9Ik0xMzQuMDYyMiw0NCBDMTM0LjA2MjIsNDQgMTQzLjY3NjIsNDQgMTQzLjY3NjIsNDQgIiBmaWxsPSJub25lIiBpZD0iQ29udGV4dC1JU3RyYXRlZ3kiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iMTU2LjY3NjIsNDQsMTQ3LjY3NjIsNDAsMTUxLjY3NjIsNDQsMTQ3LjY3NjIsNDgsMTU2LjY3NjIsNDQiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIgeDE9IjE1MS42NzYyIiB4Mj0iMTQzLjY3NjIiIHkxPSI0NCIgeTI9IjQzLjk5OTkiLz48cG9seWdvbiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9IjEyMi4wNjIyLDQ0LDEyOC4wNjIyLDQ4LDEzNC4wNjIyLDQ0LDEyOC4wNjIyLDQwLDEyMi4wNjIyLDQ0IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVsxMDJhMjlmMWY2YmI4NGJlZDZkMjdjZjJjNmE2ODBiZl0KQHN0YXJ0dW1sDQpza2lucGFyYW0gbW9ub2Nocm9tZSB0cnVlDQpza2lucGFyYW0gY2xhc3NBdHRyaWJ1dGVJY29uU2l6ZSAwDQpza2lucGFyYW0gbGluZXR5cGUgb3J0aG8NCmNsYXNzIENvbnRleHQgew0KICAgIC0gc3RyYXRlZ3k6IElTdHJhdGVneQ0KICAgICsgZG9Tb21ldGhpbmcoKQ0KfQ0KaW50ZXJmYWNlIElTdHJhdGVneSB7DQogICAgKyBhbGdvcml0aG0oKQ0KfQ0KDQpjbGFzcyBTdHJhdGVneUEgaW1wbGVtZW50cyBJU3RyYXRlZ3kge30NCmNsYXNzIFN0cmF0ZWd5QiBpbXBsZW1lbnRzIElTdHJhdGVneSB7fQ0KDQpDb250ZXh0ICBvLT4gSVN0cmF0ZWd5DQoNCkBlbmR1bWwNCgpQbGFudFVNTCB2ZXJzaW9uIDEuMjAyMC4xNihNb24gQXVnIDI0IDA0OjIwOjQzIENTVCAyMDIwKQooR1BMIHNvdXJjZSBkaXN0cmlidXRpb24pCkphdmEgUnVudGltZTogSmF2YShUTSkgU0UgUnVudGltZSBFbnZpcm9ubWVudApKVk06IEphdmEgSG90U3BvdChUTSkgNjQtQml0IFNlcnZlciBWTQpEZWZhdWx0IEVuY29kaW5nOiBVVEYtOApMYW5ndWFnZTogemgKQ291bnRyeTogQ04KLS0+PC9nPjwvc3ZnPg=='>

<h4 id="模板方法模式（TEMPLATE-METHOD）"><a href="#模板方法模式（TEMPLATE-METHOD）" class="headerlink" title="模板方法模式（TEMPLATE METHOD）"></a>模板方法模式（TEMPLATE METHOD）</h4><p>定义一个操作中的算法骨架，而将一些步骤延迟到子类中，使得子类可以不改变一个算法的结构即可重定义该算法的某些特定步骤。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjQ2cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDoxNjdweDtoZWlnaHQ6MjQ2cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxNjcgMjQ2IiB3aWR0aD0iMTY3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjc5YWZ5ejZ2OXZhZCIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVtmYjNhMzZlNmFjZDY5NDU3YTEyZGNhYTk4NGM3ODE5Ml0KY2xhc3MgQWJzdHJhY3RDbGFzcy0tPjxyZWN0IGNvZGVMaW5lPSI0IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjc5YWZ5ejZ2OXZhZCkiIGhlaWdodD0iODYuODY1MiIgaWQ9IkFic3RyYWN0Q2xhc3MiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjE0MSIgeD0iNyIgeT0iNyIvPjxlbGxpcHNlIGN4PSIzNS45NSIgY3k9IjIzIiBmaWxsPSIjQ0RDRENEIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTM2LjA2MzMsMTguMzQ4MSBMMzQuOTA5NSwyMy40MTk5IEwzNy4yMjU0LDIzLjQxOTkgWiBNMzQuNTY5MSwxNi4xMDY5IEwzNy41NjU3LDE2LjEwNjkgTDQwLjkxMDksMjguNSBMMzguNDYyMiwyOC41IEwzNy42OTg1LDI1LjQzNyBMMzQuNDE5NywyNS40MzcgTDMzLjY3MjcsMjguNSBMMzEuMjIzOSwyOC41IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI3OCIgeD0iNTMuMDUiIHk9IjI3LjUzNTIiPkFic3RyYWN0Q2xhc3M8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iOCIgeDI9IjE0NyIgeTE9IjM5IiB5Mj0iMzkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI4IiB4Mj0iMTQ3IiB5MT0iNDciIHkyPSI0NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEyOSIgeD0iMTMiIHk9IjYxLjYzNDgiPit0ZW1wbGF0ZU1ldGhvZCgpOnZvaWQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMDIiIHg9IjEzIiB5PSI3NC41ODk4Ij4rb3BlcmF0aW9uMSgpOnZvaWQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMDIiIHg9IjEzIiB5PSI4Ny41NDQ5Ij4rb3BlcmF0aW9uMigpOnZvaWQ8L3RleHQ+PCEtLU1ENT1bNDg4NGI3ZDg5YjJhYzk2ZjA1ZmE2MTE0MDYzOGU4NTFdCmNsYXNzIENvbmNyZXRlQ2xhc3MtLT48cmVjdCBjb2RlTGluZT0iMTAiIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmNzlhZnl6NnY5dmFkKSIgaGVpZ2h0PSI3My45MTAyIiBpZD0iQ29uY3JldGVDbGFzcyIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTE0IiB4PSIyMC41IiB5PSIxNTQiLz48ZWxsaXBzZSBjeD0iMzUuOTUiIGN5PSIxNzAiIGZpbGw9IiNDMkMyQzIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMzguOTIzMSwxNzUuNjQzMSBRMzguMzQyMSwxNzUuOTQxOSAzNy43MDI5LDE3Ni4wOTEzIFEzNy4wNjM4LDE3Ni4yNDA3IDM2LjM1ODIsMTc2LjI0MDcgUTMzLjg1MTQsMTc2LjI0MDcgMzIuNTMxNSwxNzQuNTg4OSBRMzEuMjExNywxNzIuOTM3IDMxLjIxMTcsMTY5LjgxNTkgUTMxLjIxMTcsMTY2LjY4NjUgMzIuNTMxNSwxNjUuMDM0NyBRMzMuODUxNCwxNjMuMzgyOCAzNi4zNTgyLDE2My4zODI4IFEzNy4wNjM4LDE2My4zODI4IDM3LjcxMTIsMTYzLjUzMjIgUTM4LjM1ODcsMTYzLjY4MTYgMzguOTIzMSwxNjMuOTgwNSBMMzguOTIzMSwxNjYuNzAzMSBRMzguMjkyMywxNjYuMTIyMSAzNy42OTg4LDE2NS44NTIzIFEzNy4xMDUzLDE2NS41ODI1IDM2LjQ3NDQsMTY1LjU4MjUgUTM1LjEyOTcsMTY1LjU4MjUgMzQuNDQ0OSwxNjYuNjQ5MiBRMzMuNzYwMSwxNjcuNzE1OCAzMy43NjAxLDE2OS44MTU5IFEzMy43NjAxLDE3MS45MDc3IDM0LjQ0NDksMTcyLjk3NDQgUTM1LjEyOTcsMTc0LjA0MSAzNi40NzQ0LDE3NC4wNDEgUTM3LjEwNTMsMTc0LjA0MSAzNy42OTg4LDE3My43NzEyIFEzOC4yOTIzLDE3My41MDE1IDM4LjkyMzEsMTcyLjkyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI4MSIgeD0iNTAuMDUiIHk9IjE3NC41MzUyIj5Db25jcmV0ZUNsYXNzPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjIxLjUiIHgyPSIxMzMuNSIgeTE9IjE4NiIgeTI9IjE4NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjIxLjUiIHgyPSIxMzMuNSIgeTE9IjE5NCIgeTI9IjE5NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEwMiIgeD0iMjYuNSIgeT0iMjA4LjYzNDgiPitvcGVyYXRpb24xKCk6dm9pZDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMDIiIHg9IjI2LjUiIHk9IjIyMS41ODk4Ij4rb3BlcmF0aW9uMigpOnZvaWQ8L3RleHQ+PCEtLU1ENT1bNjg0NDdjNzdmZmMyNzljYWFjYjUxNzY3Yzk2OThkODNdCnJldmVyc2UgbGluayBBYnN0cmFjdENsYXNzIHRvIENvbmNyZXRlQ2xhc3MtLT48cGF0aCBkPSJNNzcuNSwxMTQuMTg0OSBDNzcuNSwxMTQuMTg0OSA3Ny41LDE1My45Njc2IDc3LjUsMTUzLjk2NzYgIiBmaWxsPSJub25lIiBpZD0iQWJzdHJhY3RDbGFzcy1iYWNrdG8tQ29uY3JldGVDbGFzcyIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSI3MC41MDAxLDExNC4xODQ5LDc3LjUsOTQuMTg0OSw4NC41MDAxLDExNC4xODQ5LDcwLjUwMDEsMTE0LjE4NDkiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9W2QxYmVkODg2MTQ3OGU0MjA2ZjRkMzVlNmExNmJkZjMzXQpAc3RhcnR1bWwNCnNraW5wYXJhbSBtb25vY2hyb21lIHRydWUNCnNraW5wYXJhbSBjbGFzc0F0dHJpYnV0ZUljb25TaXplIDANCnNraW5wYXJhbSBsaW5ldHlwZSBvcnRobw0KYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RDbGFzcyB7DQogICAgKyB0ZW1wbGF0ZU1ldGhvZCgpOnZvaWQNCiAgICB7YWJzdHJhY3R9ICsgb3BlcmF0aW9uMSgpOnZvaWQNCiAgICB7YWJzdHJhY3R9ICsgb3BlcmF0aW9uMigpOnZvaWQNCn0NCg0KY2xhc3MgQ29uY3JldGVDbGFzcyBleHRlbmRzIEFic3RyYWN0Q2xhc3Mgew0KICAgICsgb3BlcmF0aW9uMSgpOnZvaWQNCiAgICArIG9wZXJhdGlvbjIoKTp2b2lkDQp9DQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjAuMTYoTW9uIEF1ZyAyNCAwNDoyMDo0MyBDU1QgMjAyMCkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IHpoCkNvdW50cnk6IENOCi0tPjwvZz48L3N2Zz4='>

<h4 id="访问者模式（VISITOR）"><a href="#访问者模式（VISITOR）" class="headerlink" title="访问者模式（VISITOR）"></a>访问者模式（VISITOR）</h4><p>表示一个作用于某对象结构中的各元素的操作，它使你可以在不改变各元素的类的前提下定义作用于这些元素的新操作。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMzQxcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDoxMTk4cHg7aGVpZ2h0OjM0MXB4OyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTE5OCAzNDEiIHdpZHRoPSIxMTk4cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjFhN2M1bHNxYjRibnoiIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PCEtLU1ENT1bNTNiZjY4ZWQ2MzhiY2Y0NzE4NDIzMDk4YjNkNDgwZWFdCmNsYXNzIFZpc2l0b3ItLT48cmVjdCBjb2RlTGluZT0iNiIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxYTdjNWxzcWI0Ym56KSIgaGVpZ2h0PSI3My45MTAyIiBpZD0iVmlzaXRvciIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMjM1IiB4PSI4OTAuNSIgeT0iNyIvPjxlbGxpcHNlIGN4PSI5ODUuNzUiIGN5PSIyMyIgZmlsbD0iI0NEQ0RDRCIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik05ODUuODYzMywxOC4zNDgxIEw5ODQuNzA5NSwyMy40MTk5IEw5ODcuMDI1NCwyMy40MTk5IFogTTk4NC4zNjkxLDE2LjEwNjkgTDk4Ny4zNjU3LDE2LjEwNjkgTDk5MC43MTA5LDI4LjUgTDk4OC4yNjIyLDI4LjUgTDk4Ny40OTg1LDI1LjQzNyBMOTg0LjIxOTcsMjUuNDM3IEw5ODMuNDcyNywyOC41IEw5ODEuMDIzOSwyOC41IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIzNiIgeD0iMTAwNi4yNSIgeT0iMjcuNTM1MiI+VmlzaXRvcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI4OTEuNSIgeDI9IjExMjQuNSIgeTE9IjM5IiB5Mj0iMzkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI4OTEuNSIgeDI9IjExMjQuNSIgeTE9IjQ3IiB5Mj0iNDciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIyMjMiIHg9Ijg5Ni41IiB5PSI2MS42MzQ4Ij4rdmlzaXRFbGVtZW50QShDb25jcmV0ZUVsZW1lbnRBIGEpOnZvaWQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMjIwIiB4PSI4OTYuNSIgeT0iNzQuNTg5OCI+K3Zpc2l0RWxlbWVudEIoQ29uY3JldGVFbGVtZW50QiBiKTp2b2lkPC90ZXh0PjwhLS1NRDU9W2I4N2IzNGIyYWMzNzQ4MGVhOGYyOGMxMzk5YTkzYzAyXQpjbGFzcyBDb25jcmV0ZVZpc2l0b3IxLS0+PHJlY3QgY29kZUxpbmU9IjEwIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjFhN2M1bHNxYjRibnopIiBoZWlnaHQ9IjQ4IiBpZD0iQ29uY3JldGVWaXNpdG9yMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTI3IiB4PSI4OTAuNSIgeT0iMTQ3LjUiLz48ZWxsaXBzZSBjeD0iOTA1LjUiIGN5PSIxNjMuNSIgZmlsbD0iI0MyQzJDMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik05MDguNDczMSwxNjkuMTQzMSBROTA3Ljg5MjEsMTY5LjQ0MTkgOTA3LjI1MjksMTY5LjU5MTMgUTkwNi42MTM4LDE2OS43NDA3IDkwNS45MDgyLDE2OS43NDA3IFE5MDMuNDAxNCwxNjkuNzQwNyA5MDIuMDgxNSwxNjguMDg4OSBROTAwLjc2MTcsMTY2LjQzNyA5MDAuNzYxNywxNjMuMzE1OSBROTAwLjc2MTcsMTYwLjE4NjUgOTAyLjA4MTUsMTU4LjUzNDcgUTkwMy40MDE0LDE1Ni44ODI4IDkwNS45MDgyLDE1Ni44ODI4IFE5MDYuNjEzOCwxNTYuODgyOCA5MDcuMjYxMiwxNTcuMDMyMiBROTA3LjkwODcsMTU3LjE4MTYgOTA4LjQ3MzEsMTU3LjQ4MDUgTDkwOC40NzMxLDE2MC4yMDMxIFE5MDcuODQyMywxNTkuNjIyMSA5MDcuMjQ4OCwxNTkuMzUyMyBROTA2LjY1NTMsMTU5LjA4MjUgOTA2LjAyNDQsMTU5LjA4MjUgUTkwNC42Nzk3LDE1OS4wODI1IDkwMy45OTQ5LDE2MC4xNDkyIFE5MDMuMzEwMSwxNjEuMjE1OCA5MDMuMzEwMSwxNjMuMzE1OSBROTAzLjMxMDEsMTY1LjQwNzcgOTAzLjk5NDksMTY2LjQ3NDQgUTkwNC42Nzk3LDE2Ny41NDEgOTA2LjAyNDQsMTY3LjU0MSBROTA2LjY1NTMsMTY3LjU0MSA5MDcuMjQ4OCwxNjcuMjcxMiBROTA3Ljg0MjMsMTY3LjAwMTUgOTA4LjQ3MzEsMTY2LjQyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI5NSIgeD0iOTE5LjUiIHk9IjE2OC4wMzUyIj5Db25jcmV0ZVZpc2l0b3IxPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9Ijg5MS41IiB4Mj0iMTAxNi41IiB5MT0iMTc5LjUiIHkyPSIxNzkuNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9Ijg5MS41IiB4Mj0iMTAxNi41IiB5MT0iMTg3LjUiIHkyPSIxODcuNSIvPjwhLS1NRDU9W2I0MTExMTExMGJiODQwMmRjOTZhMjkzMzQyMTc1M2I2XQpjbGFzcyBDb25jcmV0ZVZpc2l0b3IyLS0+PHJlY3QgY29kZUxpbmU9IjExIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjFhN2M1bHNxYjRibnopIiBoZWlnaHQ9IjQ4IiBpZD0iQ29uY3JldGVWaXNpdG9yMiIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTI3IiB4PSIxMDUyLjUiIHk9IjE0Ny41Ii8+PGVsbGlwc2UgY3g9IjEwNjcuNSIgY3k9IjE2My41IiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTEwNzAuNDczMSwxNjkuMTQzMSBRMTA2OS44OTIxLDE2OS40NDE5IDEwNjkuMjUyOSwxNjkuNTkxMyBRMTA2OC42MTM4LDE2OS43NDA3IDEwNjcuOTA4MiwxNjkuNzQwNyBRMTA2NS40MDE0LDE2OS43NDA3IDEwNjQuMDgxNSwxNjguMDg4OSBRMTA2Mi43NjE3LDE2Ni40MzcgMTA2Mi43NjE3LDE2My4zMTU5IFExMDYyLjc2MTcsMTYwLjE4NjUgMTA2NC4wODE1LDE1OC41MzQ3IFExMDY1LjQwMTQsMTU2Ljg4MjggMTA2Ny45MDgyLDE1Ni44ODI4IFExMDY4LjYxMzgsMTU2Ljg4MjggMTA2OS4yNjEyLDE1Ny4wMzIyIFExMDY5LjkwODcsMTU3LjE4MTYgMTA3MC40NzMxLDE1Ny40ODA1IEwxMDcwLjQ3MzEsMTYwLjIwMzEgUTEwNjkuODQyMywxNTkuNjIyMSAxMDY5LjI0ODgsMTU5LjM1MjMgUTEwNjguNjU1MywxNTkuMDgyNSAxMDY4LjAyNDQsMTU5LjA4MjUgUTEwNjYuNjc5NywxNTkuMDgyNSAxMDY1Ljk5NDksMTYwLjE0OTIgUTEwNjUuMzEwMSwxNjEuMjE1OCAxMDY1LjMxMDEsMTYzLjMxNTkgUTEwNjUuMzEwMSwxNjUuNDA3NyAxMDY1Ljk5NDksMTY2LjQ3NDQgUTEwNjYuNjc5NywxNjcuNTQxIDEwNjguMDI0NCwxNjcuNTQxIFExMDY4LjY1NTMsMTY3LjU0MSAxMDY5LjI0ODgsMTY3LjI3MTIgUTEwNjkuODQyMywxNjcuMDAxNSAxMDcwLjQ3MzEsMTY2LjQyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI5NSIgeD0iMTA4MS41IiB5PSIxNjguMDM1MiI+Q29uY3JldGVWaXNpdG9yMjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxMDUzLjUiIHgyPSIxMTc4LjUiIHkxPSIxNzkuNSIgeTI9IjE3OS41Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTA1My41IiB4Mj0iMTE3OC41IiB5MT0iMTg3LjUiIHkyPSIxODcuNSIvPjwhLS1NRDU9Wzk1MTc0ZTQyZWUzNDdhMTRiNmNiNzhkNjg1NWYxOWI1XQpjbGFzcyBFbGVtZW50LS0+PHJlY3QgY29kZUxpbmU9IjE0IiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjFhN2M1bHNxYjRibnopIiBoZWlnaHQ9IjYwLjk1NTEiIGlkPSJFbGVtZW50IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxNjIiIHg9IjQ1MyIgeT0iMTQxIi8+PGVsbGlwc2UgY3g9IjUwNi43NSIgY3k9IjE1NyIgZmlsbD0iI0NEQ0RDRCIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik01MDYuODYzMywxNTIuMzQ4MSBMNTA1LjcwOTUsMTU3LjQxOTkgTDUwOC4wMjU0LDE1Ny40MTk5IFogTTUwNS4zNjkxLDE1MC4xMDY5IEw1MDguMzY1NywxNTAuMTA2OSBMNTExLjcxMDksMTYyLjUgTDUwOS4yNjIyLDE2Mi41IEw1MDguNDk4NSwxNTkuNDM3IEw1MDUuMjE5NywxNTkuNDM3IEw1MDQuNDcyNywxNjIuNSBMNTAyLjAyMzksMTYyLjUgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjQ2IiB4PSI1MjcuMjUiIHk9IjE2MS41MzUyIj5FbGVtZW50PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjQ1NCIgeDI9IjYxNCIgeTE9IjE3MyIgeTI9IjE3MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjQ1NCIgeDI9IjYxNCIgeTE9IjE4MSIgeTI9IjE4MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjE1MCIgeD0iNDU5IiB5PSIxOTUuNjM0OCI+K2FjY2VwdChWaXNpdG9yIHZpc2l0b3IpOnZvaWQ8L3RleHQ+PCEtLU1ENT1bZjBlNzMyNzk4NDUxYjhkZmNlNTM2Y2M1Mjg5OTVkZWJdCmNsYXNzIENvbmNyZXRlRWxlbWVudEEtLT48cmVjdCBjb2RlTGluZT0iMTciIGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmMWE3YzVsc3FiNGJueikiIGhlaWdodD0iNjAuOTU1MSIgaWQ9IkNvbmNyZXRlRWxlbWVudEEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjE2MiIgeD0iNDUzIiB5PSIyNjIiLz48ZWxsaXBzZSBjeD0iNDc5LjI1IiBjeT0iMjc4IiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTQ4Mi4yMjMxLDI4My42NDMxIFE0ODEuNjQyMSwyODMuOTQxOSA0ODEuMDAyOSwyODQuMDkxMyBRNDgwLjM2MzgsMjg0LjI0MDcgNDc5LjY1ODIsMjg0LjI0MDcgUTQ3Ny4xNTE0LDI4NC4yNDA3IDQ3NS44MzE1LDI4Mi41ODg5IFE0NzQuNTExNywyODAuOTM3IDQ3NC41MTE3LDI3Ny44MTU5IFE0NzQuNTExNywyNzQuNjg2NSA0NzUuODMxNSwyNzMuMDM0NyBRNDc3LjE1MTQsMjcxLjM4MjggNDc5LjY1ODIsMjcxLjM4MjggUTQ4MC4zNjM4LDI3MS4zODI4IDQ4MS4wMTEyLDI3MS41MzIyIFE0ODEuNjU4NywyNzEuNjgxNiA0ODIuMjIzMSwyNzEuOTgwNSBMNDgyLjIyMzEsMjc0LjcwMzEgUTQ4MS41OTIzLDI3NC4xMjIxIDQ4MC45OTg4LDI3My44NTIzIFE0ODAuNDA1MywyNzMuNTgyNSA0NzkuNzc0NCwyNzMuNTgyNSBRNDc4LjQyOTcsMjczLjU4MjUgNDc3Ljc0NDksMjc0LjY0OTIgUTQ3Ny4wNjAxLDI3NS43MTU4IDQ3Ny4wNjAxLDI3Ny44MTU5IFE0NzcuMDYwMSwyNzkuOTA3NyA0NzcuNzQ0OSwyODAuOTc0NCBRNDc4LjQyOTcsMjgyLjA0MSA0NzkuNzc0NCwyODIuMDQxIFE0ODAuNDA1MywyODIuMDQxIDQ4MC45OTg4LDI4MS43NzEyIFE0ODEuNTkyMywyODEuNTAxNSA0ODIuMjIzMSwyODAuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEwNSIgeD0iNDk1Ljc1IiB5PSIyODIuNTM1MiI+Q29uY3JldGVFbGVtZW50QTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI0NTQiIHgyPSI2MTQiIHkxPSIyOTQiIHkyPSIyOTQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI0NTQiIHgyPSI2MTQiIHkxPSIzMDIiIHkyPSIzMDIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxNTAiIHg9IjQ1OSIgeT0iMzE2LjYzNDgiPithY2NlcHQoVmlzaXRvciB2aXNpdG9yKTp2b2lkPC90ZXh0PjwhLS1NRDU9WzBmOWI1N2M5YTRjMWNiYjhkYzgzNmE0YmY4NzFjZmE2XQpjbGFzcyBDb25jcmV0ZUVsZW1lbnRCLS0+PHJlY3QgY29kZUxpbmU9IjIxIiBmaWxsPSIjRjhGOEY4IiBmaWx0ZXI9InVybCgjZjFhN2M1bHNxYjRibnopIiBoZWlnaHQ9IjYwLjk1NTEiIGlkPSJDb25jcmV0ZUVsZW1lbnRCIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxNjIiIHg9IjciIHk9IjI2MiIvPjxlbGxpcHNlIGN4PSIzMy43IiBjeT0iMjc4IiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTM2LjY3MzEsMjgzLjY0MzEgUTM2LjA5MjEsMjgzLjk0MTkgMzUuNDUyOSwyODQuMDkxMyBRMzQuODEzOCwyODQuMjQwNyAzNC4xMDgyLDI4NC4yNDA3IFEzMS42MDE0LDI4NC4yNDA3IDMwLjI4MTUsMjgyLjU4ODkgUTI4Ljk2MTcsMjgwLjkzNyAyOC45NjE3LDI3Ny44MTU5IFEyOC45NjE3LDI3NC42ODY1IDMwLjI4MTUsMjczLjAzNDcgUTMxLjYwMTQsMjcxLjM4MjggMzQuMTA4MiwyNzEuMzgyOCBRMzQuODEzOCwyNzEuMzgyOCAzNS40NjEyLDI3MS41MzIyIFEzNi4xMDg3LDI3MS42ODE2IDM2LjY3MzEsMjcxLjk4MDUgTDM2LjY3MzEsMjc0LjcwMzEgUTM2LjA0MjMsMjc0LjEyMjEgMzUuNDQ4OCwyNzMuODUyMyBRMzQuODU1MywyNzMuNTgyNSAzNC4yMjQ0LDI3My41ODI1IFEzMi44Nzk3LDI3My41ODI1IDMyLjE5NDksMjc0LjY0OTIgUTMxLjUxMDEsMjc1LjcxNTggMzEuNTEwMSwyNzcuODE1OSBRMzEuNTEwMSwyNzkuOTA3NyAzMi4xOTQ5LDI4MC45NzQ0IFEzMi44Nzk3LDI4Mi4wNDEgMzQuMjI0NCwyODIuMDQxIFEzNC44NTUzLDI4Mi4wNDEgMzUuNDQ4OCwyODEuNzcxMiBRMzYuMDQyMywyODEuNTAxNSAzNi42NzMxLDI4MC45MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTA0IiB4PSI1MC4zIiB5PSIyODIuNTM1MiI+Q29uY3JldGVFbGVtZW50QjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI4IiB4Mj0iMTY4IiB5MT0iMjk0IiB5Mj0iMjk0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iOCIgeDI9IjE2OCIgeTE9IjMwMiIgeTI9IjMwMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjE1MCIgeD0iMTMiIHk9IjMxNi42MzQ4Ij4rYWNjZXB0KFZpc2l0b3IgdmlzaXRvcik6dm9pZDwvdGV4dD48cGF0aCBkPSJNMjA0LjUsMjgwIEwyMDQuNSwyODkgTDE2OS4xMzg5LDI5MyBMMjA0LjUsMjk3IEwyMDQuNSwzMDUuMzEwNSBBMCwwIDAgMCAwIDIwNC41LDMwNS4zMTA1IEw0MTcuNSwzMDUuMzEwNSBBMCwwIDAgMCAwIDQxNy41LDMwNS4zMTA1IEw0MTcuNSwyOTAgTDQwNy41LDI4MCBMMjA0LjUsMjgwIEEwLDAgMCAwIDAgMjA0LjUsMjgwICIgZmlsbD0iI0VDRUNFQyIgZmlsdGVyPSJ1cmwoI2YxYTdjNWxzcWI0Ym56KSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTQwNy41LDI4MCBMNDA3LjUsMjkwIEw0MTcuNSwyOTAgTDQwNy41LDI4MCAiIGZpbGw9IiNFQ0VDRUMiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjE5MiIgeD0iMjEwLjUiIHk9IjI5Ny41Njg0Ij52aXNpdG9yLnZpc2l0Q29uY3JldGVFbGVtZW50QigpPC90ZXh0PjxwYXRoIGQ9Ik02NTAuNSwyODAgTDY1MC41LDI4OSBMNjE1LjE4NTgsMjkzIEw2NTAuNSwyOTcgTDY1MC41LDMwNS4zMTA1IEEwLDAgMCAwIDAgNjUwLjUsMzA1LjMxMDUgTDg2NS41LDMwNS4zMTA1IEEwLDAgMCAwIDAgODY1LjUsMzA1LjMxMDUgTDg2NS41LDI5MCBMODU1LjUsMjgwIEw2NTAuNSwyODAgQTAsMCAwIDAgMCA2NTAuNSwyODAgIiBmaWxsPSIjRUNFQ0VDIiBmaWx0ZXI9InVybCgjZjFhN2M1bHNxYjRibnopIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNODU1LjUsMjgwIEw4NTUuNSwyOTAgTDg2NS41LDI5MCBMODU1LjUsMjgwICIgZmlsbD0iI0VDRUNFQyIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTk0IiB4PSI2NTYuNSIgeT0iMjk3LjU2ODQiPnZpc2l0b3IudmlzaXRDb25jcmV0ZUVsZW1lbnRBKCk8L3RleHQ+PCEtLU1ENT1bZWQ2NjI0YzY1NTZkNWU3YjFiZDIzMDMyMTYyZDIwYjddCmNsYXNzIENsaWVudC0tPjxyZWN0IGZpbGw9IiNGOEY4RjgiIGZpbHRlcj0idXJsKCNmMWE3YzVsc3FiNGJueikiIGhlaWdodD0iNDgiIGlkPSJDbGllbnQiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjY0IiB4PSI3NDgiIHk9IjIwIi8+PGVsbGlwc2UgY3g9Ijc2MyIgY3k9IjM2IiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTc2NS45NzMxLDQxLjY0MzEgUTc2NS4zOTIxLDQxLjk0MTkgNzY0Ljc1MjksNDIuMDkxMyBRNzY0LjExMzgsNDIuMjQwNyA3NjMuNDA4Miw0Mi4yNDA3IFE3NjAuOTAxNCw0Mi4yNDA3IDc1OS41ODE1LDQwLjU4ODkgUTc1OC4yNjE3LDM4LjkzNyA3NTguMjYxNywzNS44MTU5IFE3NTguMjYxNywzMi42ODY1IDc1OS41ODE1LDMxLjAzNDcgUTc2MC45MDE0LDI5LjM4MjggNzYzLjQwODIsMjkuMzgyOCBRNzY0LjExMzgsMjkuMzgyOCA3NjQuNzYxMiwyOS41MzIyIFE3NjUuNDA4NywyOS42ODE2IDc2NS45NzMxLDI5Ljk4MDUgTDc2NS45NzMxLDMyLjcwMzEgUTc2NS4zNDIzLDMyLjEyMjEgNzY0Ljc0ODgsMzEuODUyMyBRNzY0LjE1NTMsMzEuNTgyNSA3NjMuNTI0NCwzMS41ODI1IFE3NjIuMTc5NywzMS41ODI1IDc2MS40OTQ5LDMyLjY0OTIgUTc2MC44MTAxLDMzLjcxNTggNzYwLjgxMDEsMzUuODE1OSBRNzYwLjgxMDEsMzcuOTA3NyA3NjEuNDk0OSwzOC45NzQ0IFE3NjIuMTc5Nyw0MC4wNDEgNzYzLjUyNDQsNDAuMDQxIFE3NjQuMTU1Myw0MC4wNDEgNzY0Ljc0ODgsMzkuNzcxMiBRNzY1LjM0MjMsMzkuNTAxNSA3NjUuOTczMSwzOC45MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMzIiIHg9Ijc3NyIgeT0iNDAuNTM1MiI+Q2xpZW50PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9Ijc0OSIgeDI9IjgxMSIgeTE9IjUyIiB5Mj0iNTIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI3NDkiIHgyPSI4MTEiIHkxPSI2MCIgeTI9IjYwIi8+PCEtLU1ENT1bZmQzNjA4ZDE4Yjk2YWRkN2M1NDA5NzA1YTVkYTNjNThdCmNsYXNzIE9iamVjdFN0cnVjdC0tPjxyZWN0IGNvZGVMaW5lPSIzNSIgZmlsbD0iI0Y4RjhGOCIgZmlsdGVyPSJ1cmwoI2YxYTdjNWxzcWI0Ym56KSIgaGVpZ2h0PSI0OCIgaWQ9Ik9iamVjdFN0cnVjdCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTAyIiB4PSI1NjgiIHk9IjIwIi8+PGVsbGlwc2UgY3g9IjU4MyIgY3k9IjM2IiBmaWxsPSIjQzJDMkMyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTU4NS45NzMxLDQxLjY0MzEgUTU4NS4zOTIxLDQxLjk0MTkgNTg0Ljc1MjksNDIuMDkxMyBRNTg0LjExMzgsNDIuMjQwNyA1ODMuNDA4Miw0Mi4yNDA3IFE1ODAuOTAxNCw0Mi4yNDA3IDU3OS41ODE1LDQwLjU4ODkgUTU3OC4yNjE3LDM4LjkzNyA1NzguMjYxNywzNS44MTU5IFE1NzguMjYxNywzMi42ODY1IDU3OS41ODE1LDMxLjAzNDcgUTU4MC45MDE0LDI5LjM4MjggNTgzLjQwODIsMjkuMzgyOCBRNTg0LjExMzgsMjkuMzgyOCA1ODQuNzYxMiwyOS41MzIyIFE1ODUuNDA4NywyOS42ODE2IDU4NS45NzMxLDI5Ljk4MDUgTDU4NS45NzMxLDMyLjcwMzEgUTU4NS4zNDIzLDMyLjEyMjEgNTg0Ljc0ODgsMzEuODUyMyBRNTg0LjE1NTMsMzEuNTgyNSA1ODMuNTI0NCwzMS41ODI1IFE1ODIuMTc5NywzMS41ODI1IDU4MS40OTQ5LDMyLjY0OTIgUTU4MC44MTAxLDMzLjcxNTggNTgwLjgxMDEsMzUuODE1OSBRNTgwLjgxMDEsMzcuOTA3NyA1ODEuNDk0OSwzOC45NzQ0IFE1ODIuMTc5Nyw0MC4wNDEgNTgzLjUyNDQsNDAuMDQxIFE1ODQuMTU1Myw0MC4wNDEgNTg0Ljc0ODgsMzkuNzcxMiBRNTg1LjM0MjMsMzkuNTAxNSA1ODUuOTczMSwzOC45MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNzAiIHg9IjU5NyIgeT0iNDAuNTM1MiI+T2JqZWN0U3RydWN0PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjU2OSIgeDI9IjY2OSIgeTE9IjUyIiB5Mj0iNTIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI1NjkiIHgyPSI2NjkiIHkxPSI2MCIgeTI9IjYwIi8+PCEtLU1ENT1bNWMzN2NhYzg1YWU0MjM0NWRlN2IxYTY2MjM3YWFhYWFdCnJldmVyc2UgbGluayBWaXNpdG9yIHRvIENvbmNyZXRlVmlzaXRvcjEtLT48cGF0aCBkPSJNOTU0LDEwMS4yMjEgQzk1NCwxMDEuMjIxIDk1NCwxNDcuMzIyNiA5NTQsMTQ3LjMyMjYgIiBmaWxsPSJub25lIiBpZD0iVmlzaXRvci1iYWNrdG8tQ29uY3JldGVWaXNpdG9yMSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSI5NDcuMDAwMSwxMDEuMjIxMSw5NTQsODEuMjIxLDk2MS4wMDAxLDEwMS4yMjEsOTQ3LjAwMDEsMTAxLjIyMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzJhZTA1ZmE2MTQwZDg2NTU0YmM4ZWNhZWY3YmFmNjZiXQpyZXZlcnNlIGxpbmsgVmlzaXRvciB0byBDb25jcmV0ZVZpc2l0b3IyLS0+PHBhdGggZD0iTTEwODksMTAxLjIyMSBDMTA4OSwxMDEuMjIxIDEwODksMTQ3LjMyMjYgMTA4OSwxNDcuMzIyNiAiIGZpbGw9Im5vbmUiIGlkPSJWaXNpdG9yLWJhY2t0by1Db25jcmV0ZVZpc2l0b3IyIiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjEwODIuMDAwMSwxMDEuMjIxMSwxMDg5LDgxLjIyMSwxMDk2LjAwMDEsMTAxLjIyMSwxMDgyLjAwMDEsMTAxLjIyMTEiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9W2I4NTg0OGIwN2FjMzM5YzRmYTkzNjYzYjFkOThiMjAwXQpyZXZlcnNlIGxpbmsgRWxlbWVudCB0byBDb25jcmV0ZUVsZW1lbnRBLS0+PHBhdGggZD0iTTUzNCwyMjIuMDMzNCBDNTM0LDIyMi4wMzM0IDUzNCwyNjEuOTc2NCA1MzQsMjYxLjk3NjQgIiBmaWxsPSJub25lIiBpZD0iRWxlbWVudC1iYWNrdG8tQ29uY3JldGVFbGVtZW50QSIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0ibm9uZSIgcG9pbnRzPSI1MjcuMDAwMSwyMjIuMDMzNCw1MzQsMjAyLjAzMzQsNTQxLjAwMDEsMjIyLjAzMzQsNTI3LjAwMDEsMjIyLjAzMzQiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzZlYjg1ODRhODk0NTg4Y2NkYTZkZDk5ZGU2MjdlYzY0XQpyZXZlcnNlIGxpbmsgRWxlbWVudCB0byBDb25jcmV0ZUVsZW1lbnRCLS0+PHBhdGggZD0iTTQzMi45NzQyLDE3MiBDNDMyLjk3NDIsMTcyIDg4LDE3MiA4OCwxNzIgQzg4LDE3MiA4OCwyMjYuMDc5OCA4OCwyNjEuNzgxICIgZmlsbD0ibm9uZSIgaWQ9IkVsZW1lbnQtYmFja3RvLUNvbmNyZXRlRWxlbWVudEIiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iNDMyLjk3NDIsMTY0Ljk5OTksNDUyLjk3NDIsMTcyLDQzMi45NzQyLDE3OC45OTk5LDQzMi45NzQyLDE2NC45OTk5IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtiMjEzNTVmNThhZmJhMzY1Njg4ZGNlMDVmZGZmNmM5NF0KbGluayBDbGllbnQgdG8gVmlzaXRvci0tPjxwYXRoIGNvZGVMaW5lPSIzMiIgZD0iTTgxMi4xODMzLDQ0IEM4MTIuMTgzMyw0NCA4ODUuMjg4Myw0NCA4ODUuMjg4Myw0NCAiIGZpbGw9Im5vbmUiIGlkPSJDbGllbnQtdG8tVmlzaXRvciIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzM4MzgzOCIgcG9pbnRzPSI4OTAuMjg4Myw0NCw4ODEuMjg4Myw0MCw4ODUuMjg4Myw0NCw4ODEuMjg4Myw0OCw4OTAuMjg4Myw0NCIgc3R5bGU9InN0cm9rZTogIzM4MzgzODsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bMzk2MzVkZDVhYTFkMmRiODc1MmI3NWEzNWQ4YjEzNjNdCnJldmVyc2UgbGluayBPYmplY3RTdHJ1Y3QgdG8gQ2xpZW50LS0+PHBhdGggY29kZUxpbmU9IjMzIiBkPSJNNjc1LjM4NDEsNDQgQzY3NS4zODQxLDQ0IDc0Ny43OTExLDQ0IDc0Ny43OTExLDQ0ICIgZmlsbD0ibm9uZSIgaWQ9Ik9iamVjdFN0cnVjdC1iYWNrdG8tQ2xpZW50IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjMzgzODM4IiBwb2ludHM9IjY3MC4zODQxLDQ0LDY3OS4zODQxLDQ4LDY3NS4zODQxLDQ0LDY3OS4zODQxLDQwLDY3MC4zODQxLDQ0IiBzdHlsZT0ic3Ryb2tlOiAjMzgzODM4OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVsyM2M0MTIxNWMwNGU2ODU1MjZmOTY1NTdlMmFmNDFlMV0KbGluayBPYmplY3RTdHJ1Y3QgdG8gRWxlbWVudC0tPjxwYXRoIGNvZGVMaW5lPSIzNiIgZD0iTTU5MS41LDY4LjI4MTkgQzU5MS41LDY4LjI4MTkgNTkxLjUsMTM1Ljk5OTggNTkxLjUsMTM1Ljk5OTggIiBmaWxsPSJub25lIiBpZD0iT2JqZWN0U3RydWN0LXRvLUVsZW1lbnQiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzODM4MzgiIHBvaW50cz0iNTkxLjUsMTQwLjk5OTgsNTk1LjUsMTMxLjk5OTgsNTkxLjUsMTM1Ljk5OTgsNTg3LjUsMTMxLjk5OTgsNTkxLjUsMTQwLjk5OTgiIHN0eWxlPSJzdHJva2U6ICMzODM4Mzg7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9W2Y5ZjE2YjliMzMyNmViM2JjNDVkMjcyYWQxZTg5ZmMyXQpAc3RhcnR1bWwNCnNraW5wYXJhbSBtb25vY2hyb21lIHRydWUNCnNraW5wYXJhbSBjbGFzc0F0dHJpYnV0ZUljb25TaXplIDANCnNraW5wYXJhbSBsaW5ldHlwZSBvcnRobw0KDQp0b2dldGhlciB7DQphYnN0cmFjdCBjbGFzcyBWaXNpdG9yIHsNCiAgICArIHZpc2l0RWxlbWVudEEoQ29uY3JldGVFbGVtZW50QSBhKTp2b2lkDQogICAgKyB2aXNpdEVsZW1lbnRCKENvbmNyZXRlRWxlbWVudEIgYik6dm9pZA0KfQ0KY2xhc3MgQ29uY3JldGVWaXNpdG9yMSBleHRlbmRzIFZpc2l0b3Ige30NCmNsYXNzIENvbmNyZXRlVmlzaXRvcjIgZXh0ZW5kcyBWaXNpdG9yIHt9DQp9DQp0b2dldGhlciB7DQphYnN0cmFjdCBFbGVtZW50IHsNCiAgICArIGFjY2VwdChWaXNpdG9yIHZpc2l0b3IpOnZvaWQNCn0NCmNsYXNzIENvbmNyZXRlRWxlbWVudEEgZXh0ZW5kcyBFbGVtZW50IHsNCiAgICArIGFjY2VwdChWaXNpdG9yIHZpc2l0b3IpOnZvaWQNCn0NCidub3RlIHRvcCBvZiBDb25jcmV0ZUVsZW1lbnRBOiB2aXNpdG9yLnZpc2l0Q29uY3JldGVFbGVtZW50QSgpDQpjbGFzcyBDb25jcmV0ZUVsZW1lbnRCIGV4dGVuZHMgRWxlbWVudCB7DQogICAgKyBhY2NlcHQoVmlzaXRvciB2aXNpdG9yKTp2b2lkDQp9DQonbm90ZSB0b3Agb2YgQ29uY3JldGVFbGVtZW50QjogdmlzaXRvci52aXNpdENvbmNyZXRlRWxlbWVudEIoKQ0KDQoNCm5vdGUgInZpc2l0b3IudmlzaXRDb25jcmV0ZUVsZW1lbnRCKCkiIGFzIE4xDQpub3RlICJ2aXNpdG9yLnZpc2l0Q29uY3JldGVFbGVtZW50QSgpIiBhcyBOMg0KQ29uY3JldGVFbGVtZW50Qi5OMQ0KQ29uY3JldGVFbGVtZW50QS5OMg0KfQ0KQ2xpZW50IC1yaWdodC0+IFZpc2l0b3INCkNsaWVudCAtbGVmdC0+IE9iamVjdFN0cnVjdA0KDQpDbGFzcyBPYmplY3RTdHJ1Y3Qge30NCk9iamVjdFN0cnVjdCAtZG93bi0+IEVsZW1lbnQNCkBlbmR1bWwNCgpAc3RhcnR1bWwNCnNraW5wYXJhbSBtb25vY2hyb21lIHRydWUNCnNraW5wYXJhbSBjbGFzc0F0dHJpYnV0ZUljb25TaXplIDANCnNraW5wYXJhbSBsaW5ldHlwZSBvcnRobw0KDQp0b2dldGhlciB7DQphYnN0cmFjdCBjbGFzcyBWaXNpdG9yIHsNCiAgICArIHZpc2l0RWxlbWVudEEoQ29uY3JldGVFbGVtZW50QSBhKTp2b2lkDQogICAgKyB2aXNpdEVsZW1lbnRCKENvbmNyZXRlRWxlbWVudEIgYik6dm9pZA0KfQ0KY2xhc3MgQ29uY3JldGVWaXNpdG9yMSBleHRlbmRzIFZpc2l0b3Ige30NCmNsYXNzIENvbmNyZXRlVmlzaXRvcjIgZXh0ZW5kcyBWaXNpdG9yIHt9DQp9DQp0b2dldGhlciB7DQphYnN0cmFjdCBFbGVtZW50IHsNCiAgICArIGFjY2VwdChWaXNpdG9yIHZpc2l0b3IpOnZvaWQNCn0NCmNsYXNzIENvbmNyZXRlRWxlbWVudEEgZXh0ZW5kcyBFbGVtZW50IHsNCiAgICArIGFjY2VwdChWaXNpdG9yIHZpc2l0b3IpOnZvaWQNCn0NCmNsYXNzIENvbmNyZXRlRWxlbWVudEIgZXh0ZW5kcyBFbGVtZW50IHsNCiAgICArIGFjY2VwdChWaXNpdG9yIHZpc2l0b3IpOnZvaWQNCn0NCg0KDQpub3RlICJ2aXNpdG9yLnZpc2l0Q29uY3JldGVFbGVtZW50QigpIiBhcyBOMQ0Kbm90ZSAidmlzaXRvci52aXNpdENvbmNyZXRlRWxlbWVudEEoKSIgYXMgTjINCkNvbmNyZXRlRWxlbWVudEIuTjENCkNvbmNyZXRlRWxlbWVudEEuTjINCn0NCkNsaWVudCAtcmlnaHQtPiBWaXNpdG9yDQpDbGllbnQgLWxlZnQtPiBPYmplY3RTdHJ1Y3QNCg0KQ2xhc3MgT2JqZWN0U3RydWN0IHt9DQpPYmplY3RTdHJ1Y3QgLWRvd24tPiBFbGVtZW50DQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjAuMTYoTW9uIEF1ZyAyNCAwNDoyMDo0MyBDU1QgMjAyMCkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IHpoCkNvdW50cnk6IENOCi0tPjwvZz48L3N2Zz4='>

<h4 id="行为模式总结"><a href="#行为模式总结" class="headerlink" title="行为模式总结"></a>行为模式总结</h4><h5 id="封装变化"><a href="#封装变化" class="headerlink" title="封装变化"></a>封装变化</h5><p>封装变化是很多行为模式的主题，当一个程序的某个方面的特征经常发生改变时，这些模式就定义一个封装这个方面的对象。</p>
<ul>
<li>一个strategy对象封装一个算法。</li>
<li>一个state对象封装一个与状态相关的行为。</li>
<li>一个Mediator对象封装对象见的协议。</li>
<li>一个Iterator对象封装访问和遍历一个聚集对象中的各个构件的方法。</li>
</ul>
]]></content>
      <tags>
        <tag>设计模式</tag>
      </tags>
  </entry>
  <entry>
    <title>面向对象包设计原则</title>
    <url>/2020/09/20/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%8C%85%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/</url>
    <content><![CDATA[<h3 id="SAP：稳定抽象等价原则（Stable-Abstractions-Principle）"><a href="#SAP：稳定抽象等价原则（Stable-Abstractions-Principle）" class="headerlink" title="SAP：稳定抽象等价原则（Stable Abstractions Principle）"></a>SAP：稳定抽象等价原则（Stable Abstractions Principle）</h3><p>最稳定的包应该是最抽象的包，不稳定的包应该是具体的包，包的抽象程度和它的稳定性成正比。</p>
<p>抽象类或接口通过子类继承扩展行为，表示抽象类或接口比它们的子类更具稳定性。子类可以放在另一个不稳定的包内，该包依赖上述稳定的包，遵循了稳定依赖原则。</p>
<p>理想的包体系结构应该如下图所示：</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMTkzcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDozODJweDtoZWlnaHQ6MTkzcHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzODIgMTkzIiB3aWR0aD0iMzgycHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjExb2loY3h0ZHNueTEiIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PCEtLU1ENT1bMWU4YTYxOTZlZmUzYjRmZDQ2ZWUzNWE1NjA5MjNmMDBdCmVudGl0eSDlhbfkvZPlrp7njrBcbuS4jeeos+WumiAxLS0+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2YxMW9paGN4dGRzbnkxKSIgaGVpZ2h0PSI2Mi45NzY2IiBzdHlsZT0ic3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI5NiIgeD0iNyIgeT0iNyIvPjxwYXRoIGQ9Ik0zOSw3IEwzOSwxMiBMMzIsMTkgTDcsMTkgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDEuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI1NiIgeD0iMjIiIHk9IjQwLjUzNTIiPuWFt+S9k+WunueOsDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI1NSIgeD0iMjIiIHk9IjU3LjAyMzQiPuS4jeeos+WumiAxPC90ZXh0PjwhLS1NRDU9WzY2MThlMDA0NjUxNjNlZjgzYmM1MzZmNzUyZTc3MWJjXQplbnRpdHkg5YW35L2T5a6e546wXG7kuI3nqLPlrpogMi0tPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmMTFvaWhjeHRkc255MSkiIGhlaWdodD0iNjIuOTc2NiIgc3R5bGU9InN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iOTYiIHg9IjEzOCIgeT0iNyIvPjxwYXRoIGQ9Ik0xNzAsNyBMMTcwLDEyIEwxNjMsMTkgTDEzOCwxOSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjU2IiB4PSIxNTMiIHk9IjQwLjUzNTIiPuWFt+S9k+WunueOsDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI1NSIgeD0iMTUzIiB5PSI1Ny4wMjM0Ij7kuI3nqLPlrpogMjwvdGV4dD48IS0tTUQ1PVtmMjY5MDYzMGUxZDljNTNjNjVkNzJkMjdiMjk0NWM2Y10KZW50aXR5IOWFt+S9k+WunueOsFxu5LiN56iz5a6aIDMtLT48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZjExb2loY3h0ZHNueTEpIiBoZWlnaHQ9IjYyLjk3NjYiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9Ijk2IiB4PSIyNjkiIHk9IjciLz48cGF0aCBkPSJNMzAxLDcgTDMwMSwxMiBMMjk0LDE5IEwyNjksMTkgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDEuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI1NiIgeD0iMjg0IiB5PSI0MC41MzUyIj7lhbfkvZPlrp7njrA8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNTUiIHg9IjI4NCIgeT0iNTcuMDIzNCI+5LiN56iz5a6aIDM8L3RleHQ+PCEtLU1ENT1bNTkyMDYyNzZiMWM5YjA4MjliMWRiN2JjMzZmNzhhNzZdCmVudGl0eSDmir3osaEtLT48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZjExb2loY3h0ZHNueTEpIiBoZWlnaHQ9IjQ2LjQ4ODMiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjY4IiB4PSIxNTIiIHk9IjEzMCIvPjxwYXRoIGQ9Ik0xNzQuNjY2NywxMzAgTDE3NC42NjY3LDEzNSBMMTY3LjY2NjcsMTQyIEwxNTIsMTQyICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMjgiIHg9IjE2NyIgeT0iMTYzLjUzNTIiPuaKveixoTwvdGV4dD48IS0tTUQ1PVtjMDJjMjlhYWJhNTliOTc0ZGE2YzE2N2VhMmNhMGYyZl0KbGluayDlhbfkvZPlrp7njrBcbuS4jeeos+WumiAxIHRvIOaKveixoS0tPjxwYXRoIGQ9Ik05MS4xNDMxLDcwLjA5MDcgQzExMS40NDksODcuODM5IDEzNi41MDEsMTA5LjczNTYgMTU1Ljc1OTUsMTI2LjU2ODQgIiBmaWxsPSJub25lIiBpZD0i5YW35L2T5a6e546wXG7kuI3nqLPlrpogMS10by3mir3osaEiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iMTU5LjUzMDksMTI5Ljg2NDgsMTU1LjM4NjgsMTIwLjkzMDMsMTU1Ljc2NjIsMTI2LjU3NDQsMTUwLjEyMjEsMTI2Ljk1MzgsMTU5LjUzMDksMTI5Ljg2NDgiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9W2IwN2U0OGI1MGQ0YmJhNzE2NTg4NDg3ZjI4ZWYxZGU1XQpsaW5rIOWFt+S9k+WunueOsFxu5LiN56iz5a6aIDIgdG8g5oq96LGhLS0+PHBhdGggZD0iTTE4Niw3MC4wOTA3IEMxODYsODcuMDk5NSAxODYsMTA3LjkxODEgMTg2LDEyNC40Mzg2ICIgZmlsbD0ibm9uZSIgaWQ9IuWFt+S9k+WunueOsFxu5LiN56iz5a6aIDItdG8t5oq96LGhIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjE4NiwxMjkuODY0OCwxOTAsMTIwLjg2NDgsMTg2LDEyNC44NjQ4LDE4MiwxMjAuODY0OCwxODYsMTI5Ljg2NDgiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzViZjRiNmI1Mjg4ODFmNzFkNTViMzEyZmJmMjc5Yzc2XQpsaW5rIOWFt+S9k+WunueOsFxu5LiN56iz5a6aIDMgdG8g5oq96LGhLS0+PHBhdGggZD0iTTI4MC44NTY5LDcwLjA5MDcgQzI2MC41NTEsODcuODM5IDIzNS40OTksMTA5LjczNTYgMjE2LjI0MDUsMTI2LjU2ODQgIiBmaWxsPSJub25lIiBpZD0i5YW35L2T5a6e546wXG7kuI3nqLPlrpogMy10by3mir3osaEiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iMjEyLjQ2OTEsMTI5Ljg2NDgsMjIxLjg3NzksMTI2Ljk1MzgsMjE2LjIzMzgsMTI2LjU3NDQsMjE2LjYxMzIsMTIwLjkzMDMsMjEyLjQ2OTEsMTI5Ljg2NDgiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9W2I2ZDRiZDdiYTM3NDhhMjQ4NGQ5MWQwYzI1ZmExNDY0XQpAc3RhcnR1bWwNCnBhY2thZ2UgIuWFt+S9k+WunueOsFxu5LiN56iz5a6aIDEiPDxGcmFtZT4+IHsNCg0KfQ0KcGFja2FnZSAi5YW35L2T5a6e546wXG7kuI3nqLPlrpogMiI8PEZyYW1lPj4gew0KDQp9DQpwYWNrYWdlICLlhbfkvZPlrp7njrBcbuS4jeeos+WumiAzIjw8RnJhbWU+PiB7DQoNCn0NCnBhY2thZ2UgIuaKveixoSI8PEZyYW1lPj57DQp9DQoi5YW35L2T5a6e546wXG7kuI3nqLPlrpogMSIuLj4i5oq96LGhIg0KIuWFt+S9k+WunueOsFxu5LiN56iz5a6aIDIiLi4+IuaKveixoSINCiLlhbfkvZPlrp7njrBcbuS4jeeos+WumiAzIi4uPiLmir3osaEiDQoNCkBlbmR1bWwNCgpQbGFudFVNTCB2ZXJzaW9uIDEuMjAyMC4xNihNb24gQXVnIDI0IDA0OjIwOjQzIENTVCAyMDIwKQooR1BMIHNvdXJjZSBkaXN0cmlidXRpb24pCkphdmEgUnVudGltZTogSmF2YShUTSkgU0UgUnVudGltZSBFbnZpcm9ubWVudApKVk06IEphdmEgSG90U3BvdChUTSkgNjQtQml0IFNlcnZlciBWTQpEZWZhdWx0IEVuY29kaW5nOiBVVEYtOApMYW5ndWFnZTogemgKQ291bnRyeTogQ04KLS0+PC9nPjwvc3ZnPg=='>
<blockquote>
<p>设计包结构时，稳定的包应该是抽象的，不稳定的包应该是具体的。</p>
</blockquote>
<h3 id="SDP：稳定依赖原则（Stable-Dependencies-Principle）"><a href="#SDP：稳定依赖原则（Stable-Dependencies-Principle）" class="headerlink" title="SDP：稳定依赖原则（Stable Dependencies Principle）"></a>SDP：稳定依赖原则（Stable Dependencies Principle）</h3><p>包之间的依赖应该朝着稳定的方向进行，一个包只应该依赖那些比自己更稳定的包。因为如果依赖不稳定的包，当依赖的包发生变化时，本身的稳定性也发生变化，变得不稳定了。</p>
<h4 id="包的稳定性"><a href="#包的稳定性" class="headerlink" title="包的稳定性"></a>包的稳定性</h4><p>包的稳定性判断原则<br>Ca：Afferent Coupling,向心耦合，依赖该包的外部包的数目。<br>Ce：Efferent Coupling,离心耦合，被该包依赖的外部包的数目。<br>I：Instability,不稳定性。I=Ce/(Ca+Ce),处于[0, 1]之间。值越小越稳定。</p>
<p>认为X是稳定的：</p>
<ol>
<li>如果X被其他很多包依赖，相当于该包有责任担当。</li>
<li>X没有依赖别的包，它是独立的。</li>
</ol>
<p>认为Y是不稳定的：</p>
<ol>
<li>Y没有被其它的包所依赖，不是责任的担当者。</li>
<li>Y依赖很多别的包。</li>
</ol>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjk5cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDozODJweDtoZWlnaHQ6Mjk5cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzODIgMjk5IiB3aWR0aD0iMzgycHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZnRkOG1ianN5ZnRreCIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVsxZThhNjE5NmVmZTNiNGZkNDZlZTM1YTU2MDkyM2YwMF0KZW50aXR5IOWFt+S9k+WunueOsFxu5LiN56iz5a6aIDEtLT48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZnRkOG1ianN5ZnRreCkiIGhlaWdodD0iNjIuOTc2NiIgc3R5bGU9InN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iOTYiIHg9IjciIHk9IjciLz48cGF0aCBkPSJNMzksNyBMMzksMTIgTDMyLDE5IEw3LDE5ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNTYiIHg9IjIyIiB5PSI0MC41MzUyIj7lhbfkvZPlrp7njrA8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNTUiIHg9IjIyIiB5PSI1Ny4wMjM0Ij7kuI3nqLPlrpogMTwvdGV4dD48IS0tTUQ1PVs2NjE4ZTAwNDY1MTYzZWY4M2JjNTM2Zjc1MmU3NzFiY10KZW50aXR5IOWFt+S9k+WunueOsFxu5LiN56iz5a6aIDItLT48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZnRkOG1ianN5ZnRreCkiIGhlaWdodD0iNjIuOTc2NiIgc3R5bGU9InN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iOTYiIHg9IjEzOCIgeT0iNyIvPjxwYXRoIGQ9Ik0xNzAsNyBMMTcwLDEyIEwxNjMsMTkgTDEzOCwxOSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjU2IiB4PSIxNTMiIHk9IjQwLjUzNTIiPuWFt+S9k+WunueOsDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI1NSIgeD0iMTUzIiB5PSI1Ny4wMjM0Ij7kuI3nqLPlrpogMjwvdGV4dD48IS0tTUQ1PVtmMjY5MDYzMGUxZDljNTNjNjVkNzJkMjdiMjk0NWM2Y10KZW50aXR5IOWFt+S9k+WunueOsFxu5LiN56iz5a6aIDMtLT48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZnRkOG1ianN5ZnRreCkiIGhlaWdodD0iNjIuOTc2NiIgc3R5bGU9InN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iOTYiIHg9IjI2OSIgeT0iNyIvPjxwYXRoIGQ9Ik0zMDEsNyBMMzAxLDEyIEwyOTQsMTkgTDI2OSwxOSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjU2IiB4PSIyODQiIHk9IjQwLjUzNTIiPuWFt+S9k+WunueOsDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI1NSIgeD0iMjg0IiB5PSI1Ny4wMjM0Ij7kuI3nqLPlrpogMzwvdGV4dD48IS0tTUQ1PVs5OGVlNDVhYzhkNmFiZjRkNzNmMTE0YzRhMGYwMzQ1Y10KZW50aXR5IOeos+Wumi0tPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmdGQ4bWJqc3lmdGt4KSIgaGVpZ2h0PSI0Ni40ODgzIiBzdHlsZT0ic3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI2OCIgeD0iMTUyIiB5PSIxMzAiLz48cGF0aCBkPSJNMTc0LjY2NjcsMTMwIEwxNzQuNjY2NywxMzUgTDE2Ny42NjY3LDE0MiBMMTUyLDE0MiAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjI4IiB4PSIxNjciIHk9IjE2My41MzUyIj7nqLPlrpo8L3RleHQ+PCEtLU1ENT1bODQ1MDM2YmY0YWM2YTJkZGNjNWZkOTJiMGMyMWYxNGRdCmVudGl0eSDmm7TnqLPlrpotLT48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZnRkOG1ianN5ZnRreCkiIGhlaWdodD0iNDYuNDg4MyIgc3R5bGU9InN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iODIiIHg9Ijg3IiB5PSIyMzYiLz48cGF0aCBkPSJNMTE0LjMzMzMsMjM2IEwxMTQuMzMzMywyNDEgTDEwNy4zMzMzLDI0OCBMODcsMjQ4ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNDIiIHg9IjEwMiIgeT0iMjY5LjUzNTIiPuabtOeos+WumjwvdGV4dD48IS0tTUQ1PVtjMzcwYzMwN2NlZTNlMTNhNjMxYWI5NThmNGVhNzQ1OV0KZW50aXR5IOS4jeeos+Wumi0tPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmdGQ4bWJqc3lmdGt4KSIgaGVpZ2h0PSI0Ni40ODgzIiBzdHlsZT0ic3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI4MiIgeD0iMjA0IiB5PSIyMzYiLz48cGF0aCBkPSJNMjMxLjMzMzMsMjM2IEwyMzEuMzMzMywyNDEgTDIyNC4zMzMzLDI0OCBMMjA0LDI0OCAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjQyIiB4PSIyMTkiIHk9IjI2OS41MzUyIj7kuI3nqLPlrpo8L3RleHQ+PCEtLU1ENT1bZThmNmQxMzQ2ZGM0OTUzZjEzYzhlNjU5MTI4YzQ3Y2ZdCmxpbmsg5YW35L2T5a6e546wXG7kuI3nqLPlrpogMSB0byDnqLPlrpotLT48cGF0aCBkPSJNOTEuMTQzMSw3MC4wOTA3IEMxMTEuNDQ5LDg3LjgzOSAxMzYuNTAxLDEwOS43MzU2IDE1NS43NTk1LDEyNi41Njg0ICIgZmlsbD0ibm9uZSIgaWQ9IuWFt+S9k+WunueOsFxu5LiN56iz5a6aIDEtdG8t56iz5a6aIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjE1OS41MzA5LDEyOS44NjQ4LDE1NS4zODY4LDEyMC45MzAzLDE1NS43NjYyLDEyNi41NzQ0LDE1MC4xMjIxLDEyNi45NTM4LDE1OS41MzA5LDEyOS44NjQ4IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtlMGMzMTAyZGEwMzZhOGU4ODhhZTc3NDQyMjMwNjI4Nl0KbGluayDlhbfkvZPlrp7njrBcbuS4jeeos+WumiAyIHRvIOeos+Wumi0tPjxwYXRoIGQ9Ik0xODYsNzAuMDkwNyBDMTg2LDg3LjA5OTUgMTg2LDEwNy45MTgxIDE4NiwxMjQuNDM4NiAiIGZpbGw9Im5vbmUiIGlkPSLlhbfkvZPlrp7njrBcbuS4jeeos+WumiAyLXRvLeeos+WumiIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIxODYsMTI5Ljg2NDgsMTkwLDEyMC44NjQ4LDE4NiwxMjQuODY0OCwxODIsMTIwLjg2NDgsMTg2LDEyOS44NjQ4IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVs3NzMyOTA3YTBlYjZiYWJmNmFlZjJjY2Y5Mjg2OTkwNV0KbGluayDlhbfkvZPlrp7njrBcbuS4jeeos+WumiAzIHRvIOeos+Wumi0tPjxwYXRoIGQ9Ik0yODAuODU2OSw3MC4wOTA3IEMyNjAuNTUxLDg3LjgzOSAyMzUuNDk5LDEwOS43MzU2IDIxNi4yNDA1LDEyNi41Njg0ICIgZmlsbD0ibm9uZSIgaWQ9IuWFt+S9k+WunueOsFxu5LiN56iz5a6aIDMtdG8t56iz5a6aIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjIxMi40NjkxLDEyOS44NjQ4LDIyMS44Nzc5LDEyNi45NTM4LDIxNi4yMzM4LDEyNi41NzQ0LDIxNi42MTMyLDEyMC45MzAzLDIxMi40NjkxLDEyOS44NjQ4IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtmNDRmMmNlMjQ3ZWRhMDY4YTVkMjdjYzdjYjVkZjIxZV0KbGluayDnqLPlrpogdG8g5LiN56iz5a6aLS0+PHBhdGggZD0iTTE5OC44MDIxLDE3Ni4wMDA0IEMyMDcuNzg2LDE5Mi4xNDA5IDIxOS44NTA1LDIxMy44MTYyIDIyOS4zOTc3LDIzMC45Njg4ICIgZmlsbD0ibm9uZSIgaWQ9Iueos+Wumi10by3kuI3nqLPlrpoiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA3LjAsNy4wOyIvPjxwYXRoIGQ9Ik0yMzMuMDgyNSwyMjkuMzY0MiBMMjIyLjIwMTYsMjI2LjI2NDggTTIyNi4wOTIzLDIzMy4yNTQ5IEwyMjkuMTkxNywyMjIuMzc0ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bYWM0ZTg3OTU3Zjc5ODdhMGNmYjBmYWNjY2I4OWM0ZGNdCmxpbmsg56iz5a6aIHRvIOabtOeos+Wumi0tPjxwYXRoIGQ9Ik0xNzMuNDE0OSwxNzYuMDAwNCBDMTY0LjU4MzMsMTkyLjE0MDkgMTUyLjcyMzIsMjEzLjgxNjIgMTQzLjMzNzgsMjMwLjk2ODggIiBmaWxsPSJub25lIiBpZD0i56iz5a6aLXRvLeabtOeos+WumiIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIxNDAuNzYwOSwyMzUuNjc4NCwxNDguNTksMjI5LjcwMywxNDMuMTYwOSwyMzEuMjkyMSwxNDEuNTcxOSwyMjUuODYzLDE0MC43NjA5LDIzNS42Nzg0IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtlNTAwZjRjZmQzNjM4M2Y3ZmQ2ZGY5MGJlOWJkOTNlNV0KQHN0YXJ0dW1sDQpwYWNrYWdlICLlhbfkvZPlrp7njrBcbuS4jeeos+WumiAxIjw8RnJhbWU+PiB7DQoNCn0NCnBhY2thZ2UgIuWFt+S9k+WunueOsFxu5LiN56iz5a6aIDIiPDxGcmFtZT4+IHsNCg0KfQ0KcGFja2FnZSAi5YW35L2T5a6e546wXG7kuI3nqLPlrpogMyI8PEZyYW1lPj4gew0KDQp9DQpwYWNrYWdlICLnqLPlrpoiPDxGcmFtZT4+ew0KfQ0KDQpwYWNrYWdlICLmm7TnqLPlrpoiPDxGcmFtZT4+ew0KfQ0KDQpwYWNrYWdlICLkuI3nqLPlrpoiPDxGcmFtZT4+ew0KfQ0KDQoi5YW35L2T5a6e546wXG7kuI3nqLPlrpogMSIuLj4i56iz5a6aIg0KIuWFt+S9k+WunueOsFxu5LiN56iz5a6aIDIiLi4+Iueos+WumiINCiLlhbfkvZPlrp7njrBcbuS4jeeos+WumiAzIi4uPiLnqLPlrpoiDQoi56iz5a6aIiAuLnggIuS4jeeos+WumiINCiLnqLPlrpoiIC4uPiLmm7TnqLPlrpoiDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjAuMTYoTW9uIEF1ZyAyNCAwNDoyMDo0MyBDU1QgMjAyMCkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IHpoCkNvdW50cnk6IENOCi0tPjwvZz48L3N2Zz4='>
<blockquote>
<p>设计包结构时，包应该只依赖比自己更稳定的包。</p>
</blockquote>
<h3 id="DAG：无循环依赖原则"><a href="#DAG：无循环依赖原则" class="headerlink" title="DAG：无循环依赖原则"></a>DAG：无循环依赖原则</h3><p>包之间的依赖结构必须是一个有向无环图。在依赖结构中不能出现循环。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMTc2cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDoxNTdweDtoZWlnaHQ6MTc2cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxNTcgMTc2IiB3aWR0aD0iMTU3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjFlcmR3NHJtMml5eXoiIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PCEtLU1ENT1bNzcwMzg5YWI5ZGYxNTM2NDViYzZlZjI4MDU1ZWIyYjVdCmVudGl0eSBBLS0+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2YxZXJkdzRybTJpeXl6KSIgaGVpZ2h0PSI0Ni40ODgzIiBzdHlsZT0ic3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI1MCIgeD0iNyIgeT0iNyIvPjxwYXRoIGQ9Ik0yMy42NjY3LDcgTDIzLjY2NjcsMTIgTDE2LjY2NjcsMTkgTDcsMTkgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDEuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMCIgeD0iMjIiIHk9IjQwLjUzNTIiPkE8L3RleHQ+PCEtLU1ENT1bYjJkMzkyNTliNmFlYWJjMTZiMzk0ZGVlYjAyMzg0MjZdCmVudGl0eSBCLS0+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2YxZXJkdzRybTJpeXl6KSIgaGVpZ2h0PSI0Ni40ODgzIiBzdHlsZT0ic3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI0OCIgeD0iOTIiIHk9IjciLz48cGF0aCBkPSJNMTA4LDcgTDEwOCwxMiBMMTAxLDE5IEw5MiwxOSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjgiIHg9IjEwNyIgeT0iNDAuNTM1MiI+QjwvdGV4dD48IS0tTUQ1PVsxNmZhYjcyM2JlNDE4ZjdlYWYyZWE0YmQ4OTVhOGU1MV0KZW50aXR5IEMtLT48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZjFlcmR3NHJtMml5eXopIiBoZWlnaHQ9IjQ2LjQ4ODMiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjUwIiB4PSI0OSIgeT0iMTEzIi8+PHBhdGggZD0iTTY1LjY2NjcsMTEzIEw2NS42NjY3LDExOCBMNTguNjY2NywxMjUgTDQ5LDEyNSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEwIiB4PSI2NCIgeT0iMTQ2LjUzNTIiPkM8L3RleHQ+PCEtLU1ENT1bNWUyZWVjNjJhNTBiMjZiNmIwZGI2YzEyZTRlZTI4OWNdCmxpbmsgQSB0byBCLS0+PHBhdGggZD0iTTU3LjI2NTYsMzAgQzY3LjAzNDQsMzAgNzYuODAzMSwzMCA4Ni41NzE5LDMwICIgZmlsbD0ibm9uZSIgaWQ9IkEtdG8tQiIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI5MS42ODAzLDMwLDgyLjY4MDMsMjYsODYuNjgwMywzMCw4Mi42ODAzLDM0LDkxLjY4MDMsMzAiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9W2NkMjVkODI0NzMyNDIwN2Y4MjhhNGRiOWY1OGVkNjlkXQpsaW5rIEIgdG8gQy0tPjxwYXRoIGQ9Ik0xMDYuODg2Niw1My4wMDA0IEMxMDAuNDkxMyw2OS4xNDA5IDkxLjkwMyw5MC44MTYyIDg1LjEwNjcsMTA3Ljk2ODggIiBmaWxsPSJub25lIiBpZD0iQi10by1DIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjgzLjI0MDYsMTEyLjY3ODQsOTAuMjc0OCwxMDUuNzg0OSw4NS4wODI2LDEwOC4wMzAxLDgyLjgzNzUsMTAyLjgzNzgsODMuMjQwNiwxMTIuNjc4NCIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bMTQ1NGQ1Y2RlN2JjMGMyNzZiN2JkYzgzZmJhODRjMjRdCmxpbmsgQyB0byBBLS0+PHBhdGggZD0iTTY0Ljc1OTQsMTEyLjY3ODQgQzU4LjMzNTIsOTYuNDY1MSA0OS43NDQ0LDc0Ljc4MzYgNDIuOTcyLDU3LjY5MTMgIiBmaWxsPSJub25lIiBpZD0iQy10by1BIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjQxLjExMzQsNTMuMDAwNCw0MC43MSw2Mi44NDEsNDIuOTU1Miw1Ny42NDg4LDQ4LjE0NzQsNTkuODk0LDQxLjExMzQsNTMuMDAwNCIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bNTIwZTY0NDgxMzA0N2NhY2NiMWMwZmFiMmExYzhlODVdCkBzdGFydHVtbA0KcGFja2FnZSAiQSI8PEZyYW1lPj4gew0KICAgIA0KfQ0KcGFja2FnZSAiQiI8PEZyYW1lPj4gew0KfQ0KcGFja2FnZSAiQyI8PEZyYW1lPj4gew0KfQ0KDQoiQSIgLj4gIkIiDQoiQiIgLi4+ICJDIg0KIkMiIC4+ICJBIg0KDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjAuMTYoTW9uIEF1ZyAyNCAwNDoyMDo0MyBDU1QgMjAyMCkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IHpoCkNvdW50cnk6IENOCi0tPjwvZz48L3N2Zz4='>

<center><small>包的循环依赖</small></center>

<p>如上图所示包A，B，C之间存在循环依赖。当修改了包中的代码并发布新的版本时，我们需要把该包以及它所依赖的其它包一起发布，如果多个包之间存在循环依赖，如上图所示，当我们修改了B时，需要把A，B，C一起同时发布。当存在循环依赖时环中任何一个包需要更新时，需要把环中的所有包一起发布，增加了发布后的验证难度。</p>
<h4 id="循环依赖的打破方法"><a href="#循环依赖的打破方法" class="headerlink" title="循环依赖的打破方法"></a>循环依赖的打破方法</h4><ol>
<li>创建新的包。</li>
</ol>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMTc2cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDoxNTlweDtoZWlnaHQ6MTc2cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxNTkgMTc2IiB3aWR0aD0iMTU5cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjY3YzFwbTNkcmF5ZyIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVs3NzAzODlhYjlkZjE1MzY0NWJjNmVmMjgwNTVlYjJiNV0KZW50aXR5IEEtLT48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZjY3YzFwbTNkcmF5ZykiIGhlaWdodD0iNDYuNDg4MyIgc3R5bGU9InN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNTAiIHg9IjciIHk9IjciLz48cGF0aCBkPSJNMjMuNjY2Nyw3IEwyMy42NjY3LDEyIEwxNi42NjY3LDE5IEw3LDE5ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTAiIHg9IjIyIiB5PSI0MC41MzUyIj5BPC90ZXh0PjwhLS1NRDU9W2IyZDM5MjU5YjZhZWFiYzE2YjM5NGRlZWIwMjM4NDI2XQplbnRpdHkgQi0tPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmNjdjMXBtM2RyYXlnKSIgaGVpZ2h0PSI0Ni40ODgzIiBzdHlsZT0ic3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI0OCIgeD0iOTIiIHk9IjciLz48cGF0aCBkPSJNMTA4LDcgTDEwOCwxMiBMMTAxLDE5IEw5MiwxOSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjgiIHg9IjEwNyIgeT0iNDAuNTM1MiI+QjwvdGV4dD48IS0tTUQ1PVsxNmZhYjcyM2JlNDE4ZjdlYWYyZWE0YmQ4OTVhOGU1MV0KZW50aXR5IEMtLT48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZjY3YzFwbTNkcmF5ZykiIGhlaWdodD0iNDYuNDg4MyIgc3R5bGU9InN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNTAiIHg9IjkyIiB5PSIxMTMiLz48cGF0aCBkPSJNMTA4LjY2NjcsMTEzIEwxMDguNjY2NywxMTggTDEwMS42NjY3LDEyNSBMOTIsMTI1ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTAiIHg9IjEwNyIgeT0iMTQ2LjUzNTIiPkM8L3RleHQ+PCEtLU1ENT1bMTE4ZjQyNjAyNTI0YWQ0ODJmMDJiMjdlZjIyZmMzODNdCmVudGl0eSBELS0+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2Y2N2MxcG0zZHJheWcpIiBoZWlnaHQ9IjQ2LjQ4ODMiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjUwIiB4PSI3IiB5PSIxMTMiLz48cGF0aCBkPSJNMjMuNjY2NywxMTMgTDIzLjY2NjcsMTE4IEwxNi42NjY3LDEyNSBMNywxMjUgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDEuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMCIgeD0iMjIiIHk9IjE0Ni41MzUyIj5EPC90ZXh0PjwhLS1NRDU9WzVlMmVlYzYyYTUwYjI2YjZiMGRiNmMxMmU0ZWUyODljXQpsaW5rIEEgdG8gQi0tPjxwYXRoIGQ9Ik01Ny4yNjU2LDMwIEM2Ny4wMzQ0LDMwIDc2LjgwMzEsMzAgODYuNTcxOSwzMCAiIGZpbGw9Im5vbmUiIGlkPSJBLXRvLUIiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iOTEuNjgwMywzMCw4Mi42ODAzLDI2LDg2LjY4MDMsMzAsODIuNjgwMywzNCw5MS42ODAzLDMwIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtjZDI1ZDgyNDczMjQyMDdmODI4YTRkYjlmNThlZDY5ZF0KbGluayBCIHRvIEMtLT48cGF0aCBkPSJNMTE2LjIxNyw1My4wMDA0IEMxMTYuMzY4LDY5LjAwMyAxMTYuNTcwMiw5MC40NDYxIDExNi43MzE0LDEwNy41MjggIiBmaWxsPSJub25lIiBpZD0iQi10by1DIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjExNi43OCwxMTIuNjc4NCwxMjAuNjk0NywxMDMuNjQxLDExNi43MzI3LDEwNy42Nzg2LDExMi42OTUxLDEwMy43MTY2LDExNi43OCwxMTIuNjc4NCIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bOWQ2ODMyZTg5ZWE3MzI0NWEwYjM5YjJlNGFhN2ViZTJdCnJldmVyc2UgbGluayBEIHRvIEMtLT48cGF0aCBkPSJNNjIuMzYzMiwxMzYgQzcyLjE3MDksMTM2IDgxLjk3ODYsMTM2IDkxLjc4NjQsMTM2ICIgZmlsbD0ibm9uZSIgaWQ9IkQtYmFja3RvLUMiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iNTcuMjM0NCwxMzYsNjYuMjM0NCwxNDAsNjIuMjM0NCwxMzYsNjYuMjM0NCwxMzIsNTcuMjM0NCwxMzYiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzBjYzQxNGMwNTE2ODQwMWU0NGFmN2ExYzk5MWQyMDQyXQpsaW5rIEEgdG8gRC0tPjxwYXRoIGQ9Ik0zMiw1My4wMDA0IEMzMiw2OS4wMDMgMzIsOTAuNDQ2MSAzMiwxMDcuNTI4ICIgZmlsbD0ibm9uZSIgaWQ9IkEtdG8tRCIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIzMiwxMTIuNjc4NCwzNiwxMDMuNjc4NCwzMiwxMDcuNjc4NCwyOCwxMDMuNjc4NCwzMiwxMTIuNjc4NCIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bYzQ1Y2NmYzhlNmY2YjQ4ZjQ3MGJiMWVlZTYxM2VjY2NdCkBzdGFydHVtbA0KDQpwYWNrYWdlICJBIjw8RnJhbWU+PiB7DQoNCn0NCnBhY2thZ2UgIkIiPDxGcmFtZT4+IHsNCg0KfQ0KcGFja2FnZSAiQyI8PEZyYW1lPj4gew0KDQp9DQpwYWNrYWdlICJEIjw8RnJhbWU+PiB7DQoNCn0NCiJBIiAuPiAiQiINCiJCIiAuLj4gIkMiDQoiRCIgPC4gIkMiDQoiQSIgLi4+ICJEIg0KDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjAuMTYoTW9uIEF1ZyAyNCAwNDoyMDo0MyBDU1QgMjAyMCkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IHpoCkNvdW50cnk6IENOCi0tPjwvZz48L3N2Zz4='>
<center><small>通过引入新的包打破循环依赖</small></center>
当C依赖A时，A和C中肯定存在一些公共的内容，把公共的内容抽取出来，让A和C都依赖D，这样打破循环依赖。

<ol start="2">
<li>使用DIP和ISP设计原则。</li>
</ol>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjE1cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDoxNTVweDtoZWlnaHQ6MjE1cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxNTUgMjE1IiB3aWR0aD0iMTU1cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZmxsbW1lcTBrc3hvMSIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVs5OWViYTZlODQxZTEwZjBlOTAzMTYxYWM1MDVhZmI1MF0KY2x1c3RlciBBLS0+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2ZsbG1tZXEwa3N4bzEpIiBoZWlnaHQ9IjgzIiBzdHlsZT0ic3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxMzEiIHg9IjciIHk9IjciLz48cGF0aCBkPSJNMjcsNyBMMjcsMTYuNDg4MyBMMTcsMjYuNDg4MyBMNywyNi40ODgzICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEwIiB4PSIxMCIgeT0iMjEuNTM1MiI+QTwvdGV4dD48IS0tTUQ1PVs3YWI2MDk0YWJhMmRiZmU2ODNkMzEzODUwYjQ4NzhiZF0KY2x1c3RlciBCLS0+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2ZsbG1tZXEwa3N4bzEpIiBoZWlnaHQ9IjgzIiBzdHlsZT0ic3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxMzEiIHg9IjciIHk9IjExNSIvPjxwYXRoIGQ9Ik0yNiwxMTUgTDI2LDEyNC40ODgzIEwxNiwxMzQuNDg4MyBMNywxMzQuNDg4MyAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI5IiB4PSIxMCIgeT0iMTI5LjUzNTIiPkI8L3RleHQ+PCEtLU1ENT1bNjRkY2ExZjhkMjU2NDVlMzE2Yjc2MjBiOTFkYTZmMTNdCmNsYXNzIFUtLT48cmVjdCBjb2RlTGluZT0iMyIgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZsbG1tZXEwa3N4bzEpIiBoZWlnaHQ9IjQ4IiBpZD0iVSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNDAiIHg9IjkwIiB5PSIzNCIvPjxlbGxpcHNlIGN4PSIxMDUiIGN5PSI1MCIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0xMDcuOTczMSw1NS42NDMxIFExMDcuMzkyMSw1NS45NDE5IDEwNi43NTI5LDU2LjA5MTMgUTEwNi4xMTM4LDU2LjI0MDcgMTA1LjQwODIsNTYuMjQwNyBRMTAyLjkwMTQsNTYuMjQwNyAxMDEuNTgxNSw1NC41ODg5IFExMDAuMjYxNyw1Mi45MzcgMTAwLjI2MTcsNDkuODE1OSBRMTAwLjI2MTcsNDYuNjg2NSAxMDEuNTgxNSw0NS4wMzQ3IFExMDIuOTAxNCw0My4zODI4IDEwNS40MDgyLDQzLjM4MjggUTEwNi4xMTM4LDQzLjM4MjggMTA2Ljc2MTIsNDMuNTMyMiBRMTA3LjQwODcsNDMuNjgxNiAxMDcuOTczMSw0My45ODA1IEwxMDcuOTczMSw0Ni43MDMxIFExMDcuMzQyMyw0Ni4xMjIxIDEwNi43NDg4LDQ1Ljg1MjMgUTEwNi4xNTUzLDQ1LjU4MjUgMTA1LjUyNDQsNDUuNTgyNSBRMTA0LjE3OTcsNDUuNTgyNSAxMDMuNDk0OSw0Ni42NDkyIFExMDIuODEwMSw0Ny43MTU4IDEwMi44MTAxLDQ5LjgxNTkgUTEwMi44MTAxLDUxLjkwNzcgMTAzLjQ5NDksNTIuOTc0NCBRMTA0LjE3OTcsNTQuMDQxIDEwNS41MjQ0LDU0LjA0MSBRMTA2LjE1NTMsNTQuMDQxIDEwNi43NDg4LDUzLjc3MTIgUTEwNy4zNDIzLDUzLjUwMTUgMTA3Ljk3MzEsNTIuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjgiIHg9IjExOSIgeT0iNTQuNTM1MiI+VTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI5MSIgeDI9IjEyOSIgeTE9IjY2IiB5Mj0iNjYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI5MSIgeDI9IjEyOSIgeTE9Ijc0IiB5Mj0iNzQiLz48IS0tTUQ1PVsxYWUyNzE1Njk3OTQyYmQyMjFlYmMzMjMyYmY0ODkxMV0KY2xhc3MgVi0tPjxyZWN0IGNvZGVMaW5lPSI1IiBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZmxsbW1lcTBrc3hvMSkiIGhlaWdodD0iNDgiIGlkPSJWIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI0MCIgeD0iMTUiIHk9IjM0Ii8+PGVsbGlwc2UgY3g9IjMwIiBjeT0iNTAiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMzIuOTczMSw1NS42NDMxIFEzMi4zOTIxLDU1Ljk0MTkgMzEuNzUyOSw1Ni4wOTEzIFEzMS4xMTM4LDU2LjI0MDcgMzAuNDA4Miw1Ni4yNDA3IFEyNy45MDE0LDU2LjI0MDcgMjYuNTgxNSw1NC41ODg5IFEyNS4yNjE3LDUyLjkzNyAyNS4yNjE3LDQ5LjgxNTkgUTI1LjI2MTcsNDYuNjg2NSAyNi41ODE1LDQ1LjAzNDcgUTI3LjkwMTQsNDMuMzgyOCAzMC40MDgyLDQzLjM4MjggUTMxLjExMzgsNDMuMzgyOCAzMS43NjEyLDQzLjUzMjIgUTMyLjQwODcsNDMuNjgxNiAzMi45NzMxLDQzLjk4MDUgTDMyLjk3MzEsNDYuNzAzMSBRMzIuMzQyMyw0Ni4xMjIxIDMxLjc0ODgsNDUuODUyMyBRMzEuMTU1Myw0NS41ODI1IDMwLjUyNDQsNDUuNTgyNSBRMjkuMTc5Nyw0NS41ODI1IDI4LjQ5NDksNDYuNjQ5MiBRMjcuODEwMSw0Ny43MTU4IDI3LjgxMDEsNDkuODE1OSBRMjcuODEwMSw1MS45MDc3IDI4LjQ5NDksNTIuOTc0NCBRMjkuMTc5Nyw1NC4wNDEgMzAuNTI0NCw1NC4wNDEgUTMxLjE1NTMsNTQuMDQxIDMxLjc0ODgsNTMuNzcxMiBRMzIuMzQyMyw1My41MDE1IDMyLjk3MzEsNTIuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjgiIHg9IjQ0IiB5PSI1NC41MzUyIj5WPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE2IiB4Mj0iNTQiIHkxPSI2NiIgeTI9IjY2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTYiIHgyPSI1NCIgeTE9Ijc0IiB5Mj0iNzQiLz48IS0tTUQ1PVtiMjAzZjZiMDk4YjhkZmZlNDk0YTk1ZDljNTAwZjhlMl0KY2xhc3MgWC0tPjxyZWN0IGNvZGVMaW5lPSIxMCIgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZsbG1tZXEwa3N4bzEpIiBoZWlnaHQ9IjQ4IiBpZD0iWCIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNDAiIHg9IjkwIiB5PSIxNDIiLz48ZWxsaXBzZSBjeD0iMTA1IiBjeT0iMTU4IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTEwNy45NzMxLDE2My42NDMxIFExMDcuMzkyMSwxNjMuOTQxOSAxMDYuNzUyOSwxNjQuMDkxMyBRMTA2LjExMzgsMTY0LjI0MDcgMTA1LjQwODIsMTY0LjI0MDcgUTEwMi45MDE0LDE2NC4yNDA3IDEwMS41ODE1LDE2Mi41ODg5IFExMDAuMjYxNywxNjAuOTM3IDEwMC4yNjE3LDE1Ny44MTU5IFExMDAuMjYxNywxNTQuNjg2NSAxMDEuNTgxNSwxNTMuMDM0NyBRMTAyLjkwMTQsMTUxLjM4MjggMTA1LjQwODIsMTUxLjM4MjggUTEwNi4xMTM4LDE1MS4zODI4IDEwNi43NjEyLDE1MS41MzIyIFExMDcuNDA4NywxNTEuNjgxNiAxMDcuOTczMSwxNTEuOTgwNSBMMTA3Ljk3MzEsMTU0LjcwMzEgUTEwNy4zNDIzLDE1NC4xMjIxIDEwNi43NDg4LDE1My44NTIzIFExMDYuMTU1MywxNTMuNTgyNSAxMDUuNTI0NCwxNTMuNTgyNSBRMTA0LjE3OTcsMTUzLjU4MjUgMTAzLjQ5NDksMTU0LjY0OTIgUTEwMi44MTAxLDE1NS43MTU4IDEwMi44MTAxLDE1Ny44MTU5IFExMDIuODEwMSwxNTkuOTA3NyAxMDMuNDk0OSwxNjAuOTc0NCBRMTA0LjE3OTcsMTYyLjA0MSAxMDUuNTI0NCwxNjIuMDQxIFExMDYuMTU1MywxNjIuMDQxIDEwNi43NDg4LDE2MS43NzEyIFExMDcuMzQyMywxNjEuNTAxNSAxMDcuOTczMSwxNjAuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjgiIHg9IjExOSIgeT0iMTYyLjUzNTIiPlg8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iOTEiIHgyPSIxMjkiIHkxPSIxNzQiIHkyPSIxNzQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI5MSIgeDI9IjEyOSIgeTE9IjE4MiIgeTI9IjE4MiIvPjwhLS1NRDU9WzE5MDRjMjczNTUxYjFkM2NkNWI0MzJkZjViNzBjMTUzXQpjbGFzcyBZLS0+PHJlY3QgY29kZUxpbmU9IjEzIiBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZmxsbW1lcTBrc3hvMSkiIGhlaWdodD0iNDgiIGlkPSJZIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIzOSIgeD0iMTUuNSIgeT0iMTQyIi8+PGVsbGlwc2UgY3g9IjMwLjUiIGN5PSIxNTgiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMzMuNDczMSwxNjMuNjQzMSBRMzIuODkyMSwxNjMuOTQxOSAzMi4yNTI5LDE2NC4wOTEzIFEzMS42MTM4LDE2NC4yNDA3IDMwLjkwODIsMTY0LjI0MDcgUTI4LjQwMTQsMTY0LjI0MDcgMjcuMDgxNSwxNjIuNTg4OSBRMjUuNzYxNywxNjAuOTM3IDI1Ljc2MTcsMTU3LjgxNTkgUTI1Ljc2MTcsMTU0LjY4NjUgMjcuMDgxNSwxNTMuMDM0NyBRMjguNDAxNCwxNTEuMzgyOCAzMC45MDgyLDE1MS4zODI4IFEzMS42MTM4LDE1MS4zODI4IDMyLjI2MTIsMTUxLjUzMjIgUTMyLjkwODcsMTUxLjY4MTYgMzMuNDczMSwxNTEuOTgwNSBMMzMuNDczMSwxNTQuNzAzMSBRMzIuODQyMywxNTQuMTIyMSAzMi4yNDg4LDE1My44NTIzIFEzMS42NTUzLDE1My41ODI1IDMxLjAyNDQsMTUzLjU4MjUgUTI5LjY3OTcsMTUzLjU4MjUgMjguOTk0OSwxNTQuNjQ5MiBRMjguMzEwMSwxNTUuNzE1OCAyOC4zMTAxLDE1Ny44MTU5IFEyOC4zMTAxLDE1OS45MDc3IDI4Ljk5NDksMTYwLjk3NDQgUTI5LjY3OTcsMTYyLjA0MSAzMS4wMjQ0LDE2Mi4wNDEgUTMxLjY1NTMsMTYyLjA0MSAzMi4yNDg4LDE2MS43NzEyIFEzMi44NDIzLDE2MS41MDE1IDMzLjQ3MzEsMTYwLjkyMDQgWiAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI3IiB4PSI0NC41IiB5PSIxNjIuNTM1MiI+WTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxNi41IiB4Mj0iNTMuNSIgeTE9IjE3NCIgeTI9IjE3NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjE2LjUiIHgyPSI1My41IiB5MT0iMTgyIiB5Mj0iMTgyIi8+PCEtLU1ENT1bMDBmNGY0YjBmYWJmNTU1YTg1MmVlMTEyMDU1YmUwOWNdCmxpbmsgVSB0byBYLS0+PHBhdGggY29kZUxpbmU9IjE4IiBkPSJNMTEwLDgyLjIzNzMgQzExMCw5OC4zNTY1IDExMCwxMTkuNjIxMiAxMTAsMTM2LjY5MTEgIiBmaWxsPSJub25lIiBpZD0iVS10by1YIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjExMCwxNDEuODQzNiwxMTQsMTMyLjg0MzYsMTEwLDEzNi44NDM2LDEwNiwxMzIuODQzNiwxMTAsMTQxLjg0MzYiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzJhZDViOTZkNzhkMzA0ZGI2MTc5NGIwNDc0NDQ5YWZjXQpsaW5rIFkgdG8gVi0tPjxwYXRoIGNvZGVMaW5lPSIxOSIgZD0iTTM1LDE0MS44NDM2IEMzNSwxMjUuNzQxNiAzNSwxMDQuNDc4NSAzNSw4Ny4zOTQ3ICIgZmlsbD0ibm9uZSIgaWQ9IlktdG8tViIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIzNSw4Mi4yMzczLDMxLDkxLjIzNzMsMzUsODcuMjM3MywzOSw5MS4yMzczLDM1LDgyLjIzNzMiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9W2Q3NzU5ZjdlODE4YTNmYWFjZDMzNjY1NjVhMDdhMjkzXQpAc3RhcnR1bWwNCg0KcGFja2FnZSAiQSI8PEZyYW1lPj4gew0KICAgIGNsYXNzIFUgew0KICAgIH0NCiAgICBjbGFzcyBWIHsNCiAgICB9DQp9DQoNCnBhY2thZ2UgIkIiPDxGcmFtZT4+IHsNCiAgICBjbGFzcyBYIHsNCg0KICAgIH0NCiAgICBjbGFzcyBZIHsNCg0KICAgIH0NCn0NCg0KVSAuLj4gWA0KWSAuLj4gVg0KDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjAuMTYoTW9uIEF1ZyAyNCAwNDoyMDo0MyBDU1QgMjAyMCkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IHpoCkNvdW50cnk6IENOCi0tPjwvZz48L3N2Zz4='>
<center><small>包A和B相互依赖的情况</small></center>


<p>通过为Y设计一个接口IY，使得V和Y都依赖IY，这样也可以打破循环依赖。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjE1cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDoyMzJweDtoZWlnaHQ6MjE1cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAyMzIgMjE1IiB3aWR0aD0iMjMycHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZmdscnR3dGVhcHlxMSIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48IS0tTUQ1PVs5OWViYTZlODQxZTEwZjBlOTAzMTYxYWM1MDVhZmI1MF0KY2x1c3RlciBBLS0+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2ZnbHJ0d3RlYXB5cTEpIiBoZWlnaHQ9IjgzIiBzdHlsZT0ic3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxMzEiIHg9IjQ2IiB5PSI3Ii8+PHBhdGggZD0iTTY2LDcgTDY2LDE2LjQ4ODMgTDU2LDI2LjQ4ODMgTDQ2LDI2LjQ4ODMgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDEuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTAiIHg9IjQ5IiB5PSIyMS41MzUyIj5BPC90ZXh0PjwhLS1NRDU9WzdhYjYwOTRhYmEyZGJmZTY4M2QzMTM4NTBiNDg3OGJkXQpjbHVzdGVyIEItLT48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZmdscnR3dGVhcHlxMSkiIGhlaWdodD0iODMiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjIwOCIgeD0iNyIgeT0iMTE1Ii8+PHBhdGggZD0iTTI2LDExNSBMMjYsMTI0LjQ4ODMgTDE2LDEzNC40ODgzIEw3LDEzNC40ODgzICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjkiIHg9IjEwIiB5PSIxMjkuNTM1MiI+QjwvdGV4dD48IS0tTUQ1PVs2NGRjYTFmOGQyNTY0NWUzMTZiNzYyMGI5MWRhNmYxM10KY2xhc3MgVS0tPjxyZWN0IGNvZGVMaW5lPSIzIiBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZmdscnR3dGVhcHlxMSkiIGhlaWdodD0iNDgiIGlkPSJVIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI0MCIgeD0iMTI5IiB5PSIzNCIvPjxlbGxpcHNlIGN4PSIxNDQiIGN5PSI1MCIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik0xNDYuOTczMSw1NS42NDMxIFExNDYuMzkyMSw1NS45NDE5IDE0NS43NTI5LDU2LjA5MTMgUTE0NS4xMTM4LDU2LjI0MDcgMTQ0LjQwODIsNTYuMjQwNyBRMTQxLjkwMTQsNTYuMjQwNyAxNDAuNTgxNSw1NC41ODg5IFExMzkuMjYxNyw1Mi45MzcgMTM5LjI2MTcsNDkuODE1OSBRMTM5LjI2MTcsNDYuNjg2NSAxNDAuNTgxNSw0NS4wMzQ3IFExNDEuOTAxNCw0My4zODI4IDE0NC40MDgyLDQzLjM4MjggUTE0NS4xMTM4LDQzLjM4MjggMTQ1Ljc2MTIsNDMuNTMyMiBRMTQ2LjQwODcsNDMuNjgxNiAxNDYuOTczMSw0My45ODA1IEwxNDYuOTczMSw0Ni43MDMxIFExNDYuMzQyMyw0Ni4xMjIxIDE0NS43NDg4LDQ1Ljg1MjMgUTE0NS4xNTUzLDQ1LjU4MjUgMTQ0LjUyNDQsNDUuNTgyNSBRMTQzLjE3OTcsNDUuNTgyNSAxNDIuNDk0OSw0Ni42NDkyIFExNDEuODEwMSw0Ny43MTU4IDE0MS44MTAxLDQ5LjgxNTkgUTE0MS44MTAxLDUxLjkwNzcgMTQyLjQ5NDksNTIuOTc0NCBRMTQzLjE3OTcsNTQuMDQxIDE0NC41MjQ0LDU0LjA0MSBRMTQ1LjE1NTMsNTQuMDQxIDE0NS43NDg4LDUzLjc3MTIgUTE0Ni4zNDIzLDUzLjUwMTUgMTQ2Ljk3MzEsNTIuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjgiIHg9IjE1OCIgeT0iNTQuNTM1MiI+VTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxMzAiIHgyPSIxNjgiIHkxPSI2NiIgeTI9IjY2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTMwIiB4Mj0iMTY4IiB5MT0iNzQiIHkyPSI3NCIvPjwhLS1NRDU9WzFhZTI3MTU2OTc5NDJiZDIyMWViYzMyMzJiZjQ4OTExXQpjbGFzcyBWLS0+PHJlY3QgY29kZUxpbmU9IjUiIGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmZ2xydHd0ZWFweXExKSIgaGVpZ2h0PSI0OCIgaWQ9IlYiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjQwIiB4PSI1NCIgeT0iMzQiLz48ZWxsaXBzZSBjeD0iNjkiIGN5PSI1MCIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwYXRoIGQ9Ik03MS45NzMxLDU1LjY0MzEgUTcxLjM5MjEsNTUuOTQxOSA3MC43NTI5LDU2LjA5MTMgUTcwLjExMzgsNTYuMjQwNyA2OS40MDgyLDU2LjI0MDcgUTY2LjkwMTQsNTYuMjQwNyA2NS41ODE1LDU0LjU4ODkgUTY0LjI2MTcsNTIuOTM3IDY0LjI2MTcsNDkuODE1OSBRNjQuMjYxNyw0Ni42ODY1IDY1LjU4MTUsNDUuMDM0NyBRNjYuOTAxNCw0My4zODI4IDY5LjQwODIsNDMuMzgyOCBRNzAuMTEzOCw0My4zODI4IDcwLjc2MTIsNDMuNTMyMiBRNzEuNDA4Nyw0My42ODE2IDcxLjk3MzEsNDMuOTgwNSBMNzEuOTczMSw0Ni43MDMxIFE3MS4zNDIzLDQ2LjEyMjEgNzAuNzQ4OCw0NS44NTIzIFE3MC4xNTUzLDQ1LjU4MjUgNjkuNTI0NCw0NS41ODI1IFE2OC4xNzk3LDQ1LjU4MjUgNjcuNDk0OSw0Ni42NDkyIFE2Ni44MTAxLDQ3LjcxNTggNjYuODEwMSw0OS44MTU5IFE2Ni44MTAxLDUxLjkwNzcgNjcuNDk0OSw1Mi45NzQ0IFE2OC4xNzk3LDU0LjA0MSA2OS41MjQ0LDU0LjA0MSBRNzAuMTU1Myw1NC4wNDEgNzAuNzQ4OCw1My43NzEyIFE3MS4zNDIzLDUzLjUwMTUgNzEuOTczMSw1Mi45MjA0IFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iOCIgeD0iODMiIHk9IjU0LjUzNTIiPlY8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iNTUiIHgyPSI5MyIgeTE9IjY2IiB5Mj0iNjYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI1NSIgeDI9IjkzIiB5MT0iNzQiIHkyPSI3NCIvPjwhLS1NRDU9W2IyMDNmNmIwOThiOGRmZmU0OTRhOTVkOWM1MDBmOGUyXQpjbGFzcyBYLS0+PHJlY3QgY29kZUxpbmU9IjEwIiBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZmdscnR3dGVhcHlxMSkiIGhlaWdodD0iNDgiIGlkPSJYIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI0MCIgeD0iMTY3IiB5PSIxNDIiLz48ZWxsaXBzZSBjeD0iMTgyIiBjeT0iMTU4IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTE4NC45NzMxLDE2My42NDMxIFExODQuMzkyMSwxNjMuOTQxOSAxODMuNzUyOSwxNjQuMDkxMyBRMTgzLjExMzgsMTY0LjI0MDcgMTgyLjQwODIsMTY0LjI0MDcgUTE3OS45MDE0LDE2NC4yNDA3IDE3OC41ODE1LDE2Mi41ODg5IFExNzcuMjYxNywxNjAuOTM3IDE3Ny4yNjE3LDE1Ny44MTU5IFExNzcuMjYxNywxNTQuNjg2NSAxNzguNTgxNSwxNTMuMDM0NyBRMTc5LjkwMTQsMTUxLjM4MjggMTgyLjQwODIsMTUxLjM4MjggUTE4My4xMTM4LDE1MS4zODI4IDE4My43NjEyLDE1MS41MzIyIFExODQuNDA4NywxNTEuNjgxNiAxODQuOTczMSwxNTEuOTgwNSBMMTg0Ljk3MzEsMTU0LjcwMzEgUTE4NC4zNDIzLDE1NC4xMjIxIDE4My43NDg4LDE1My44NTIzIFExODMuMTU1MywxNTMuNTgyNSAxODIuNTI0NCwxNTMuNTgyNSBRMTgxLjE3OTcsMTUzLjU4MjUgMTgwLjQ5NDksMTU0LjY0OTIgUTE3OS44MTAxLDE1NS43MTU4IDE3OS44MTAxLDE1Ny44MTU5IFExNzkuODEwMSwxNTkuOTA3NyAxODAuNDk0OSwxNjAuOTc0NCBRMTgxLjE3OTcsMTYyLjA0MSAxODIuNTI0NCwxNjIuMDQxIFExODMuMTU1MywxNjIuMDQxIDE4My43NDg4LDE2MS43NzEyIFExODQuMzQyMywxNjEuNTAxNSAxODQuOTczMSwxNjAuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjgiIHg9IjE5NiIgeT0iMTYyLjUzNTIiPlg8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTY4IiB4Mj0iMjA2IiB5MT0iMTc0IiB5Mj0iMTc0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTY4IiB4Mj0iMjA2IiB5MT0iMTgyIiB5Mj0iMTgyIi8+PCEtLU1ENT1bOTZmNGFmNmQ3N2MyNTdkNjY5NDAzNTQwYmZlMTIwNzddCmNsYXNzIElZLS0+PHJlY3QgY29kZUxpbmU9IjEzIiBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZmdscnR3dGVhcHlxMSkiIGhlaWdodD0iNDgiIGlkPSJJWSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNDIiIHg9IjE1IiB5PSIxNDIiLz48ZWxsaXBzZSBjeD0iMzAiIGN5PSIxNTgiIGZpbGw9IiNCNEE3RTUiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cGF0aCBkPSJNMjUuOTI3NywxNTMuNzY1MSBMMjUuOTI3NywxNTEuNjA2OSBMMzMuMzA3MSwxNTEuNjA2OSBMMzMuMzA3MSwxNTMuNzY1MSBMMzAuODQxOCwxNTMuNzY1MSBMMzAuODQxOCwxNjEuODQxOCBMMzMuMzA3MSwxNjEuODQxOCBMMzMuMzA3MSwxNjQgTDI1LjkyNzcsMTY0IEwyNS45Mjc3LDE2MS44NDE4IEwyOC4zOTMxLDE2MS44NDE4IEwyOC4zOTMxLDE1My43NjUxIFogIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMCIgeD0iNDQiIHk9IjE2Mi41MzUyIj5JWTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxNiIgeDI9IjU2IiB5MT0iMTc0IiB5Mj0iMTc0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTYiIHgyPSI1NiIgeTE9IjE4MiIgeTI9IjE4MiIvPjwhLS1NRDU9WzE5MDRjMjczNTUxYjFkM2NkNWI0MzJkZjViNzBjMTUzXQpjbGFzcyBZLS0+PHJlY3QgY29kZUxpbmU9IjE3IiBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZmdscnR3dGVhcHlxMSkiIGhlaWdodD0iNDgiIGlkPSJZIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIzOSIgeD0iOTIuNSIgeT0iMTQyIi8+PGVsbGlwc2UgY3g9IjEwNy41IiBjeT0iMTU4IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBhdGggZD0iTTExMC40NzMxLDE2My42NDMxIFExMDkuODkyMSwxNjMuOTQxOSAxMDkuMjUyOSwxNjQuMDkxMyBRMTA4LjYxMzgsMTY0LjI0MDcgMTA3LjkwODIsMTY0LjI0MDcgUTEwNS40MDE0LDE2NC4yNDA3IDEwNC4wODE1LDE2Mi41ODg5IFExMDIuNzYxNywxNjAuOTM3IDEwMi43NjE3LDE1Ny44MTU5IFExMDIuNzYxNywxNTQuNjg2NSAxMDQuMDgxNSwxNTMuMDM0NyBRMTA1LjQwMTQsMTUxLjM4MjggMTA3LjkwODIsMTUxLjM4MjggUTEwOC42MTM4LDE1MS4zODI4IDEwOS4yNjEyLDE1MS41MzIyIFExMDkuOTA4NywxNTEuNjgxNiAxMTAuNDczMSwxNTEuOTgwNSBMMTEwLjQ3MzEsMTU0LjcwMzEgUTEwOS44NDIzLDE1NC4xMjIxIDEwOS4yNDg4LDE1My44NTIzIFExMDguNjU1MywxNTMuNTgyNSAxMDguMDI0NCwxNTMuNTgyNSBRMTA2LjY3OTcsMTUzLjU4MjUgMTA1Ljk5NDksMTU0LjY0OTIgUTEwNS4zMTAxLDE1NS43MTU4IDEwNS4zMTAxLDE1Ny44MTU5IFExMDUuMzEwMSwxNTkuOTA3NyAxMDUuOTk0OSwxNjAuOTc0NCBRMTA2LjY3OTcsMTYyLjA0MSAxMDguMDI0NCwxNjIuMDQxIFExMDguNjU1MywxNjIuMDQxIDEwOS4yNDg4LDE2MS43NzEyIFExMDkuODQyMywxNjEuNTAxNSAxMTAuNDczMSwxNjAuOTIwNCBaICIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjciIHg9IjEyMS41IiB5PSIxNjIuNTM1MiI+WTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI5My41IiB4Mj0iMTMwLjUiIHkxPSIxNzQiIHkyPSIxNzQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI5My41IiB4Mj0iMTMwLjUiIHkxPSIxODIiIHkyPSIxODIiLz48IS0tTUQ1PVswMGY0ZjRiMGZhYmY1NTVhODUyZWUxMTIwNTViZTA5Y10KbGluayBVIHRvIFgtLT48cGF0aCBjb2RlTGluZT0iMjMiIGQ9Ik0xNTcuNTI3OSw4Mi4yMzczIEMxNjMuMTk5NSw5OC4zNTY1IDE3MC42ODE1LDExOS42MjEyIDE3Ni42ODc2LDEzNi42OTExICIgZmlsbD0ibm9uZSIgaWQ9IlUtdG8tWCIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIxNzguNTAwNSwxNDEuODQzNiwxNzkuMjg2NSwxMzIuMDI2MiwxNzYuODQwOSwxMzcuMTI3LDE3MS43NCwxMzQuNjgxNSwxNzguNTAwNSwxNDEuODQzNiIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bY2QwODkzMDU4YTdkMDE0OWUxNWRiNmY3OWQzMzBhMDVdCmxpbmsgViB0byBJWS0tPjxwYXRoIGNvZGVMaW5lPSIyNCIgZD0iTTY1LjQ3MjEsODIuMjM3MyBDNTkuODAwNSw5OC4zNTY1IDUyLjMxODUsMTE5LjYyMTIgNDYuMzEyNCwxMzYuNjkxMSAiIGZpbGw9Im5vbmUiIGlkPSJWLXRvLUlZIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjQ0LjQ5OTUsMTQxLjg0MzYsNTEuMjYsMTM0LjY4MTUsNDYuMTU5MSwxMzcuMTI3LDQzLjcxMzUsMTMyLjAyNjIsNDQuNDk5NSwxNDEuODQzNiIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bNDMwN2EwZDMzZmE1YjZiYThlYWY2YTg1ZDM2M2VkNGJdCmxpbmsgWSB0byBJWS0tPjxwYXRoIGNvZGVMaW5lPSIyNSIgZD0iTTkyLjI2MjUsMTY2IEM4Mi4yNzUyLDE2NiA3Mi4yODgsMTY2IDYyLjMwMDgsMTY2ICIgZmlsbD0ibm9uZSIgaWQ9IlktdG8tSVkiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iNTcuMDc4MSwxNjYsNjYuMDc4MSwxNzAsNjIuMDc4MSwxNjYsNjYuMDc4MSwxNjIsNTcuMDc4MSwxNjYiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzRmYjNkNTZkN2IwZGFjZWI0N2I3OTViMmM0NTVkZmNiXQpAc3RhcnR1bWwNCg0KcGFja2FnZSAiQSI8PEZyYW1lPj4gew0KICAgIGNsYXNzIFUgew0KICAgIH0NCiAgICBjbGFzcyBWIHsNCiAgICB9DQp9DQoNCnBhY2thZ2UgIkIiPDxGcmFtZT4+IHsNCiAgICBjbGFzcyBYIHsNCg0KICAgIH0NCiAgICBpbnRlcmZhY2UgSVkgew0KDQogICAgfQ0KDQogICAgY2xhc3MgWSB7DQoNCiAgICB9DQogICAgDQp9DQoNClUgLi4+IFgNClYgLi4+IElZDQpZIC4+IElZDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjAuMTYoTW9uIEF1ZyAyNCAwNDoyMDo0MyBDU1QgMjAyMCkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IHpoCkNvdW50cnk6IENOCi0tPjwvZz48L3N2Zz4='>
<center><small>通过引入接口IY解决包A和B相互依赖的情况</small></center>

<p>以上两种情况都是通过把公共的部分抽离出来，要么就是抽离成另外一个包，要么就是抽出接口，这样之前的循环依赖就被打破。</p>
<blockquote>
<p>设计包结构时，不能有循环依赖。</p>
</blockquote>
<h3 id="CCP：共同封闭原则（The-Common-Closure-Principle）"><a href="#CCP：共同封闭原则（The-Common-Closure-Principle）" class="headerlink" title="CCP：共同封闭原则（The Common Closure Principle）"></a>CCP：共同封闭原则（The Common Closure Principle）</h3><p>一个包中所有的类应该对同一种类型的变化关闭，一个变化影响一个包，便影响了包中所有的类。<br>一起修改的类，应该组合在一起，如果需要修改程序里的代码，希望所有的修改都发生在一个包里，而不是遍布在很多包里。</p>
<blockquote>
<p>设计包结构时，相互之间紧密关联的类应该放在同一个包里。</p>
</blockquote>
<h3 id="CRP：全部重用原则（The-Common-Reuse-Principle）"><a href="#CRP：全部重用原则（The-Common-Reuse-Principle）" class="headerlink" title="CRP：全部重用原则（The Common Reuse Principle）"></a>CRP：全部重用原则（The Common Reuse Principle）</h3><p>包的所有类被一起重用，如果你重用了其中的一个类，就重用全部，因此没有被一起重用的类不应该组合在一起。<br>与设计类的ISP原则一致，在类的设计时，不能强迫用户依赖那些他们不使用的接口。在包的角度也一样，不能用用户依赖那些他们不需要的类。</p>
<blockquote>
<p>设计包结构时，相互之间没有紧密关联的类不要放在一个包中，保证包的高内聚。</p>
</blockquote>
<h3 id="REP：重用发布等价原则（The-Release-Reuse-Equivalency-Priinciple）"><a href="#REP：重用发布等价原则（The-Release-Reuse-Equivalency-Priinciple）" class="headerlink" title="REP：重用发布等价原则（The Release Reuse Equivalency Priinciple）"></a>REP：重用发布等价原则（The Release Reuse Equivalency Priinciple）</h3><p>重用的粒度等于发布的粒度，从用户的角度来说，使用某个发布单元，如果作者因为某种原因对其进行了修改而发布了一个新的版本，用户会期望在升级为新版本后，不会影响到原系统的正常运作。因此对于一个可重用的元素，作者应该承诺新版本能兼容旧版本，否则用户拒绝使用该元素。</p>
<p>可以重用代码应该满足的条件：</p>
<ol>
<li>它的使用者无需看它的源代码。</li>
<li>用户只需联结静态库或包含动态库。</li>
<li>当库发生变化时，用户只需要得到一个新的版本便能集成到原有系统中。</li>
</ol>
<p>PS：一个为重用而设计的发布单元，不能包含不可重用的元素，否则它将变得不可重用。在设计包时，包中的元素要么都可以重用，要么都不可以重用。</p>
<blockquote>
<p>设计包结构时，包中的内容要么都可以重用，要么都不可用重用。</p>
</blockquote>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>包设计的六大原则又可以粗略分为两大类。<br>依赖相关：稳定抽象等价原则，稳定依赖原则，无循环依赖。为类之间的依赖关系提供原则。<br>内容相关：共同封闭原则，全部重用原则，重用发布等价原则。包中类设计时应该应该包含哪些内容，不应该包含哪些内容，为包内的设计提供原则。</p>
]]></content>
      <tags>
        <tag>设计原则</tag>
      </tags>
  </entry>
  <entry>
    <title>面向对象的特性</title>
    <url>/2020/09/20/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%89%B9%E6%80%A7/</url>
    <content><![CDATA[<h3 id="面向对象的特性"><a href="#面向对象的特性" class="headerlink" title="面向对象的特性"></a>面向对象的特性</h3><p>面向对象的特性主要有<strong>封装</strong>，<strong>继承</strong>，<strong>多态</strong>，<strong>抽象</strong>，有时也会把抽象从面向对象的特性中排除掉，因为抽象不是面向对象特有的。</p>
<h4 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h4><p>封装通过控制信息的访问级别（方法和属性可以设置不同的访问级别），从而达到隐藏信息和内部实现的目的，提高代码的可维护性及可用性（避免暴露过度的信息加强使用者的负担）。</p>
<ol>
<li>声明属性和方法时尽量把访问级别最小化，避免不必要的信息暴露。例如属性都是private的，只有确实需要暴露的方法才声明为publc的。</li>
<li>避免暴露所有的set方法，而应根据实际的业务场景暴露方法（一旦暴露则比较难进行修改）。</li>
<li>get方法返回对象和集合时也会导致信息暴露，因为调用者可以修改返回值的内容。可以通过返回一个不可变对象和不可修改的集合。</li>
</ol>
<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><p>继承使得子类可以继承父类的属性和方法，提高代码的复用性。</p>
<ol>
<li>继承是一种is-a关系，因此只有在明确满足这种关系的情况下使用。</li>
<li>继承存在牵一发而动全身的情况，有好处也有坏处。不应过多使用继承，通过组合及职责委派可以达到同样的效果。</li>
</ol>
<h4 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h4><p>多态是指一个对象的引用可以指向不同的实现类，达到在运行时才确定具体的方法实现。可以提高代码的扩展性（通过替换不同的实现）和复用性（不需要针对具体的实现进行编程，例如一个对iterable接口的遍历）。</p>
<p><small>PS:多态是建立在继承的基础之上。</small></p>
<h4 id="抽象"><a href="#抽象" class="headerlink" title="抽象"></a>抽象</h4><p>抽象隐藏方法的具体实现，让使用者只需要关系提供了哪些方法即可，而不需要关心方法的实现细节。java中通过<strong>接口</strong>和<strong>抽象类</strong>来实现。抽象可以提高代码的可维护性和可复用性。</p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>面向对象相比面向过程来说与现实世界更加贴切（我们生活在一个充满对象的世界），并且能比面向过程更好的管理复杂性及变化。即使是面向对象，但是到具体的方法实现时还是面向过程的，因为最终还是通过基本的程序结构解决问题。（通过顺序，条件，循环等基本结构解决具体的问题）</p>
]]></content>
      <categories>
        <category>面向对象</category>
      </categories>
      <tags>
        <tag>面向对象</tag>
      </tags>
  </entry>
  <entry>
    <title>面向对象设计原则</title>
    <url>/2020/09/22/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/</url>
    <content><![CDATA[<h4 id="SRP：单一职责原则（The-Single-Responsibility-Principle）"><a href="#SRP：单一职责原则（The-Single-Responsibility-Principle）" class="headerlink" title="SRP：单一职责原则（The Single Responsibility Principle）"></a>SRP：单一职责原则（The Single Responsibility Principle）</h4><p>一个类或者模块只负责完成一个职责或者功能。（一个类或者模块只应有一个修改它的原因）</p>
<ul>
<li>一个类不能很好的命名时，表示没有想好这个类应该承担的职责。</li>
<li>一个类中的某些内容总是一起需要进行修改，可能就需要把相关的内容隔离出去。</li>
<li>类依赖过多的其它类，或者很多类都依赖该类说明不满足高内聚，低耦合的情况，一个类承担的责任过多。</li>
</ul>
<p>PS：单一职责可以实现代码的高内聚，低耦合，从而提高代码的复用性，可读性，可维护性</p>
<h4 id="OCP：开放封闭原则（The-Open-Closed-Principle）"><a href="#OCP：开放封闭原则（The-Open-Closed-Principle）" class="headerlink" title="OCP：开放封闭原则（The Open Closed Principle）"></a>OCP：开放封闭原则（The Open Closed Principle）</h4><p>软件实体（模块、类、方法等）应该对扩展开放对修改关闭。添加新功能时应该是在已有代码的基础上新增模块、类、方法等，而不是修改已有的模块、类、方法。</p>
<p><strong>抽象化是关键</strong><br>抽象的接口要尽可能的稳定，只规定具有的方法特征。通过不同的具体实现类来达到扩展的目的。（抽象层需要关闭修改）<br><strong>对可变性的封装是手段</strong><br><em>找到系统的可变因素，并将之封装起来。</em></p>
<ul>
<li>一种可变性不应当散落在代码的多个角落里，而应当被封装到一个对象里。</li>
<li>一种可变现不应该和另一种可变性混合在一起。</li>
</ul>
<p>PS：多态，基于抽象而非实现编程，依赖注入都可以提高代码的可扩展性。</p>
<h4 id="LSP：里氏替换原则（Liskov-Substitution-Principle）"><a href="#LSP：里氏替换原则（Liskov-Substitution-Principle）" class="headerlink" title="LSP：里氏替换原则（Liskov Substitution Principle）"></a>LSP：里氏替换原则（Liskov Substitution Principle）</h4><p>子类对象能够替换程序中的父类对象出现的任何地方，并且保证原来程序的逻辑行为不被破坏掉。（继承是为了增加新的行为，而不应该替换掉原有的行为）</p>
<p>PS：如果子类不重写父类的方法肯定满足LSP原则。LSP原则用来指导继承关系中子类应该如何设计，确保子类在替换父类的时候，不改变原有程序的逻辑和程序的正确性。</p>
<h4 id="ISP：接口隔离原则（The-Interface-Segregation-Principle）"><a href="#ISP：接口隔离原则（The-Interface-Segregation-Principle）" class="headerlink" title="ISP：接口隔离原则（The Interface Segregation Principle）"></a>ISP：接口隔离原则（The Interface Segregation Principle）</h4><p>客户端不应该强迫依赖它不需要的接口。（当一个接口中暴露了多个方法，但是客户端只需要使用其中的一个方法，因为这些方法是在一个接口中的，客户端被动的依赖了其它方法。）</p>
<h4 id="DIP：依赖倒置原则（The-Dependency-Inversion-Principle）"><a href="#DIP：依赖倒置原则（The-Dependency-Inversion-Principle）" class="headerlink" title="DIP：依赖倒置原则（The Dependency Inversion Principle）"></a>DIP：依赖倒置原则（The Dependency Inversion Principle）</h4><p>高层模块不要依赖低层模块。高层模块和低层模块都应该依赖同一个抽象。抽象不要依赖具体实现细节，具体实现细节依赖抽象。</p>
<h4 id="KISSS原则"><a href="#KISSS原则" class="headerlink" title="KISSS原则"></a>KISSS原则</h4><p>尽量保持代码的简洁。提高代码的可读性和可维护性。</p>
<ul>
<li>不要使用特殊的语法。</li>
<li>不要重复造轮子，而应该使用已有的类库。</li>
</ul>
<h4 id="YAGNI原则"><a href="#YAGNI原则" class="headerlink" title="YAGNI原则"></a>YAGNI原则</h4><p>不要去设计当前用不到的功能。（不要做过度设计）</p>
<h4 id="DRY原则"><a href="#DRY原则" class="headerlink" title="DRY原则"></a>DRY原则</h4><p>不要重复你自己。<br>典型的重复情况有：实现逻辑重复，功能语义重复和代码执行重复，其中功能语义重复和执行重复违背了DRY原则。<strong>实现逻辑重复可以考虑是不是有公用的方法可以抽离</strong>语义的重复和执行的重复应当避免。</p>
<p>为了避免重复应该提高代码的复用性：</p>
<ul>
<li>减少代码耦合。</li>
<li>满足单一职责原则。</li>
<li>模块化。</li>
<li>业务与非业务逻辑分离。</li>
</ul>
<h4 id="LOD（迪米特法则）"><a href="#LOD（迪米特法则）" class="headerlink" title="LOD（迪米特法则）"></a>LOD（迪米特法则）</h4><p>只和“朋友”说话，不和“陌生人”说话。<br>朋友的定义：</p>
<ul>
<li>当前对象本身。</li>
<li>以方法参数传入当前对象方法中的对象。</li>
<li>当前对象的实例变量直接引用的对象。</li>
<li>当前对象的实例变量如果是一个集合，则集合中的元素也是朋友。</li>
<li>当前对象所创建的对象。</li>
</ul>
<p>系统设计时的注意事项：</p>
<ul>
<li>应当创建有弱耦合性的类，类之间的耦合越弱，越有利于复用。（对弱耦合的类的修改影响的的类会比较少）</li>
<li>每一个类应当尽量降低成员的访问权限，封装好自己的状态。</li>
<li>只要有可能，一个类应当设计成不变类。</li>
<li>一个对象应该降低对其它对象的引用。</li>
</ul>
<h4 id="合成-聚合复用原则（CARP）"><a href="#合成-聚合复用原则（CARP）" class="headerlink" title="合成/聚合复用原则（CARP）"></a>合成/聚合复用原则（CARP）</h4><p>要尽量使用合成/聚合，尽量不要使用继承，新的对象通过对原有对象的委派达到复用已有功能的目的。</p>
<p><strong>组合复用的优点：</strong></p>
<ul>
<li>成分对象的内部细节是新对象所看不见的，为“黑箱”复用。</li>
<li>新的类可以将焦点集中在一个任务上。</li>
<li>新对象可以动态地引用与成分对象类型相同的对象。</li>
</ul>
<p><strong>继承复用的优点：</strong></p>
<ul>
<li>在层级关系上增加新的功能实现较为容易，超类的功能通过继承关系自动进入子类。</li>
<li>修改或扩展继承的实现较为容易。</li>
</ul>
<p><strong>继承复用的缺点：</strong></p>
<ul>
<li>继承复用破坏封装，继承将超类的实现细节暴露给子类。又称为“白箱”复用。</li>
<li>如果超类的实现发生改变，则子类的实现也不得不发生改变，以适应超类的变化。（例如接口定义的变更，增加新的接口等）</li>
<li>从超类继承而来的实现是静态的，不可能在运行时间内发生改变，没有足够的灵活性。（不能像合成一样通过替换不同的委托类达到不同的实现目的）</li>
</ul>
<blockquote>
<p>“Is-A”是严格的分类学意义上的定义，意思是一个类是另一个类的“一种”。而“Has-A”则不同，<em>它表示某一个角色具有某一项责任</em>只有在满足“IS-A”的情况下才考虑使用继承。</p>
</blockquote>
]]></content>
      <categories>
        <category>面向对象</category>
      </categories>
      <tags>
        <tag>设计原则</tag>
        <tag>面向对象</tag>
      </tags>
  </entry>
  <entry>
    <title>存储器层次结构</title>
    <url>/2014/11/20/2014-11-20-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F-%E5%AD%98%E5%82%A8%E5%99%A8%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/</url>
    <content><![CDATA[<ul id="tree" class="ztree"></ul>



<h1 id="存储器层次结构"><a href="#存储器层次结构" class="headerlink" title="存储器层次结构"></a>存储器层次结构</h1><p>&emsp;&emsp;存储器系统(memory system)是一个具有不同容量、成本和访问时间的存储设备层次结构。CPU寄存器保存着最常用的数据，高速缓存存储器(cache memory)作为相对慢速的主存储器(main memory)中数据和指令的缓冲区域。主存存放存储容量较大，速度较慢的磁盘上的数据。</p>
<p>&emsp;&emsp;CPU寄存器中的数据在0个周期就可以访问，高速缓存需要1-30个周期，主存需要50-200个周期，磁盘上的数据需要几千万个周期。(1GHZ的CPU一个时钟周期为1纳秒)</p>
<h2 id="存储技术"><a href="#存储技术" class="headerlink" title="存储技术"></a>存储技术</h2><p>&emsp;&emsp;磁盘容量以每两年加倍的速度增长。主要包括下面的存储技术。</p>
<h3 id="随机访问存储器"><a href="#随机访问存储器" class="headerlink" title="随机访问存储器"></a>随机访问存储器</h3><p>&emsp;&emsp;随机访问存储器(Random-Access Memory,RAM)分为静态(SRAM)和动态(DRAM)两种。静态比动态块，但是价格也贵很多。SRAM主要用来作为高速缓存存储器，可以在CPU芯片上，或者芯片下。DRAM用来作为主存以及图形系统中的帧缓冲区。SRAM一般只有几兆，但是DRAM为几百或几千兆。</p>
<h4 id="SRAM"><a href="#SRAM" class="headerlink" title="SRAM"></a>SRAM</h4><p>&emsp;&emsp;SRAM将每一个位存储在一个双稳态的(bistable)存储器单元中。通过一个六晶体管实现，可以无限期保持在两个不同的电压配置或者状态之一。只要有电SRAM就会保持不变，即使有干扰。</p>
<h4 id="DRAM"><a href="#DRAM" class="headerlink" title="DRAM"></a>DRAM</h4><p>&emsp;&emsp;DRAM将每一个位存储为对一个电容的充电。DRAM对干扰非常敏感，当电容的电压被扰乱后就永远不会恢复，漏电也会导致电容失去电荷，因此存储器系统必须周期性的通过读取然后重新刷新存储器的每一位。</p>
<p>SRAM与DRAM的对比如下：</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>每位晶体管数</th>
<th>相对访问时间</th>
<th>持续的</th>
<th>敏感的</th>
<th>相对花费</th>
<th>应用</th>
</tr>
</thead>
<tbody><tr>
<td>SRAM</td>
<td>6</td>
<td>1X</td>
<td>是</td>
<td>否</td>
<td>100X</td>
<td>高速缓存存储器</td>
</tr>
<tr>
<td>DRAM</td>
<td>1</td>
<td>10X</td>
<td>否</td>
<td>是</td>
<td>1X</td>
<td>主存，帧缓冲区</td>
</tr>
</tbody></table>
<h4 id="传统的DRAM"><a href="#传统的DRAM" class="headerlink" title="传统的DRAM"></a>传统的DRAM</h4><p>&emsp;&emsp;DRAM芯片中的位被分成d个超单元(supercell),每一个超单元都由w个DRAM位组成。一个d<em>w的DRAM共存储了dw位信息。超单元被组织成一个r行c列的长方形阵列(r\</em>c=d).每个DRAM芯片被连接到某个称为存储器的电路，这个电路可以一次传送w位到每一个DRAM芯片或一次从每个DRAM芯片传出w位。存储控制器通过先发送行地址(Row Access Strobe,行访问选通脉冲)到DRAM，再发送列地址(Column Access Strobe, 列访问选通脉冲)到DRAM读取对应的数据,而为阵列可以减少芯片的引脚但是需要分两步发送地址，增加了访问时间。</p>
<h4 id="存储器模块"><a href="#存储器模块" class="headerlink" title="存储器模块"></a>存储器模块</h4><p>&emsp;&emsp;DRAM芯片包装在存储器模块(memory module)中，是插到主板的扩展插槽上。常见的有168个引脚的双列直插存储器模块(Dual Inline Memory Module, DIMM)以64位为块传送数据。还有72个引脚的单列直插存储器模块(Single Inline Memory Module, SIMM),以32位为块传送数据。</p>
<h4 id="增强的DRAM"><a href="#增强的DRAM" class="headerlink" title="增强的DRAM"></a>增强的DRAM</h4><p>&emsp;&emsp;有许多种DRAM存储器，为了跟上CPU的速度，会进行优化从而改进访问基本DRAM单元的速度</p>
<ul>
<li>快页模式DRAM(Fast Page Mode DRAM, FPM DRAM).传统的DRAM将超单元的一整行拷贝到它的内部行缓冲区，使用一个，然后丢弃剩余的。FPM DRAM允许对同一行连续地访问可以直接从行缓冲区得到服务。</li>
<li>扩展数据输出DRAM(Extended Data Out DRAM, EDO DRAM).FPM DRAM的一个增强形式，允许单独的CAS信号在时间上靠得更紧密点。</li>
<li>同步DRAM(Synchronous DRAM, SDRAM).其工作速度与系统总线速度同步，速度比FPM DRAM, EDO DRAM快。</li>
<li>双倍数据速率同步DRAM(Double Data-rate Synchronous DRAM, DDR SDRAM).DDR SDRAM是对SDRAM的一种增强，通过两个时钟沿作为控制信号，使得DRAM速度翻倍。不同的DDR SDRAM通过提高有效带宽的很小的预取缓冲区的大小划分DDR(2位)、DDR2(4位)、DDR3(8位)。</li>
<li>Rambus DRAM(RDRAM)是一种私有技术，其最大带宽比DDR SDRAM更高.</li>
<li>视频RAM(Video RAM, VRAM).用在图形系统的帧缓冲区中。VRAM思想与FPM DRAM类似。主要有下面的区别:1)VRAM的输出是通过依次对内部缓冲区的整个内容移位得到的。2)VRAM允许对存储器并行地读和写。</li>
</ul>
<h4 id="非易失性存储器"><a href="#非易失性存储器" class="headerlink" title="非易失性存储器"></a>非易失性存储器</h4><p>&emsp;&emsp;如果断电DRAM和SRAM会丢失信息。非易失性存储器(nonvolatile memory)即使在关电后，也保存其信息。由于历史原因，虽然ROM中有的类型既可以读也可以写，但是都称为只读存储器(Read-Only Memory ROM).ROM通过重写的次数和编程的机制进行区分。(存储在ROM设备中的程序通常称为固件[firmware])</p>
<ul>
<li>PROM(Programmable ROM,可编程ROM)只能编程一次。</li>
<li>EPROM(Erasable Programmable ROM,可擦可编程ROM)擦写次数达到1000次。EEPROM(Electrically Erasable Programmable ROM, 电子可擦除PROM)擦写可以达到100000次。</li>
<li>闪存(flash memory),基于EEPROM.</li>
</ul>
<h3 id="磁盘存储"><a href="#磁盘存储" class="headerlink" title="磁盘存储"></a>磁盘存储</h3><p>&emsp;&emsp;磁盘是广为应用的存储设备。从磁盘上读信息的时间为毫秒级。DRAM比磁盘快10万倍，SRAM比磁盘快100万倍。</p>
<h4 id="磁盘构造"><a href="#磁盘构造" class="headerlink" title="磁盘构造"></a>磁盘构造</h4><p> &emsp;&emsp;磁盘由盘片(platter)构成。每个盘片有两面或者称为表面(surface),表面覆盖着磁性记录材料。盘片中有一个可以旋转的主轴(spindle),使得盘片以固定的旋转速率(rotational rate)旋转.通常为5400-15000转每分钟(Revolution Per Minute, RPM).磁盘通常包含一个或者多个这样的盘片.<br> &emsp;&emsp;每个表面由一组称为磁道(track)的同心圆组成.每一个磁道被划分成一组扇区(sector)每一个扇区包含相等数量的数据位(通常为512字节).扇区间有一些间隙(gap)分隔开.间隙不存储数据位,用来标识扇区的格式化位.<br> &emsp;&emsp;制造商通常用柱面(cylinder)描述多个盘片驱动器的构造,柱面为盘片表面到主轴中心的距离都相等的磁道的集合.</p>
<h4 id="磁盘容量"><a href="#磁盘容量" class="headerlink" title="磁盘容量"></a>磁盘容量</h4><p> &emsp;&emsp;一个磁盘上可以记录的最大位数为最大容量,由下面的技术因素决定.</p>
<ul>
<li><p>记录密度(recording density 位/英寸):磁道一英寸的段可以放入的位数. </p>
</li>
<li><p>磁道密度(track density 道/英寸):从盘片中心出发一英寸半的段可以有的磁道数.</p>
</li>
<li><p>面密度(areal density 位/平方英寸):记录密度与磁道密度的乘积.</p>
<p>&emsp;&emsp;最初的磁盘,是在面密度比较低的时代设计的,将每一个磁道分为相同的扇区,扇区的数目由最靠内的磁道能记录的扇区数决定.随着面密度的提高,扇区之前的间隙变得不可接受的大,现代的磁盘使用一种称为多区记录(multiple zone recording)的技术,柱面的集合被分割成不想交的子集合,称为记录区(recording zone).每一个区包含一组连续的柱面,区中的每一个柱面的每条磁道都有相同数量的扇区.软盘仍然使用老式的方法,每条磁道的扇区是常数.</p>
</li>
</ul>
<h4 id="磁盘操作"><a href="#磁盘操作" class="headerlink" title="磁盘操作"></a>磁盘操作</h4><p> &emsp;&emsp;磁盘用读/写头(read/writer head)来读写存储在磁性表面的位,读写头连接到一个传动臂(actuator arm)一端.通过沿着半径轴前后移动这个传动臂可以将读写头定位在盘面上的任何磁道上.这个过程称为寻到(seek).有多个盘片的磁盘针对每一个盘面都有一个独立的读写头,所有的读写头都位于同一个柱面上.<br>  &emsp;&emsp;磁盘以扇区大小的块来读写数据,对扇区的访问时间(access time)有三个主要的部分:寻道时间(seek time),旋转时间(rotational latency)和传送时间(transfer time):</p>
<ul>
<li>寻道时间:为了读取某个目标扇区的内容,传动臂首先将读/写头定位到包含目标扇区的磁道上,这个时间称为寻道时间.寻道时间依赖原来的位置和移动速度.通常为3-9ms.</li>
<li>旋转时间:一旦定位到磁道,需要等待目标扇区的第一个位旋转到读/写头下.依赖读/写头到达盘面的位置和磁盘的旋转速度.Tmax rotation = 1/RPM * 60 secs / 1 min,平均旋转时间为最大旋转时间的一半.</li>
<li>传送时间:一个扇区的传送时间依赖旋转速度和每条磁道的扇区数目.平均传送时间如下:Tavg rotation = 1/RPM * 60 secs / 1 min * 1 / (平均扇区数/磁道)<br>&nbsp;</li>
</ul>
<h4 id="逻辑磁盘块"><a href="#逻辑磁盘块" class="headerlink" title="逻辑磁盘块"></a>逻辑磁盘块</h4><p> &emsp;&emsp;为了隐藏磁盘构造的复杂性,硬盘中有一个小的硬件/固件设备,称为磁盘控制器维护着逻辑块号和实际(物理)磁盘扇区之间的映射关系.当操作系统需要执行一个I/O操作时,例如读取数据到主存,操作系统发送一个命令到磁盘控制器,让它读取某个逻辑块号,控制器上的固件通过执行一个快速表查找,将逻辑号翻译成一个(盘面,磁道,扇区)的三元组.这个三元组唯一地标识了对应的物理扇区.</p>
<h4 id="连接到I-O设备"><a href="#连接到I-O设备" class="headerlink" title="连接到I/O设备"></a>连接到I/O设备</h4><p> 监视器,鼠标,键盘和磁盘这样的输入/输出(I/O)设备,都是通过I/O中心连接到CPU和主存.I/O总线比系统总线和存储器总线慢,但是可以容纳种类繁多的第三方I/O设备.</p>
<h4 id="访问磁盘"><a href="#访问磁盘" class="headerlink" title="访问磁盘"></a>访问磁盘</h4><p> &emsp;&emsp;CPU使用一种称为存储器映射I/O(memory-mapped I/O)的技术向I/O设备发出命令.地址空间有一块地址是为与I/O设备通信保留的.每一个这样的地址称为I/O端口(I/O port).当一个设备连接到总线时,它与一个或多个端口想关联.</p>
<h3 id="固态硬盘"><a href="#固态硬盘" class="headerlink" title="固态硬盘"></a>固态硬盘</h3><p>&emsp;&emsp;固态硬盘(Solid State Disk, SSD)是一种基于闪存的存储技术,在某些情况下是传统旋转磁盘极有吸引力的替代产品.-个SSD包含一个或多个闪存芯片和闪存翻译层(flash translation layer)组成.闪存芯片代替传统旋转磁盘中的机械驱动器,闪存翻译层是一个硬件/固件设备,扮演磁盘控制器的角色,将逻辑块翻译成对底层物理设备的访问.<br>一个典型的固态硬盘的性能:</p>
<table>
<thead>
<tr>
<th>读</th>
<th>&nbsp;</th>
<th>写</th>
<th>&nbsp;</th>
</tr>
</thead>
<tbody><tr>
<td>顺序读吞吐量</td>
<td>250MB/s</td>
<td>顺序写吞吐量</td>
<td>170MB/s</td>
</tr>
<tr>
<td>随即读吞吐量</td>
<td>140MB/s</td>
<td>随即写吞吐量</td>
<td>14MB/s</td>
</tr>
<tr>
<td>随即读访问时间</td>
<td>30us</td>
<td>随即写访问时间</td>
<td>300us</td>
</tr>
</tbody></table>
<p>顺序访问时读和写差不多,随机访问时读比写块一个数量级.随机读和写的性能差别是由闪存基本属性决定的.一个闪存由B个块的序列组成,每个块由P页组成.数据以页为单位读写.只有一页所属的块整个被擦除之后,才能写这一页.不过,一旦一个块被擦除,块中的页也可以不需要擦除就能进行写.在大约进行100000次重复写后,块就会损坏,损坏后就不能再使用.随即写很慢的原因:1)擦除块需要相对较长的时间,1ms级别,比访问页所需时间要高一个多数量级.2)如果写操作试图修改一个包含已经有数据的页p,这个块中所有带有用数据的页都必须被拷贝到一个新块,然后才能进行对p的写.闪存翻译中的平均磨损(wear leveling)逻辑视图通过将擦除平均分布在所有的块上来最大化每一个块的寿命.</p>
<h2 id="局部性"><a href="#局部性" class="headerlink" title="局部性"></a>局部性</h2><p>&emsp;&emsp;一个编写良好的计算机程序常常具有良好的局部性(locality).局部性通常有两种不同的形式.</p>
<ul>
<li>时间局部性(temporal locality):被引用过一次的存储器位置很可能在不远的将来再被多次引用.</li>
<li>空间局部性(spatial locality):如果一个存储器位置被引用了一次,那么程序很可能在不远的将来引用附件的一个存储器位置.</li>
</ul>
<p>&emsp;&emsp;有良好局部性的程序比局部性差的程序运行得更快.现代计算机系统的各个层次,从硬件到操作系统,再到应用程序,其设计都利用了局部性.</p>
<h3 id="对程序数据引用的局部性"><a href="#对程序数据引用的局部性" class="headerlink" title="对程序数据引用的局部性"></a>对程序数据引用的局部性</h3><p>&emsp;&emsp;下面的代码对向量的元素求和,这个程序有良好的局部性吗?</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sumvec</span><span class="params">(<span class="keyword">int</span> v[N])</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">        sum += v[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对于变量v,函数有很好的空间局部性,但是时间局部性很差,因为每一个元素只访问了一次.对于循环体中的变量,要么有好的空间局部性,要么有好的时间局部性.因此sumvec有良好的局部性.像sumvec中顺序访问每一个元素,为步长为1的引用模式(stride-1 reference pattern).如果每隔k个元素进行访问,称为步长为k的引用模式(strid-k reference pattern).一般而然随着步长的增加,空间局部性下降.例如对一个二维数组进行访问时,先按行再按列访问比先按列再按行访问要好,因为前者的步长为1,后者的步长为一行的元素个数.</p>
<h3 id="取指令的局部性"><a href="#取指令的局部性" class="headerlink" title="取指令的局部性"></a>取指令的局部性</h3><p>&emsp;&emsp;程序指令也是放在存储器中的,cpu必须读出这些指令,因此可以评价一个程序关于取指令的局部性.循环体中的指令是按照连续的存储器顺序执行的,因此循环具有良好的空间局部性,另外循环体会被执行多次,也具有很好的时间局部性.</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul>
<li>重复引用同一个变量的程序具有良好的时间局部性.</li>
<li>对具有步长为k的引用模式的程序,步长越小,空间局部性越好.</li>
<li>对于取指令来说,循环有好的时间和空间局部性.循环体越小,循环次数越多,局部性越好.</li>
</ul>
<h2 id="存储器层次结构-1"><a href="#存储器层次结构-1" class="headerlink" title="存储器层次结构"></a>存储器层次结构</h2><p>&emsp;&emsp;上面的内容描述了存储技术和计算机软件的一些基本属性,速度较快的存储成本更高容量更小.CPU和主存之间的速度差距在增大,一个编写良好的程序应展示出良好的局部性.硬件和软件的这种相互补充,从存储器的高层往底层走,存储设备变得更慢,更便宜,更大.L0层为少量快速的cpu寄存器,接下来为一个或多个基于SRAM的高速缓存存储器,然后是基于DRAM的主存,接下来为慢速但容量很大的本地磁盘.</p>
<h3 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h3><p>&emsp;&emsp;高速缓存(cache)是一个小而快的存储设备,作为存储在更大更慢设备的数据对象的缓冲区.对于每一个k,位于k层的更快更小的存储设备作为位于k+1层的更大更慢的存储设备的缓存.任何时候第k层的缓存是第k+1层块的一个子集.数据总是可以块大小为传送单元在第k层和k+1层间进行拷贝.一般而言为了弥补底层设备的访问时间,倾向于使用更大的块.</p>
<ol>
<li>缓存命中<br>当程序需要k+1层的某个数据d时,首先在第k层的一个块中查找d,如果d刚好在第k层,则称为缓存命中(cache hit).程序从第k层读取d比从k+1层读取d更快.</li>
<li>缓存不命中<br>如果第k层没有缓存数据对象d,就是缓存不命中(cache miss).当缓存不命中时,第k层需要缓存从第k+1层取出的包含d的那个块,如果第k层的缓存已经满了,可能会覆盖一个现存的块.覆盖一个现存的块的过程称为替换(replacing)或驱逐(evicting)这个块.替换哪个块由缓存替换策略(replacement policy)来控制.</li>
<li>缓存不命中的种类<br>如果第k层的缓存为空,则对任何数据的访问都不会命中,此时为<em>强制性不命中</em>(compulsory miss)或冷不命中(cold miss).冷命中通常是短暂的,等缓存暖身(warmed up)后就不会出现.发生了不命中就需要执行放置策略(placement policy)确定把从第k+1层中取出的块放在哪.最灵活的替换策略是允许放在第k层的任何块中.但是对于用硬件实现时这个策略比较昂贵,因为随即放置块,定位的代价高.这时将会要求第k+1层的某个块限制放在第k层的一个小的子集中.这种限制性的放置策略会引起<em>冲突不命中</em>(conflict miss),此时缓存足够大,但是因为这些对象映射到同一个缓存块,导致缓存不命中.当缓存太少导致的不命中称为<em>容量不命中</em>(capalicity miss),例如一个循环可能会反复访问一个数组元素,但是当数组的大小超过缓存的大小时就会出现.</li>
<li>缓存管理<br>编译器管理寄存器文件,缓存层次结构的最高层.L1,L2,L3层的缓存由内置在缓存中的硬件逻辑管理.DRAM主存由操作系统和CPU上的地址翻译硬件共同管理.</li>
<li>总结<br>存储结构能有效主要因为程序表现局部性.时间局部性和空间局部性.</li>
</ol>
<h2 id="高速缓存存储器"><a href="#高速缓存存储器" class="headerlink" title="高速缓存存储器"></a>高速缓存存储器</h2><p>&emsp;&emsp;早期计算机系统的存储器层次只有CPU寄存器,DRAM主存和磁盘存储.由于CPU和主存之间的差距逐渐增大,在寄存器和主存之间加入了一个SRAM高速缓存存储器.</p>
<table>
<thead>
<tr>
<th>缓存</th>
<th>时钟周期</th>
</tr>
</thead>
<tbody><tr>
<td>L1</td>
<td>2-4</td>
</tr>
<tr>
<td>L2</td>
<td>10</td>
</tr>
<tr>
<td>L3</td>
<td>30-40</td>
</tr>
</tbody></table>
<h3 id="通用高速缓存器结构"><a href="#通用高速缓存器结构" class="headerlink" title="通用高速缓存器结构"></a>通用高速缓存器结构</h3><p>&emsp;&emsp;如果每一个存储器地址有m位,形成$$M=2^{m}$$个不同的地址.一个机器的高速缓存被组织成一个有$$S=2^{s}$$个高速缓存组的数组.每一个组有E个高速缓存行(cache line).每一个行由一个$$B=2^{b}$$字节的数据库块(block)组成.一个有效位(valid bit)指明这个行是否包含有意义的信息,还有t=m-(b+s)个标记位(tag bit)唯一地标识存储在这个高速缓存行中的块.</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>$$S=2^{s}$$</td>
<td>组数</td>
</tr>
<tr>
<td>$$E$$</td>
<td>每个组的行数</td>
</tr>
<tr>
<td>$$B=2^{b}$$</td>
<td>块大小(字节)</td>
</tr>
<tr>
<td>$$m=log_{2}(M)$$</td>
<td>(主存)物理地址位数</td>
</tr>
<tr>
<td>$$M=2^{m}$$</td>
<td>存储器地址的最大数量</td>
</tr>
<tr>
<td>$$s=log_{2}(S)$$</td>
<td>组索引位数量</td>
</tr>
<tr>
<td>$$b=log_{2}(B)$$</td>
<td>块偏移位数量</td>
</tr>
<tr>
<td>$$t=m-(s+b)$$</td>
<td>标记位数量</td>
</tr>
<tr>
<td>$$C=B\cdot E\cdot S$$</td>
<td>不包括有效位和标记位这样开销的高速缓存大小(字节)</td>
</tr>
</tbody></table>
<h3 id="直接映射高速缓存"><a href="#直接映射高速缓存" class="headerlink" title="直接映射高速缓存"></a>直接映射高速缓存</h3><p>&emsp;&emsp;每个组只有一行(E=1)的高速缓存称为直接映射缓存(direct-mapped cache).高速缓存确定一个请求是否命中,然后抽取出被请求的字的过程,分为1)组选择,2)行匹配,3)字抽取</p>
<ol>
<li>组选择<br>高速缓存从w的地址中间抽出s个组索引位,如果把高速缓存看成一个一维素质,这个组索引号就是这个数组的下标.</li>
<li>行匹配<br>上面的步骤选择了某个组i,下面确定字w的一个拷贝是否存储在组i包含的一个高速缓存行中.对直接映射高速缓存很容易,因为每一个组只有一个行,仅当设置了有效位,并且高速缓存行中的标记与w的地址中的标记想匹配时,这一行包含w的一个拷贝.</li>
<li>字选择<br>一旦命中,就知道w在这个块中的某个地方.如下图所示,块偏移位提供了所需要的字的第一个字节的偏移.可以把快也看成一个字节数组,字节偏移是这个数组的一个下标.</li>
</ol>
<p><img src="/images/%E9%AB%98%E9%80%9F%E7%BC%93%E5%AD%981.jpg" alt="alter 缓存选取"><br>4. 缓存不命中时的行替换<br>如果缓存不命中,需要从下一层取出被请求的块,然后将新的块存储在组索引位指示的一个高速缓存行中.当组中都是有效高速缓存,会存在一个替换策略,驱逐一个现在的行.<br>5. 小结<br>以(S,E,B,m) = (4,1,2,4)为例<br>1.标记位和索引位决定了块号.<br>2.一共有8块,但是只有4个高速缓存组,多个块映射到同一个高速缓存组(具有相同的组索引).<br>3.映射到同一个高速缓存组的块由标记位唯一地标识.</p>
<p>ps:$$C=4 \cdot 1 \cdot 2 = 8$$, 地址数为 $$2^4=16$$,因此有一半的数据会冲突.</p>
<table>
<thead>
<tr>
<th>地址</th>
<th>标记位</th>
<th>索引位</th>
<th>偏移位</th>
<th>块号</th>
</tr>
</thead>
<tbody><tr>
<td>(十进制)</td>
<td>(t=1)</td>
<td>(s=2)</td>
<td>(b=1)</td>
<td>(十进制)</td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>00</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>00</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>0</td>
<td>01</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>0</td>
<td>01</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>4</td>
<td>0</td>
<td>10</td>
<td>0</td>
<td>2</td>
</tr>
<tr>
<td>5</td>
<td>0</td>
<td>10</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>6</td>
<td>0</td>
<td>11</td>
<td>0</td>
<td>3</td>
</tr>
<tr>
<td>7</td>
<td>0</td>
<td>11</td>
<td>1</td>
<td>3</td>
</tr>
<tr>
<td>8</td>
<td>1</td>
<td>00</td>
<td>0</td>
<td>4</td>
</tr>
<tr>
<td>9</td>
<td>1</td>
<td>00</td>
<td>1</td>
<td>4</td>
</tr>
<tr>
<td>10</td>
<td>1</td>
<td>01</td>
<td>0</td>
<td>5</td>
</tr>
<tr>
<td>11</td>
<td>1</td>
<td>01</td>
<td>1</td>
<td>5</td>
</tr>
<tr>
<td>12</td>
<td>1</td>
<td>10</td>
<td>0</td>
<td>6</td>
</tr>
<tr>
<td>13</td>
<td>1</td>
<td>10</td>
<td>1</td>
<td>6</td>
</tr>
<tr>
<td>14</td>
<td>1</td>
<td>11</td>
<td>0</td>
<td>7</td>
</tr>
<tr>
<td>15</td>
<td>1</td>
<td>11</td>
<td>1</td>
<td>7</td>
</tr>
</tbody></table>
<p>初始时,高速缓存是空的(所有的有效位为0)</p>
<table>
<thead>
<tr>
<th>组</th>
<th>有效位</th>
<th>标记位</th>
<th>块[0]</th>
<th>块[1]</th>
</tr>
</thead>
<tbody><tr>
<td>a</td>
<td>b</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>2</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>3</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody></table>
<p>1)读地址0的字,因为组0的有效位为0,缓存不命中,高速缓存从低层中取出块0放入组0中.然后高速缓存返回新取的高速缓存行的块[0]的m[0].</p>
<table>
<thead>
<tr>
<th>组</th>
<th>有效位</th>
<th>标记位</th>
<th>块[0]</th>
<th>块[1]</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>0</td>
<td>1</td>
<td>m[0]</td>
<td>m[1]</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>2</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>3</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody></table>
<p>2)读地址1的字,这次高速缓存命中,返回高速缓存块[1]中的m[1]<br>3)读地址13的字,与1)一样缓存不命中.高速缓存把块6加入组2中,然后从新的高速缓存行的块[1]中返回m[13]</p>
<table>
<thead>
<tr>
<th>组</th>
<th>有效位</th>
<th>标记位</th>
<th>块[0]</th>
<th>块[1]</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>1</td>
<td>0</td>
<td>m[0]</td>
<td>m[1]</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>1</td>
<td>m[12]</td>
<td>m[13]</td>
</tr>
<tr>
<td>3</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody></table>
<p>4)读地址8的字,缓存不命中,组匹配但是标记位不匹配.高速缓存将块4加载到组0中(替换原来的块0),然后从新的高速缓存中的块[0]返回m[0].</p>
<table>
<thead>
<tr>
<th>组</th>
<th>有效位</th>
<th>标记位</th>
<th>块[0]</th>
<th>块[1]</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>1</td>
<td>1</td>
<td>m[8]</td>
<td>m[9]</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>1</td>
<td>m[12]</td>
<td>m[13]</td>
</tr>
<tr>
<td>3</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody></table>
<p>5)读地址0的字.又会发生缓存不命中,因为在读取地址8时替换了块0.(冲突不命中)</p>
<table>
<thead>
<tr>
<th>组</th>
<th>有效位</th>
<th>标记位</th>
<th>块[0]</th>
<th>块[1]</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>1</td>
<td>0</td>
<td>m[0]</td>
<td>m[1]</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>1</td>
<td>m[12]</td>
<td>m[13]</td>
</tr>
<tr>
<td>3</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody></table>
<h3 id="直接映射的冲突不命中"><a href="#直接映射的冲突不命中" class="headerlink" title="直接映射的冲突不命中"></a>直接映射的冲突不命中</h3><p>当程序访问大小为2的幂的数组时，直接映射高速缓存中通常会发生冲突不命中，不同的数组容易映射到相同的高速缓存组。例如下面的函数</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">dotprod</span> <span class="params">(<span class="keyword">float</span> x[<span class="number">8</span>], <span class="keyword">float</span> y[<span class="number">8</span>])</span> </span>&#123;</span><br><span class="line">    <span class="keyword">float</span> sum = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">        sum += x[i] * y[i];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>对于x和y来说，这个函数具有良好的空间局部性，期望命中率比较高，但并不总是如此。假设浮点数为4个字节，x被加载到0开始的32字节连续存储器中，y紧跟x之后，从地址32开始。假设高速缓存大小为32字节由两个组组成，每一个块16个字节。这样的话每一个x[i]和y[i]会映射到相同的高速缓存组。</p>
<table>
<thead>
<tr>
<th>元素</th>
<th>地址</th>
<th>组索引</th>
<th>元素</th>
<th>地址</th>
<th>组索引</th>
</tr>
</thead>
<tbody><tr>
<td>X[0]</td>
<td>0</td>
<td>0</td>
<td>Y[0]</td>
<td>32</td>
<td>0</td>
</tr>
<tr>
<td>X[1]</td>
<td>4</td>
<td>0</td>
<td>Y[1]</td>
<td>36</td>
<td>0</td>
</tr>
<tr>
<td>X[2]</td>
<td>8</td>
<td>0</td>
<td>Y[2]</td>
<td>40</td>
<td>0</td>
</tr>
<tr>
<td>X[3]</td>
<td>12</td>
<td>0</td>
<td>Y[3]</td>
<td>44</td>
<td>0</td>
</tr>
<tr>
<td>X[4]</td>
<td>16</td>
<td>1</td>
<td>Y[4]</td>
<td>48</td>
<td>1</td>
</tr>
<tr>
<td>X[5]</td>
<td>20</td>
<td>1</td>
<td>Y[5]</td>
<td>52</td>
<td>1</td>
</tr>
<tr>
<td>X[6]</td>
<td>24</td>
<td>1</td>
<td>Y[6]</td>
<td>56</td>
<td>1</td>
</tr>
<tr>
<td>X[7]</td>
<td>28</td>
<td>1</td>
<td>Y[7]</td>
<td>60</td>
<td>1</td>
</tr>
</tbody></table>
<p>&emsp;&emsp;这样在访问x[0]时会把x[0]-x[3]的数据加入到组0，在访问y[0]时会导致y[0]-y[3]的块拷贝到组0，覆盖之前拷贝进来的x[0]-x[3].导致了冲突不命中。高速缓存反复地加载和驱逐相同的高速缓存块称为抖动[thrash].</p>
<p>&emsp;&emsp;因此即使程序有良好的空间局部性，高速缓存也有足够的空间来存放x[i]和y[i]的块，每次引用还是会导致冲突不命中，因为这些块被映射到同一个高速缓存组。</p>
<p>&emsp;&emsp;如果在数组后进行B字节的填充，将x定义为float x[12]就会有下面的映射关系。</p>
<table>
<thead>
<tr>
<th>元素</th>
<th>地址</th>
<th>组索引</th>
<th>元素</th>
<th>地址</th>
<th>组索引</th>
</tr>
</thead>
<tbody><tr>
<td>X[0]</td>
<td>0</td>
<td>0</td>
<td>Y[0]</td>
<td>48</td>
<td>1</td>
</tr>
<tr>
<td>X[1]</td>
<td>4</td>
<td>0</td>
<td>Y[1]</td>
<td>52</td>
<td>1</td>
</tr>
<tr>
<td>X[2]</td>
<td>8</td>
<td>0</td>
<td>Y[2]</td>
<td>56</td>
<td>1</td>
</tr>
<tr>
<td>X[3]</td>
<td>12</td>
<td>0</td>
<td>Y[3]</td>
<td>60</td>
<td>1</td>
</tr>
<tr>
<td>X[4]</td>
<td>16</td>
<td>1</td>
<td>Y[4]</td>
<td>64</td>
<td>0</td>
</tr>
<tr>
<td>X[5]</td>
<td>20</td>
<td>1</td>
<td>Y[5]</td>
<td>68</td>
<td>0</td>
</tr>
<tr>
<td>X[6]</td>
<td>24</td>
<td>1</td>
<td>Y[6]</td>
<td>72</td>
<td>0</td>
</tr>
<tr>
<td>X[7]</td>
<td>30</td>
<td>1</td>
<td>Y[7]</td>
<td>76</td>
<td>0</td>
</tr>
<tr>
<td>X[8]</td>
<td>34</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>X[9]</td>
<td>38</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>X[10]</td>
<td>42</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>X[11]</td>
<td>46</td>
<td>0</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody></table>
<p>&emsp;&emsp;这样就消除了抖动冲突不命中。</p>
<h3 id="组相联高速缓存"><a href="#组相联高速缓存" class="headerlink" title="组相联高速缓存"></a>组相联高速缓存</h3><p>&emsp;&emsp;直接映射高速缓存冲突不命中的问题是每一个组只有一行(E=1).组相联高速缓存(set associative cache)每个组都保存多余一个的高速缓存行.</p>
<ol>
<li>组选择<br>与直接映射高速缓存的组选择一样,通过组索引位标识.</li>
<li>行匹配和字选择<br>比直接映射高速缓存的组选择复杂,因为必须检查多个行的标记位和有效位,以确定所请求的字是否在集合中.一个相联的存储器是一个(key, value)对的数组,以key为输入,返回与输入的key相匹配的(key, value)对中的value值.key是标记和有效位,value为块的内容.<br><img src="/images/%E9%AB%98%E9%80%9F%E7%BC%93%E5%AD%982.jpg" alt="alter 缓存选取"></li>
<li>不命中时的行替换<br>当不命中时,需要从存储器中取出包含这个字的块,如果有空行就直接放入,如果没有空行则需要选择一个替换算法.</li>
</ol>
<h3 id="全相联高速缓存"><a href="#全相联高速缓存" class="headerlink" title="全相联高速缓存"></a>全相联高速缓存</h3><p>一个全相联高速缓存(fully associative cache)是由一个包含所有高速缓存行的组($$E=C \div B$$)组成.</p>
<ol>
<li>组选择<br>因为最有一个组,地址中不需要有索引位.地址被划分成一个标记和一个块偏移.<br><img src="/images/%E9%AB%98%E9%80%9F%E7%BC%93%E5%AD%983.jpg" alt="alter 缓存选择"></li>
<li>行匹配和子选择<br>与组相联高速缓存一样,只是规模比组相联大.因为高速缓存电路必须并行地搜索许多相匹配的标记,构造一个又大又快的相联高速缓存很难,并且很贵.因此只适合做小的高速缓存,例如虚拟存储器系统中的翻译备用缓冲器(TLB).</li>
</ol>
<h3 id="写的问题"><a href="#写的问题" class="headerlink" title="写的问题"></a>写的问题</h3><p>写的情况比读复杂些,假如写一个已经缓存了的字w写命中(write hit).在高速缓存更新了它的w的拷贝后,怎么更新w在层次结构中紧接着低一层的拷贝呢?最简单的方法称为直写(write-through),就是立即将w写回在层次结构中紧接着的低一层中. 虽然简单但是每次都会引起总线流量.另一种方法称为写回(write-back),尽可能第推迟存储器更新.只有当替换算法需要驱逐更新过的块时才把它写到紧接着的低一层中.由于局部性,写回能显著减少总线流量,但是增加了复杂性,高速缓存必须为每个高速缓存维护一个额外的修改位(dirty bit),表示这个高速缓存块是否被修改过.</p>
<p>另一个问题是如何处理写不命中,一种方法为写分配(write-allocate),加载相应的低一层中的块到高速缓存,然后更新这个高速缓存块.试图利用写的空间局部性,但是缺点是每次不命中都会导致一个块从低一层传送到高速缓存.另外一种为非写分配(not-write-allocate),避开高速缓存,直接把这个字写到第一层.直写高速缓存通常是非写分配的,写回高速缓存通常是写分配的.</p>
<p>对于试图编写高速缓存比较友好的程序来说,建议采用写回和写分配的高速缓存模型.通常由于较长的传送时间,存储器层次结构中较低层更可能使用写回.</p>
<h3 id="真实高速缓存层次结构"><a href="#真实高速缓存层次结构" class="headerlink" title="真实高速缓存层次结构"></a>真实高速缓存层次结构</h3><p>高速缓存既保存数据也保存指令(统一高速缓存unified cache).只保存指令的高速缓存称为i-cache.只保存程序数据的高速缓存称为d-cache.现代处理器包括独立的i-cache和d-cache.两个独立的高速缓存,处理器能够同时读一个指令字和一个数据字.i-cache通常是只读的,因此比较简单.</p>
<p>Intel Core i7 高速缓存层次结构<br><img src="/images/%E9%AB%98%E9%80%9F%E7%BC%93%E5%AD%984.jpg" alt="alter 缓存层次结构"></p>
<table>
<thead>
<tr>
<th>高速缓存类型</th>
<th>访问时间(周期)</th>
<th>高速缓存大小(C)</th>
<th>相联度(E)</th>
<th>块大小(B)</th>
<th>组数(S)</th>
</tr>
</thead>
<tbody><tr>
<td>L1 i-cache</td>
<td>4</td>
<td>32KB</td>
<td>8</td>
<td>64B</td>
<td>64</td>
</tr>
<tr>
<td>L1 d-cache</td>
<td>4</td>
<td>32KB</td>
<td>8</td>
<td>64B</td>
<td>64</td>
</tr>
<tr>
<td>L2统一高速缓存</td>
<td>11</td>
<td>256KB</td>
<td>8</td>
<td>64B</td>
<td>512</td>
</tr>
<tr>
<td>L3统一高速缓存</td>
<td>30-40</td>
<td>8MB</td>
<td>16</td>
<td>64B</td>
<td>8192</td>
</tr>
</tbody></table>
<h3 id="高速缓存参数的性能影响"><a href="#高速缓存参数的性能影响" class="headerlink" title="高速缓存参数的性能影响"></a>高速缓存参数的性能影响</h3><ul>
<li>不命中率(miss rate):不命中数量/引用数量.</li>
<li>命中率(hit rate):命中数量/引用数量(1-不命中率).</li>
<li>命中时间(hit time):从高速缓存传送一个字到CPU所需的的时间,包括组选择,行确认,子选择时间.</li>
<li>不命中处罚(miss penalty):由于不命中所需要的额外的时间.L1不命中需要从L2得到服务的处罚,一般为10个周期;从L3得到服务的处罚一般为40个周期;从主存得到服务的处罚一般为100个周期.</li>
</ul>
<ol>
<li>高速缓存大小的影响<br>较大的高速缓存可能会提高命中率,使大存储器运行得更快比较难些.结构较大的高速缓存可能会增加命中时间.对L1的高速缓存来说命中时间必须短.</li>
<li>块大小的影响<br>较大的块能利用程序中可能存在的空间局部性,提高命中率.对于给定的大小,块越大缓存行越少,会损害时间局部性比空间局部性更好的程序中的命中率.较大的块不命中处罚也有负面影响.现代系统中高速缓存一般包含32-64个字节.</li>
<li>相联度的影响<br>E是每个组中高速缓存的行数,E较大时降低了高速缓存由于冲突不命中出现抖动的可能性.但是会造成较高的成本,且速度变慢.每一行需要更多的标记位,额外的LRU状态位和额外的控制逻辑.另外会增加命中时间(复杂了),增加命中处罚(选择牺牲行复杂了).为了折中命中时间和不命中处罚,在不命中处罚比较高的层次上使用比较大的相联度,在争取时钟频率的高性能系统会为L1使用较低的相联度.Intel Core i7中,L1和L2的E=8,L3中E=16.</li>
<li>写策略的影响<br>直写高速缓存比较容易实现,且能使用独立于高速缓存的写缓冲区(write buffer),来更新存储器.另外读不命中开销要少,因为不会触发存储器写.写回高速缓存引起的传送比较少,允许更多的到存储器的带宽用于执行DMA的I/O设备.越往层次结构下面走,传送时间增加,减少传送数量就更加重要.一般而言,高速缓存越往下层,越可能使用写回而不是直写.</li>
</ol>
<p>PS:高速缓存行,组,块的区别.</p>
<ul>
<li>块是一个固定大小的信息包,在高速缓存和主存(或下一层高速缓存)之间来回传送.</li>
<li>行是高速缓存中存储块以及其他信息(例如有效位和标记位)的容器.</li>
<li>组是一个或多个行的集合.</li>
</ul>
<p>因为一行总是存储一个块,术语行和块通常互换使用.</p>
<h2 id="编写高速缓存友好的代码"><a href="#编写高速缓存友好的代码" class="headerlink" title="编写高速缓存友好的代码"></a>编写高速缓存友好的代码</h2><p>好的程序员总是应该试着去编写高速缓存友好(cache friendly)的代码.下面是确保高速缓存友好的基本方法:</p>
<ol>
<li>让最常见的情况运行得快.程序通常把大部分时间花在少量的核心函数上,而这些函数通常吧大部分时间都花在少量循环上.因此要把注意力集中在核心函数中的循环上.</li>
<li>在每个循环内部提供循环命中率.</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sumvec</span><span class="params">(<span class="keyword">int</span> v[N])</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> i, sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">    sum += v[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面函数高速缓存优化吗?首先局部变量i和sum循环体有良好的时间局部性,实际上优化编译器会把它们缓存在寄存器文件中.假设v是块对齐的,字为4个字节,高速缓存块为4个字.高速缓存为空,则对v的引用有下面的命中和不命中模式:</p>
<p><img src="/images/%E5%91%BD%E4%B8%AD1.jpg" alt="alter 命中"></p>
<p>这样v[0]不命中,而包含v[0]-v[3]相应的块会被从存储器加载到高速缓存中.因此接下来的三个引用都会命中.</p>
]]></content>
      <tags>
        <tag>深入理解计算机系统</tag>
      </tags>
  </entry>
  <entry>
    <title>程序的机器级表示</title>
    <url>/2015/01/27/2015-01-17-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F-%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/</url>
    <content><![CDATA[<ul id="tree" class="ztree"></ul>

<h1 id="程序的机器级表示"><a href="#程序的机器级表示" class="headerlink" title="程序的机器级表示"></a>程序的机器级表示</h1><p>计算机执行机器代码.GCC C语言编译器以<strong>汇编代码</strong>的形式产生输出,汇编代码是机器代码的文本表示,给出程序中的每一条指令.然后GCC调用汇编器和链接器,从而根据汇编代码生成可执行的机器代码.</p>
<h2 id="程序编码"><a href="#程序编码" class="headerlink" title="程序编码"></a>程序编码</h2><p>假设一个C程序,有两个文件p1.c和p2.c,在一台IA32机器上,用Unix命令行编译这些代码如下:</p>
<blockquote>
<p>gcc -O1 -o p p1.c p2.c</p>
</blockquote>
<p>命令gcc知道是GCC C编译器,编译选项-O1高速编译器使用第一级优化.通常提高优化级别会使最终程序运行得更快,但是编译时间可能会变长,用调试工具对代码进行调试会更难.</p>
<h3 id="机器级代码"><a href="#机器级代码" class="headerlink" title="机器级代码"></a>机器级代码</h3><p>对机器级编程来说下面两种抽象尤为重要:</p>
<ol>
<li>机器级程序的格式和行为,定义为指令集体系结构(Instruction set architecture, ISA),定义了处理器状态,指令的格式,以及每条指令对状态的影响.</li>
<li>机器级程序使用的存储地址是虚拟地址,提供的存储器模型看上去是一个非常大的字节数组.</li>
</ol>
<p>IA32机器代码和原始的C代码差别非常大,一些对C程序员隐藏的处理器状态是可见的:</p>
<ul>
<li>程序计数器(PC,用%eip表示)表示将要执行的下一条指令在存储器中的地址.</li>
<li>整数寄存器文件包含8个命名的位置,分别存储32位的值.这些寄存器可以存储地址(C语言的指针)或整数数据.有的用来记录某些重要的程序状态,其他的寄存器用来保存临时数据,例如局部变量和函数的返回值.</li>
<li>条件码寄存器保存着最近执行的算术或逻辑指令的状态信息.用来实现控制或数据流中的条件变化.</li>
<li>一组浮点寄存器存放浮点数据.</li>
</ul>
<p>虽然C语言提供了一种模型,可以在存储器中声明和分配各种数据类型的对象,但是机器代码只是简单地将存储器看成一个很大的,按字节寻址的数组.</p>
<p>程序存储器(Program memory)包含:程序的可执行机器代码,操作系统需要的一些信息,用来管理过程调用和返回的运行时栈,以及用户分配的存储器块.<em>操作系统负责管理虚拟地址空间,将虚拟地址翻译成实际处理器存储器中的物理地址</em>.</p>
<h3 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> accum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t = x + y;</span><br><span class="line">    accum += t;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查看目标代码的内容,最有价值的是反编译器.<br>linux中可以使用下面的命令</p>
<blockquote>
<p>linux 中使用 objdump -d code.o<br>mac 中使用 otool -tv code.o</p>
</blockquote>
<h2 id="数据格式"><a href="#数据格式" class="headerlink" title="数据格式"></a>数据格式</h2><p>由于是从16位体系结构扩展成32位的,Intel用术语”字(word)”表示16位数据类型.因此32位为”双字(double words)”,称64位为”四字(quad words)”.</p>
<p>C语言数据类型在x86-64中的大小.(在64位机器中,指针长度8字节)</p>
<table>
<thead>
<tr>
<th>C声明</th>
<th>Intel数据类型</th>
<th>汇编代码后缀</th>
<th>大小(字节)</th>
</tr>
</thead>
<tbody><tr>
<td>char</td>
<td>字节</td>
<td>b</td>
<td>1</td>
</tr>
<tr>
<td>short</td>
<td>字</td>
<td>w</td>
<td>2</td>
</tr>
<tr>
<td>int</td>
<td>双字</td>
<td>l</td>
<td>4</td>
</tr>
<tr>
<td>long</td>
<td>四字</td>
<td>q</td>
<td>8</td>
</tr>
<tr>
<td>char *</td>
<td>四字</td>
<td>q</td>
<td>8</td>
</tr>
<tr>
<td>float</td>
<td>单精度</td>
<td>s</td>
<td>4</td>
</tr>
<tr>
<td>double</td>
<td>双精度</td>
<td>l</td>
<td>8</td>
</tr>
<tr>
<td>long double</td>
<td>扩展精度</td>
<td>t</td>
<td>10/12</td>
</tr>
</tbody></table>
<p><em>C语言数据类型在IA32中的大小,IA32中不支持64位整数运算,编译带有long long数据的代码,需要产生一些操作序列,以32位为单位执行运算</em></p>
<p>数据传送指令有三个变种:movb(传送字节),movw(传送字)和movl(传送双字).l用来表示双字(将32位数看成是长字 long word).汇编代码也使用l来表示4字节整数和8字节双精度浮点数,因为浮点数使用不同的指令和寄存器.</p>
<h2 id="访问信息"><a href="#访问信息" class="headerlink" title="访问信息"></a>访问信息</h2><p>一个x86-64中央处理单元(CPU)包含一组16个存储64位值的通用寄存器.用来存储整数数据和指针.它们的名字都是以%r开头,它们都另有特殊的名字.最初的8086有8个16位的寄存器,从%ax到%bp,其名字反映了不同的用途,扩展到IA32架构时,从16位扩展到32位,标号从%eax到%ebp.扩展到x86-64时,从32位扩展到64位,原来的8个寄存器的名字变成从%rax到%rbp.另外还增加了%r8到%r15另外8个寄存器.</p>
<p><img src="/images/%E5%AF%84%E5%AD%98%E5%99%A8.jpg" alt="alter 寄存器"></p>
<h3 id="操作数指示符"><a href="#操作数指示符" class="headerlink" title="操作数指示符"></a>操作数指示符</h3><p>大多数指令有一个或多个操作数,指示一个操作中要引用的源数据值,以及放置结果的目标位置.</p>
<ol>
<li>立即数(immediate),常数值.ATT格式中用$后面跟一个整数.</li>
<li>寄存器(register),表示某个寄存器的内容,16个寄存器的低位1字节,2字节,4字节或8字节中的一个作为操作数.用$r_a$表示任意寄存器a,用引用$R[r_a]$表示它的值.把寄存器集合看出一个数组R.</li>
<li>存储器引用(memory),根据计算出来的地址访问某个存储器位置(有效地址).将存储器看成一个很大的字节数组用$M_b[Addr]$表示对存储在存储器中从地址Addr开始的b个字节值的引用.通常省去下方的b.</li>
</ol>
<p>有多种不同的寻址模式,允许不同形式的存储器引用.其中$Imm(r_b,r_i,s)$是最常用的形式.有四个组成部分:</p>
<ul>
<li>一个立即数偏移Imm</li>
<li>一个基址寄存器$r_b$</li>
<li>一个变址寄存器$r_i$</li>
<li>一个比例因子s.s必须为1,2,4,8.</li>
</ul>
<p>有效地址=$Imm + R[r_b] + R[r_i] \cdot s$.当引用数组元素时,会用到这种通用形式.</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>格式</th>
<th>操作数值</th>
<th>名称</th>
</tr>
</thead>
<tbody><tr>
<td>立即数</td>
<td>$Imm</td>
<td>Imm</td>
<td>立即数寻址</td>
</tr>
<tr>
<td>寄存器</td>
<td>$r_a$</td>
<td>$R[r_a]$</td>
<td>寄存器寻址</td>
</tr>
<tr>
<td>存储器</td>
<td>Imm</td>
<td>M[Imm]</td>
<td>绝对寻址</td>
</tr>
<tr>
<td>存储器</td>
<td>($r_a$)</td>
<td>$M[R[r_a]]$</td>
<td>间接寻址</td>
</tr>
<tr>
<td>存储器</td>
<td>$Imm(r_b)$</td>
<td>$Imm + M[[R[r_b]]$</td>
<td>(基址+偏移量)寻址</td>
</tr>
<tr>
<td>存储器</td>
<td>$(r_b,r_i)$</td>
<td>$M[R[r_b] + R[r_i]]$</td>
<td>变址寻址</td>
</tr>
<tr>
<td>存储器</td>
<td>$(r_b,r_i,s)$</td>
<td>$M[R[r_b] + R[r_i] \cdot s]$</td>
<td>比例变址寻址</td>
</tr>
</tbody></table>
<h3 id="数据传送指令"><a href="#数据传送指令" class="headerlink" title="数据传送指令"></a>数据传送指令</h3><p>将数据从一个位置复制到另一个位置的指令是最频繁使用的指令.许多不同的指令属于不同的指令类,一类中的指令执行一样的操作,只是操作数大小不同.例如MOV类指令类由movb,movw,movl和movq组成,分别表示大小为1,2,4,8个字节的数据上进行操作.<br>MOV的源操作数可以是立即数,存储在寄存器或者内存中,目的地操作数制定一个位置要么是寄存器,或者是一个内存地址.x86-64加了一条限制,传送指令的两个操作数不能都指向内存位置.</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>效果</th>
<th>属性</th>
</tr>
</thead>
<tbody><tr>
<td><strong>MOV   S,   D</strong></td>
<td>D &lt;- S</td>
<td>传送</td>
</tr>
<tr>
<td>movb</td>
<td></td>
<td>传送字节</td>
</tr>
<tr>
<td>movw</td>
<td></td>
<td>传送字</td>
</tr>
<tr>
<td>movl</td>
<td></td>
<td>传送双字</td>
</tr>
<tr>
<td>movq</td>
<td></td>
<td>传送四字</td>
</tr>
<tr>
<td>movabsq I, R</td>
<td>R&lt;-I</td>
<td>传送绝对的四字</td>
</tr>
<tr>
<td><strong>MOVS  S,   R</strong></td>
<td>R &lt;- 符号扩展(S)</td>
<td>传送符号扩展的字节</td>
</tr>
<tr>
<td>movsbw</td>
<td></td>
<td>将做了符号扩展的字节传送到字</td>
</tr>
<tr>
<td>movsbl</td>
<td></td>
<td>将做了符号扩展的字节传送到双字</td>
</tr>
<tr>
<td>movswl</td>
<td></td>
<td>将做了符号扩展的字传送到双字</td>
</tr>
<tr>
<td>movsbq</td>
<td></td>
<td>将做了符号扩展的字节传送到四字</td>
</tr>
<tr>
<td>movswq</td>
<td></td>
<td>将做了符号扩展的字传送到四字</td>
</tr>
<tr>
<td>movslq</td>
<td></td>
<td>将做了符号扩展的双字传送到四字</td>
</tr>
<tr>
<td>cltq</td>
<td>%rax&lt;-符号扩展(%eax)</td>
<td>把%eax符号扩展到%rax</td>
</tr>
<tr>
<td><strong>MOVZ  S,   R</strong></td>
<td>R &lt;- 零扩展(S)</td>
<td>传送零扩展的字节</td>
</tr>
<tr>
<td>movzbw</td>
<td></td>
<td>将做了零扩展的字节传送到字</td>
</tr>
<tr>
<td>movzbl</td>
<td></td>
<td>将做了零扩展的字节传送到双字</td>
</tr>
<tr>
<td>movzwl</td>
<td></td>
<td>将做了零扩展的字传送到双字</td>
</tr>
<tr>
<td>movzbq</td>
<td></td>
<td>将做了零扩展的字节传送到四字</td>
</tr>
<tr>
<td>movzwq</td>
<td></td>
<td>将做了零扩展的字传送到四字</td>
</tr>
</tbody></table>
<p><em>当需要扩展时,由源操作数决定是符号扩展还是零扩展,当源操作数是有符号的进行符号扩展,否则进行零扩展</em></p>
<h3 id="数据传送示例"><a href="#数据传送示例" class="headerlink" title="数据传送示例"></a>数据传送示例</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">exchange</span><span class="params">(<span class="keyword">long</span> *xp, <span class="keyword">long</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> x = *xp;</span><br><span class="line">    *xp = y;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">;xp in %rdi, y in %rsi</span><br><span class="line">exchange:</span><br><span class="line">movq (%rdi), %rax</span><br><span class="line">movq %rsi,(%rdi)</span><br><span class="line">ret</span><br></pre></td></tr></table></figure>

<h3 id="压人和弹出栈数据"><a href="#压人和弹出栈数据" class="headerlink" title="压人和弹出栈数据"></a>压人和弹出栈数据</h3><p>最后两个数据传送操作可以将数据压入程序栈中,以及从程序栈中弹出数据.栈是一种”后进先出”的数据结构,通过push把数据压入栈中,通过pop操作删除数据.栈可以实现为一个数组,总是从数组的一端插入和删除数据,这一端被称为<em>栈顶</em>.在x86-64中,程序栈放在内存中的某个区域,栈向下增长,栈顶元素的地址是所有栈中元素地址最低的.栈指针%rsp保存着栈顶元素的地址.</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>效果</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>pushq S</td>
<td>R[%rsp] &lt;- R[%rsp] - 8;</td>
<td>将四字入栈</td>
</tr>
</tbody></table>
<pre><code>   |M[R[%rsp]] &lt;- S|</code></pre>
<p>popq  D|D &lt;- M[R[%rsp]];|将四字出栈<br>       |R[%rsp] &lt;- R[%rsp] + 8|</p>
<p>(栈向下增长,因此栈顶元素的地址是所有栈中元素地址中最低的.)</p>
<p><img src="/images/%E5%A0%86%E6%A0%88.jpg" alt="alter 堆栈处理情况"></p>
<p>将一个四字值压入栈中,先将栈指针减8,然后将值写到新的栈定地址.</p>
<p>pushq %rbp的行为等价于下面的两条指令:</p>
<blockquote>
<p>subq $8, %rsp      <em>减少栈指针</em><br>movq %rbp, (%rsp) <em>把%rbp内容压栈</em></p>
</blockquote>
<p>pushq指令编码为1个字节,而上面两条指令需要8个字节.</p>
<p>弹出一个双字的操作包括从栈顶位置读出数据,然后把栈指针加8.<br>popq %rax 等价于下面的两条指令:</p>
<blockquote>
<p>movq (%rsp), %rax<br>addq $8,%rsp</p>
</blockquote>
<h2 id="算术和逻辑操作"><a href="#算术和逻辑操作" class="headerlink" title="算术和逻辑操作"></a>算术和逻辑操作</h2><p>大多数操作都分成了指令类,除了leaq外都有代表不同大小操作数的变种.例如addb,addw,addl,addq分别是字节,字,双字,四字的加法.一共有四组操作:加载有效地址,一元操作,二元操作,移位.</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>效果</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>leaq S, D</td>
<td>$D \leftarrow &amp;S$</td>
<td>加载有效地址</td>
</tr>
<tr>
<td>INC D</td>
<td>$D \leftarrow D + 1$</td>
<td>加1</td>
</tr>
<tr>
<td>DEC D</td>
<td>$D \leftarrow D-1$</td>
<td>减1</td>
</tr>
<tr>
<td>NEG D</td>
<td>$D \leftarrow -D$</td>
<td>取负</td>
</tr>
<tr>
<td>NOT D</td>
<td>$D \leftarrow \sim D$</td>
<td>取补</td>
</tr>
<tr>
<td>ADD S, D</td>
<td>$D \leftarrow D+S$</td>
<td>加</td>
</tr>
<tr>
<td>SUB S, D</td>
<td>$D \leftarrow D-S$</td>
<td>减</td>
</tr>
<tr>
<td>IMUL S, D</td>
<td>$D \leftarrow D * S$</td>
<td>乘</td>
</tr>
<tr>
<td>XOR S, D</td>
<td>$D \leftarrow D ^\wedge S$</td>
<td>异或</td>
</tr>
<tr>
<td>OR S, D</td>
<td>$D \leftarrow D \mid S$</td>
<td>或</td>
</tr>
<tr>
<td>AND S, D</td>
<td>$D \leftarrow D &amp; S$</td>
<td>与</td>
</tr>
<tr>
<td>SAL k, D</td>
<td>$D \leftarrow D \ll k$</td>
<td>左移</td>
</tr>
<tr>
<td>SHL k, D</td>
<td>$D \leftarrow D \ll k$</td>
<td>左移(等同于SAL)</td>
</tr>
<tr>
<td>SAR k, D</td>
<td>$D \leftarrow D \gg_A k$</td>
<td>算术右移</td>
</tr>
<tr>
<td>SHR k, D</td>
<td>$D \leftarrow D \gg_L k$</td>
<td>逻辑右移</td>
</tr>
</tbody></table>
<h3 id="加载有效地址"><a href="#加载有效地址" class="headerlink" title="加载有效地址"></a>加载有效地址</h3><p>加载有效地址(load effective address)指令leaq实际上是movq指令的变形.指令形式是从存储器读数据到寄存器,但实际上没有引用存储器,而是将有效地址写入到目的操作数中.<br>例如:如果%rdx的值为x,则leaq 7(%rdx,%rdx,4) %rax将设置寄存器%rax的值为7+5x.目的操作数必须是一个寄存器.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">scale</span><span class="params">(<span class="keyword">long</span> x, <span class="keyword">long</span> y, <span class="keyword">long</span> z)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> t = x + <span class="number">4</span>*y + <span class="number">12</span>*z;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">;x in %rdi, y in %rsi, z in %rdx</span><br><span class="line">scale:</span><br><span class="line">leaq (%rdi,%rsi,4), %rax  ;x + 4*y</span><br><span class="line">leaq (%rdi,%rdi,2), %rdx  ;z + 2*z &#x3D; 3z</span><br><span class="line">leaq (%rax, %rdx,4), %rax ;(x+4*y)+4*(3*z) &#x3D; x + 4*y + 12*z</span><br><span class="line">ret</span><br></pre></td></tr></table></figure>
<p>leaq指令能执行加法和有效形式的乘法.</p>
<h3 id="一元操作和二元操作"><a href="#一元操作和二元操作" class="headerlink" title="一元操作和二元操作"></a>一元操作和二元操作</h3><p>一元操作只有一个操作数,即是源又是目的,操作数可以是一个寄存器也可以是一个存储器位置.例如:incq (%rsp),会使栈顶的8个字节元素加1.</p>
<p>二元操作,第二个操作数即是源又是目的.第一个操作数可以是立即数,寄存器或存储器位置,第二个操作数可以是寄存器或存储器位置,但是和movq指令一样,两个操作数不能同时是存储器位置.</p>
<h3 id="移位操作"><a href="#移位操作" class="headerlink" title="移位操作"></a>移位操作</h3><p>移位量可以是一个立即数,或者存放在单字节寄存器元素%cl中.(这些指令很特别,只允许以这个特定的寄存器作为操作数.)</p>
<h3 id="特殊的算术操作"><a href="#特殊的算术操作" class="headerlink" title="特殊的算术操作"></a>特殊的算术操作</h3><table>
<thead>
<tr>
<th>指令</th>
<th>效果</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>imulq S</td>
<td>R[%rdx]:R[%rax] &lt;- S * R[%rax]</td>
<td>有符号全乘法</td>
</tr>
<tr>
<td>mullq S</td>
<td>R[%rdx]:R[%rax] &lt;- S * R[%rax]</td>
<td>无符号全乘法</td>
</tr>
<tr>
<td>clto</td>
<td>R[%rdx]:R[%rax] &lt;- SignExtend(R[%rax])</td>
<td>转为八字</td>
</tr>
<tr>
<td>idivq S</td>
<td>R[%rdx] &lt;- R[%rdx]:R[%rax] mod S;<br/>R[%rdx] &lt;- R[%rax]:R[%rax] / S</td>
<td>有符号除法</td>
</tr>
<tr>
<td>divq S</td>
<td>R[%rdx] &lt;- R[%rdx]:R[%rax] mod S;<br/>R[%rax] &lt;- R[%rdx]:R[%rax] / S</td>
<td>无符号除法</td>
</tr>
</tbody></table>
<h2 id="控制"><a href="#控制" class="headerlink" title="控制"></a>控制</h2><p>通常C语言中的语句和机器代码中的指令都是按照它们在程序中出现的次序,顺序执行的,用jump指令可以改变一组机器代码指令的执行顺序.</p>
<h3 id="条件码"><a href="#条件码" class="headerlink" title="条件码"></a>条件码</h3><p>除了整数寄存器,CPU还维护着一组单个位的条件码(condition code)寄存器,描述了最近的算术或逻辑操作的属性.通过检测这些寄存器来执行条件分支指令.常用的条件码有:</p>
<ul>
<li>CF:进位标志.最近的操作使最高位产生了进位.可以用来检查无符号操作数的溢出.</li>
<li>ZF:零标志.最近的操作得出的结果为0.</li>
<li>SF:符号标志.最近的操作得到的结果为负数.</li>
<li>OF:溢出标志.最近的操作导致一个补码溢出(正溢出或负溢出).</li>
</ul>
<p>假设通过一条ADD指令完成等价于C表达式t=a+b的功能,a,b和t都是整型.根据下面的C表达式来设置条件码:</p>
<ul>
<li>CF: (unsigned)t &lt; (unsigned) a 无符号溢出</li>
<li>ZF: (t == 0) 零</li>
<li>SF: (t &lt; 0) 负数</li>
<li>OF: (a &lt;0 == b &lt; 0) &amp;&amp; (t &lt; 0 != a &lt; 0) 有符号溢出(a与b的符号相同且结果的符号与a或者b不同,只有a,b符号相同时才有可能溢出,并且和的符号和参数的符号相反才表示溢出)</li>
</ul>
<p>leaq指令不改变任何条件码,因为它是用来进行地址计算的.<br>逻辑操作:进位标志和溢出标志会设置为0<br>移位操作:进位标志设置为最后一个被移出的位,溢出标志设置为0.<br>INC,DEC指令会设置溢出和零标志,但是不会改变进位标志.</p>
<p>CMP指令根据它们的两个操作数之差来设置条件码,除了只设置条件码而不更新目标寄存器之外,CMP指令与SUB指令的行为是一样的.ATT格式中,列出操作数的顺序是相反的.</p>
<p>TEST指令的行为与AND指令一样,除了它们只设置条件码而不改变目的寄存器的值.</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>基于</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>CMP $S_2,S_1$</td>
<td>$S_1- S_2$</td>
<td>比较</td>
</tr>
<tr>
<td>cmpb<br/>cmpw<br/>cmpl</td>
<td>Compare byte<br/>Compare word<br/>Compare double word</td>
<td></td>
</tr>
<tr>
<td>TEST $S_2,S_1$</td>
<td>$S_1 &amp; S_2$</td>
<td>测试</td>
</tr>
<tr>
<td>testb<br/>testw<br/>testl</td>
<td>Test byte<br/>Test word<br/>Test double word</td>
<td></td>
</tr>
</tbody></table>
<p><em>比较和测试指令,不会修改任何寄存器的值,只设置条件码</em></p>
<h3 id="访问条件码"><a href="#访问条件码" class="headerlink" title="访问条件码"></a>访问条件码</h3><p>条件码常用方法有三种:</p>
<ol>
<li>根据条件码的组合将一个字节设置为0或者1.</li>
<li>可以条件跳转到程序的某个其它部分.</li>
<li>可以有条件的传送数据.</li>
</ol>
<table>
<thead>
<tr>
<th>指令</th>
<th>同义名</th>
<th>效果</th>
<th>设置条件</th>
</tr>
</thead>
<tbody><tr>
<td>sete D</td>
<td>setz</td>
<td>D &lt;- ZF</td>
<td>相等/零</td>
</tr>
<tr>
<td>setne D</td>
<td>setnz</td>
<td>D &lt;- ~ZF</td>
<td>不等/非零</td>
</tr>
<tr>
<td>sets D</td>
<td></td>
<td>D &lt;- SF</td>
<td>负数</td>
</tr>
<tr>
<td>setns D</td>
<td></td>
<td>D &lt;- ~SF</td>
<td>非负数</td>
</tr>
<tr>
<td>setg D</td>
<td>setnle</td>
<td>D &lt;- ~(SF ^ OF) &amp; ~ZF</td>
<td>大于(有符号&gt;)</td>
</tr>
<tr>
<td>setge D</td>
<td>setnl</td>
<td>D &lt;- ~(SF ^ OF)</td>
<td>大于等于(有符号&gt;=)</td>
</tr>
<tr>
<td>setl D</td>
<td>setnge</td>
<td>D &lt;- SF ^ OF</td>
<td>小于(有符号&lt;)</td>
</tr>
<tr>
<td>setle D</td>
<td>setng</td>
<td>D &lt;- SF ^ OF or ZF</td>
<td>小于等于(有符号&lt;=)</td>
</tr>
<tr>
<td>seta D</td>
<td>setnbe</td>
<td>D &lt;- ~CF &amp; ~ZF</td>
<td>超过(无符号&gt;)</td>
</tr>
<tr>
<td>setae D</td>
<td>setnb</td>
<td>D &lt;- ~CF</td>
<td>超过或相等(无符号&gt;=)</td>
</tr>
<tr>
<td>setb D</td>
<td>setnae</td>
<td>D &lt;- CF</td>
<td>低于(无符号&lt;)</td>
</tr>
<tr>
<td>setbe D</td>
<td>setna</td>
<td>D &lt;- CF or ZF</td>
<td>低于或相等(无符号&lt;=)</td>
</tr>
</tbody></table>
<p>一条SET指令的目的操作数是8个单子节寄存器元素之一,或是存储一个字节的存储器位置,将这个字节设置成0或者1.为了得到一个32位结果,必须对高24位清零.以下是一个计算C语言表达式a&lt;b的典型指令序列,a和b都是int类型.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">;a is in %edx, b is in %eax</span><br><span class="line">cmpl %eax, %edx</span><br><span class="line">setl %al</span><br><span class="line">movzbl %al, %eax</span><br></pre></td></tr></table></figure>

<p>虽然所有的算术操作都会设置条件码,但是各个set命令的描述都实用的情况是:执行比较指令,根据计算t=a-b设置条件码.假设$a,b,t$分别是$a,b,t$的补码形式表示的整数,因此$t=a - \frac{t}{w} b$,w取决于a和b的大小.</p>
<p>sete的情况:$当a=b时,t=0$,因此零标志位就表示相等.<br>setl:测一个有符号比较,如果没有发生溢出(OF=0),当$a - \frac{t}{w} &lt; 0时 a &lt; b$,将SF设置为1指明这一点,当$a - \frac{t}{w} \ge 0 时 a \ge b$由SF设置为0指明.如果发生溢出有$a - \frac{t}{w} b &gt; 0(负溢出)时 a &lt; b$,而$a - \frac{t}{w} b &lt; 0(正溢出)时 a &gt; b$,当$a=b$时不会有溢出.因此当OF设置为1时,当且仅当SF被设置为1),有a &lt; b.因此得出a&lt;b由OF XOR SF决定.</p>
<p>对于无符号比较的测试,当a - b &lt; 0时CMP指令会设置进位标志.因此通过进位标志和零标志的组合即可判断.</p>
<p>机器代码如何区分有符号和无符号值是很重要的,机器代码不会将每个程序值都和一个数据类型联系起来,相反,大多数情况下,机器代码对于有符号和无符号两种情况都使用一样的指令,因为无符号和补码运算具有一样的位级运算.</p>
<h3 id="跳转指令"><a href="#跳转指令" class="headerlink" title="跳转指令"></a>跳转指令</h3><p>跳转(jump)指令会导致执行切换到程序中一个全新的位置.<br>在产生目标代码文件时,汇编器会确定所有带标号指令的地址,并将<em>跳转目标</em>(目的指令的地址)编码为跳转指令的一部分.</p>
<p><img src="/images/jump.jpg" alt="alter 跳转指令"></p>
<h3 id="跳转指令编码"><a href="#跳转指令编码" class="headerlink" title="跳转指令编码"></a>跳转指令编码</h3><p>在汇编代码中,跳转目标用符号标号代表,汇编器,以及后来的链接器,会产生跳出目标的适当编码.最常用的编码是PC相对的(PC-relative).将目标指令的地址与紧跟在跳转指令后那条指令的地址之间的差作为编码.还有一种编码方式给出<em>绝对</em>地址,用4个字节直接指定目标.</p>
<h3 id="用条件控制来实现条件分支"><a href="#用条件控制来实现条件分支" class="headerlink" title="用条件控制来实现条件分支"></a>用条件控制来实现条件分支</h3><p>C语言中的if-else语句的通用形式模板如下:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(testexpress)</span><br><span class="line">    thenstatement</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    elsestatement</span><br></pre></td></tr></table></figure>
<p>对于这种通用形式,汇编实现通常会使用下面这种形式,汇编器会为thenstatement和elsestatement产生各自的代码块,并且插入条件分支和无条件分支,保证能执行正确的代码,如下的代码.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">t = testexpress</span><br><span class="line"><span class="keyword">if</span> (!t)</span><br><span class="line">    <span class="keyword">goto</span> <span class="literal">false</span>;</span><br><span class="line">thenstatement</span><br><span class="line"><span class="keyword">goto</span> done</span><br><span class="line"><span class="literal">false</span>:</span><br><span class="line">    elsestatement</span><br><span class="line">done:</span><br></pre></td></tr></table></figure>

<h3 id="用条件传送实现条件分支"><a href="#用条件传送实现条件分支" class="headerlink" title="用条件传送实现条件分支"></a>用条件传送实现条件分支</h3><table><tr><td>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">absdiff</span><span class="params">(<span class="keyword">long</span> x, <span class="keyword">long</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> result;</span><br><span class="line">    <span class="keyword">if</span> (x &lt; y) &#123;</span><br><span class="line">        result = y - x;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        result = x - y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
    </td><td>
    <figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">cmovdiff</span><span class="params">(<span class="keyword">long</span> x, <span class="keyword">long</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> rval = y - x;</span><br><span class="line">    <span class="keyword">long</span> eval = x - y;</span><br><span class="line">    <span class="keyword">long</span> ntest = x &gt;= y;</span><br><span class="line">    <span class="comment">//下面的语句通过一条指令实现</span></span><br><span class="line">    <span class="keyword">if</span> (ntest) rval = eval;</span><br><span class="line">    <span class="keyword">return</span> rval;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</td></tr><tr><td colspan=2>产生的汇编语言如下</td></tr><tr><td colspan=2>
<figure class="highlight arm"><table><tr><td class="code"><pre><span class="line"><span class="comment">;long absdiff(long x, long y)</span></span><br><span class="line"><span class="comment">;x in %rdi, y in %rsi</span></span><br><span class="line"><span class="symbol">absdiff:</span></span><br><span class="line">    movq %rsi, %rax</span><br><span class="line">    subq %rdi, %rax <span class="comment">;rval = y-x</span></span><br><span class="line">    movq %rdi, %rdx</span><br><span class="line">    subq %rsi, %rdx <span class="comment">;eval = x-y</span></span><br><span class="line">    cmpq %rsi, %rdi <span class="comment">;compare x:y</span></span><br><span class="line">    cmovge %rdx, %rax <span class="comment">;if &gt;=, rval = eval</span></span><br><span class="line">    ret</span><br></pre></td></tr></table></figure>
</td></tr></table>

<p>处理器通过使用<em>流水线</em>来获得高性能,一条指令的处理要经过一系列的阶段,每个阶段执行所需操作的一小部分(例如:从内存取指令,确定指令类型,从内存读数据,执行算术运算,向内存写数据等).通过重叠连续指令的步骤来获得高性能.CMOV*指令可以从内存或者源寄存器中读取,但是只有在指定的条件满足时,才会被复制到目的寄存器中.</p>
<p><img src="/images/%E6%9D%A1%E4%BB%B6%E4%BC%A0%E9%80%81.jpg" alt="alter 条件传送指令"></p>
<blockquote>
<p>对GCC的实验表明,只有当两个表达式都很容易计算时,例如表达式分别都只是一条加法指令,才会使用条件传送.即使许多分支预测错误的开销会超过更复杂的计算,GCC还是会使用条件控制转移.<br>条件数据传送提供了一种实现条件操作的替代策略,并且与现代处理器的运行方式更切合,虽然只能用于非常受限的情况.</p>
</blockquote>
<h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><h4 id="do-while循环"><a href="#do-while循环" class="headerlink" title="do-while循环"></a>do-while循环</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">do</span><br><span class="line">    body-statement</span><br><span class="line">    while(test-expr);</span><br></pre></td></tr></table></figure>
<p>重复执行body-statement,对test-expr求值,结果非零则继续循环.body-statement至少会执行一次.<br>这种通用形式可以翻译成如下的条件和goto语句.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">loop:</span><br><span class="line">    body-statement</span><br><span class="line">    t &#x3D; test-expr;</span><br><span class="line">    if (t)</span><br><span class="line">        goto loop;</span><br></pre></td></tr></table></figure>

<p>以计算!n为列:</p>
<table><tr><td>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">fact_do</span><span class="params">(<span class="keyword">long</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> result = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        result *= n;</span><br><span class="line">        n = n - <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">while</span> (n &gt; <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</td><td>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">fact_do_goto</span><span class="params">(<span class="keyword">long</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> result = <span class="number">1</span>;</span><br><span class="line">loop:</span><br><span class="line">    result *= n;</span><br><span class="line">    n = n - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (n &gt; <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">goto</span> loop;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</td></tr><tr><td colspan=2>对应的汇编语言如下:</td></tr><tr><td colspan=2>

<figure class="highlight arm"><table><tr><td class="code"><pre><span class="line"><span class="comment">;long fact_do(long n)</span></span><br><span class="line"><span class="comment">;n in %rdi</span></span><br><span class="line"><span class="symbol">fact_do:</span></span><br><span class="line">    movl <span class="number">$1</span>, %eax <span class="comment">;set result = 1</span></span><br><span class="line"><span class="symbol">.L2:</span></span><br><span class="line">    imulq %rdi, %rax <span class="comment">;compute result *= n</span></span><br><span class="line">    subq <span class="number">$1</span>, %rdi <span class="comment">;n-1</span></span><br><span class="line">    cmpq <span class="number">$1</span>, %rdi <span class="comment">;compare n and 1</span></span><br><span class="line">    jg .L2 <span class="comment">;if &gt; goto loop</span></span><br><span class="line">    rep<span class="comment">; ret ;return</span></span><br></pre></td></tr></table></figure>
</td></tr></table>

<h4 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h4><p>while语句的通用形式如下:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (test-expr) &#123;</span><br><span class="line">    body-statement</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>与do-while的不同之处在于,在第一次执行body-statement之前,会对test-expr求值,循环有可能一次也不会执行.<br>while方式的循环翻译存在如下的两种方式:</p>
<ul>
<li>跳转到中间的方式,通过执行一个无条件跳转到循环结尾处的测试.</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">    <span class="keyword">goto</span> test;</span><br><span class="line">loop:</span><br><span class="line">    body-statement</span><br><span class="line">test:</span><br><span class="line">    t = test-expr;</span><br><span class="line">    <span class="keyword">if</span> (t) </span><br><span class="line">        <span class="keyword">goto</span> loop;</span><br></pre></td></tr></table></figure>
<ul>
<li>guarded-do方法,先使用条件分支,如果初始化条件不成立就跳过循环,把代码变换成do-while循环.</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">t = test-expr;</span><br><span class="line"><span class="keyword">if</span> (!t)</span><br><span class="line">    <span class="keyword">goto</span> done;</span><br><span class="line">loop:</span><br><span class="line">    body-statement</span><br><span class="line">    t = test-expr;</span><br><span class="line">    <span class="keyword">if</span> (t)</span><br><span class="line">        <span class="keyword">goto</span> loop;</span><br><span class="line">done:</span><br></pre></td></tr></table></figure>
<blockquote>
<p>第二种方式是一种更高级别的优化,大部分情况下第一次都是满足条件的,这样就减少了第一次的跳转.(通过一个分支判断避免第一次的跳转)</p>
</blockquote>
<h4 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (init-expr; test-expr; update-expr)</span><br><span class="line">    body-statement</span><br></pre></td></tr></table></figure>
<p>与以下的while循环代码的行为一样</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">init-expr;</span><br><span class="line"><span class="keyword">while</span>(test-expr) &#123;</span><br><span class="line">    body-statement</span><br><span class="line">    update-expr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="switch语句"><a href="#switch语句" class="headerlink" title="switch语句"></a>switch语句</h3><p>switch语句可以根据一个整数索引值进行多重分支.通过使用*跳转表(jump table)*使得实现更加高效.程序只用一次跳转表引用就可以分支到不同的位置.</p>
<h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><p>过程提供了一种封装代码的方式,用一组指定的参数和一个可选的返回值实现了某种功能.</p>
<blockquote>
<p>设计良好的软件过程作为抽象机制,隐藏某个行为的具体实现,同时又提供清晰简洁的接口定义.</p>
</blockquote>
<p>过程的调用包括以下的一个或者多个机制:(以P调用Q,Q执行后返回P为例)</p>
<ul>
<li>传递控制:在进入Q的时候,PC必须被设置为Q的代码的起始地址,然后在返回时,把PC设置为P中调用Q后面的那条指令的地址.</li>
<li>传递数据:P必须能够为Q提供一个或多个参数,Q必须能够向P返回一个值.</li>
<li>分配和释放内存:Q可能需要为局部变量分配空间,在返回前,有必须释放这些存储空间.</li>
</ul>
<h3 id="运行时栈"><a href="#运行时栈" class="headerlink" title="运行时栈"></a>运行时栈</h3><p>以过程P调用过程Q为例,当Q运行时,只需要为局部变量分配新的存储空间,或者设置到另一个过程的调用.当Q返回时,任何它所分配的局部存储空间都可以释放.<br>通用栈帧的结构如下图:<br><img src="/images/%E6%A0%88%E5%B8%A7%E7%BB%93%E6%9E%84.jpg" alt="title=通用栈帧结构"></p>
<h3 id="控制转移"><a href="#控制转移" class="headerlink" title="控制转移"></a>控制转移</h3><p>将控制从函数P转移到函数Q只需要简单地把程序计数器PC设置为Q的代码的起始位置.但是从Q返回时,处理器必须记录好它需要继续P的执行的代码位置.在X86-64机器中,通过指令call Q调用过程Q来记录.该指令会把地址A压入栈,并将PC设置为Q的其实地址.压入的地址A称为返回地址(是在call指令后面的那条指令的地址).ret指令会从栈中弹出地址A,并且把PC设置为A</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>call Label</td>
<td>过程调用</td>
</tr>
<tr>
<td>call *Operand</td>
<td>过程调用</td>
</tr>
<tr>
<td>ret</td>
<td>从过程调用中返回</td>
</tr>
</tbody></table>
<h3 id="数据传送"><a href="#数据传送" class="headerlink" title="数据传送"></a>数据传送</h3><p>调用一个过程时,除了要把控制传递给它并在过程返回时再传递回来之外,过程调用还可能包括把数据作为参数传递,从过程返回还有可能包括返回值.在x86-64中,大部分过程间的数据传送是通过寄存器实现的.<br>x86-64中,可以通过寄存器最多传递6个整型(正数和指针)参数,默认的分配顺序如下:</p>
<table>
<thead>
<tr>
<th>操作数大小</th>
<th>参数1</th>
<th>参数2</th>
<th>参数3</th>
<th>参数4</th>
<th>参数5</th>
<th>参数6</th>
</tr>
</thead>
<tbody><tr>
<td>64</td>
<td>%rdi</td>
<td>%rsi</td>
<td>%rdx</td>
<td>%rcx</td>
<td>%r8</td>
<td>%r9</td>
</tr>
<tr>
<td>32</td>
<td>%edi</td>
<td>%esi</td>
<td>%edx</td>
<td>%ecx</td>
<td>%r8d</td>
<td>%r9d</td>
</tr>
<tr>
<td>16</td>
<td>%di</td>
<td>%si</td>
<td>%dx</td>
<td>%cx</td>
<td>%r8w</td>
<td>%r9w</td>
</tr>
<tr>
<td>8</td>
<td>%dil</td>
<td>%sil</td>
<td>%dl</td>
<td>%cl</td>
<td>%r8b</td>
<td>%r9b</td>
</tr>
</tbody></table>
<blockquote>
<p>如果一个过程超过6个参数则需要通过栈来传递参数,以P调用Q为例,则P的栈中需要包括存储参数7及后续参数的空间,并且参数7位于栈顶(<em>后进先出</em>),后面跟着P的返回地址.[通过栈进行参数传递时,所有的数据都需要向8的倍数对齐]</p>
</blockquote>
<p>参数8|参数7|返回地址<br>16&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0(%rsp)</p>
<h4 id="栈上的局部存储"><a href="#栈上的局部存储" class="headerlink" title="栈上的局部存储"></a>栈上的局部存储</h4><p>存在以下情况时需要把局部变量存放内存中.</p>
<ul>
<li>寄存器不足够存放所有的本地数据.</li>
<li>对一个局部变量使用地址运算符号*&amp;*,因此必须为它产生一个地址.</li>
<li>某些局部变量是数组或者结构,因此必须能够通过数组或结构引用被访问到.</li>
</ul>
<p><em>通过leaq指令能生成到变量位置的指针,例如&amp;a,&amp;b</em></p>
<h4 id="寄存器中的局部存储空间"><a href="#寄存器中的局部存储空间" class="headerlink" title="寄存器中的局部存储空间"></a>寄存器中的局部存储空间</h4><p>寄存器是唯一所有过程共享的资源.根据惯例,寄存器%rbx,%rbp和%r12~%r15被划分为被调用者保存寄存器.当过程P调用过程Q时,Q必须保存这些寄存器的值.压入寄存器的值会在栈帧中创建标号为<em>保存的寄存器</em>的一部分.所有其他寄存器,除了%rsp都为调用者保存寄存器.</p>
<h3 id="数组分配和访问"><a href="#数组分配和访问" class="headerlink" title="数组分配和访问"></a>数组分配和访问</h3><h4 id="基本原则"><a href="#基本原则" class="headerlink" title="基本原则"></a>基本原则</h4><p>对于数据类型T和整型常数N,声明如下:T A[N];起始位置表示为$x_A$.这样在内存中分配了一个L*N字节的连续区域,并且可以用A来作为指向数组开头的指针,这个指针的值就是$x_A$.可以用0~N-1的整数索引来访问该数组元素,数组元素i会存在地址为$x_A+L \times i$的地方.</p>
<h4 id="指针运算"><a href="#指针运算" class="headerlink" title="指针运算"></a>指针运算</h4><p><em>&amp;<em>和\</em>可以产生指针和间接引用指针.因此表达式Expr与\</em>&amp;Expr是等价的.</p>
<h4 id="嵌套的数组"><a href="#嵌套的数组" class="headerlink" title="嵌套的数组"></a>嵌套的数组</h4><p>数组元素在内存中按照<em>行优先</em>的顺序排列,意味着第0行的所有元素可以写作A[0].<br>通常来说,对于一个声明如下的数组:T D[R][C];它的数组元素D[i][j]的内存地址为:<br>$$&amp;D[i][j] = X_D+ L(C \times i + j)$$<br>其中L是数据类型T以字节为单位的大小.例如一个5*3的整型数组A,则A[i][j] = $X_A + 4(3i+j)$</p>
<h3 id="异质的数据结构"><a href="#异质的数据结构" class="headerlink" title="异质的数据结构"></a>异质的数据结构</h3><p>C语言中提供了结构和联合两种将不同类型的对象组合到一起创建数据类型的机制.</p>
<h4 id="数据对齐"><a href="#数据对齐" class="headerlink" title="数据对齐"></a>数据对齐</h4><p>许多计算机系统对基本类型的合法地址有一些限制,要求某种类型对象的地址必须是某个值K(通常是2,4,8)的倍数.</p>
<blockquote>
<p>对齐原则是任何K字节的基本对象的地址必须是k的倍数.</p>
</blockquote>
<table>
<thead>
<tr>
<th>K</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>char</td>
</tr>
<tr>
<td>2</td>
<td>short</td>
</tr>
<tr>
<td>4</td>
<td>int,float</td>
</tr>
<tr>
<td>8</td>
<td>long,double,char*</td>
</tr>
</tbody></table>
]]></content>
      <tags>
        <tag>深入理解计算机系统</tag>
      </tags>
  </entry>
  <entry>
    <title>加载、链接和初始化</title>
    <url>/2015/05/08/2015-05-08-JVMS-%E5%8A%A0%E8%BD%BD%E3%80%81%E9%93%BE%E6%8E%A5%E4%B8%8E%E5%88%9D%E5%A7%8B%E5%8C%96/</url>
    <content><![CDATA[<ul id="tree" class="ztree"></ul>

<h1 id="加载-链接和初始化"><a href="#加载-链接和初始化" class="headerlink" title="加载,链接和初始化"></a>加载,链接和初始化</h1><p><em>java虚拟机动态加载,链接,初始化类和接口.</em></p>
<p>**加载:**通过名字找到类或者接口的二进制表示形式,并通过二进制创建类或者接口.</p>
<p>**链接:**把类或者接口与java虚拟机的运行时状态相结合以便虚拟机执行.</p>
<p>**初始化:**类或者接口的初始化为执行类或者接口的&lt;clinit&gt;方法.</p>
<h2 id="5-1运行时常量池"><a href="#5-1运行时常量池" class="headerlink" title="5.1运行时常量池"></a>5.1运行时常量池</h2><p>java虚拟机为每一个类型维护了一个常量池,一个运行时数据结构用来为传统编程语言实现中的符号表服务.</p>
<p>类或者接口中二进制信息表示的常量池表用来创建类或者接口创建时的运行时常量池.运行时常量池中的所有引用都是符号引用.运行时常量池中的符号引用源自类或者接口中的二进制表示形式.</p>
<ul>
<li>对类或者接口的符号引用来源于CONSTANT_Class_info结构.这样的一个引用为类或者接口的Class.getName返回的的名字.</li>
</ul>
<ol>
<li>如果是一个非数组的类或者接口,其名字为类或者接口的二进制名字(4.2.1)</li>
<li>如果是一个n维的数组,则名字为n个[后面加上数组元素类型的表示形式.<br>2.1 如果数组元素类型是原始类型则使用(4.3.2)的表示形式.<br>2.2 否则为ASCII码”L”后加上类或者接口的二进制名字(4.2.1)后加上ASCII码”;”.</li>
</ol>
<p>&emsp;&emsp;<em>本文中类或者接口的名字都是指通过Class.getName返回的值.</em></p>
<ul>
<li>对类或者接口中的字段(field)的符号引用来源于类或者接口二进制表示中的CONSTANT_Fieldref_info结构(4.4.2).</li>
<li>对类的方法的符号引用来源于类或者接口二进制表示中的CONSTANT_Methodref_info结构.</li>
<li>对接口的方法的符号引用来源于类或者接口二进制表示中的CONSTANT_InterfaceMethodref_info结构.</li>
<li>对方法处理器(method handle)的符号引用来源于类或者接口二进制表示中的CONSTANT_MethodHandle_info结构.</li>
<li>对方法类型(method type)的符号引用来源于类或者接口二进制表示中的CONSTANT_MethodType_info结构(4.3.3).</li>
<li>对调用点限定符(call site specifier)的符号引用来源于类或者接口二进制表示中的CONSTANT_InvokeDynamic_info结构,这样的一个引用提供下面的内容.</li>
</ul>
<ol>
<li>对一个方法类型的符号引用,当做invokedynamic指令的引导方法.</li>
<li>一系列符号引用(类,方法类型,方法处理器),字符串字面值,运行时常量当做引导方法的静态参数.</li>
<li>一个方法名和方法描述.<br>另外,某些不是符号引用的运行时值来源于constant_pool表.</li>
</ol>
<ul>
<li>字符串字面值是一个对字符串实例的引用,来源于类或者接口二进制表示的CONSTANT_String_info结构.CONSTANT_String_info结构给出了组成字符串字面值的Unicode码位序列.</li>
</ul>
<p>&emsp;&emsp;Java编程语言要求相同的字符串字面值(即具有相同的码位序列)必须指向相同的字符串实例(JLS 3.10.5).并且如果任何字符串的String.intern方法被调用,如果存在对应字符串的字面值则返回字面值对应的实例.因此 (“a” + “b” + “c”).intern() == “abc”返回true.</p>
<p>&emsp;&emsp;获取一个字符串字面值时,java虚拟机检查CONSTANT_String_info结构中的码位序列.</p>
<ol>
<li>如果一个字符串实例的String.intern方法调用前在CONSTANT_String_info结构中存在与之相同的Unicode码位序列,则返回之前对应的字符串序列的同一个引用.</li>
<li>否则会通过CONSTANT_String_info结构创建一个新的包含Unicode码位的序列,最后新字符串的intern方法会被调用.</li>
</ol>
<ul>
<li>运行时常量来源于类或者接口二进制表示结构中的CONSTANT_Integer_info,CONSTANT_Float_info,CONSTANT_Long_info或者CONSTANT_Double_info.</li>
</ul>
<p>constant_pool表中的其他结构CONSTANT_NameAndType_info和CONSTANT_Utf8_info仅仅在符号解析类,接口,方法,字段,方法类型,和方法处理器时间接使用或者解析字符串字面值和调用点限定符时间接使用.</p>
<h2 id="5-2java虚拟机启动"><a href="#5-2java虚拟机启动" class="headerlink" title="5.2java虚拟机启动"></a>5.2java虚拟机启动</h2><p>java虚拟机的启动通过引导类加载器(5.3.1)创建一个初始类.然后java虚拟机链接,初始化初始类,然后调用公用的类方法main(String[]).执行main方法中的虚拟机指令可能会导致其他类或者接口的链接.</p>
<p>在java虚拟机的实现中,初始类可以通过命令行的参数给出.或者虚拟机的实现可以通过初始类创建一个类加载器来加载应用程序.</p>
<h2 id="5-3创建和加载"><a href="#5-3创建和加载" class="headerlink" title="5.3创建和加载"></a>5.3创建和加载</h2><p>一个类或者接口D通过运行时常量池引用C,会触发类或者接口C的创建.</p>
<p>类或者接口的创建也可能通过D调用某些java平台的lib,例如反射.</p>
<p>如果C不是一个数组,通过类加载器加载C的二进制表示(The class File Format)创建.数组类没有外在的二进制表示,通过java虚拟机创建而不是是通过类加载器.</p>
<p>有两种类加载器:java虚拟机提供的启动类加载器(bootstrap class loader),和用户定义的类加载器.每一个用户定义的类加载器都是抽象类ClassLoader的子类.用户定义的类加载器可以用来通过用户定义的来源创建类.例如可以通过从网络下载类,或者从一个加密的文件创建.</p>
<p>一个类加载器L可能创建C通过直接定义类,或者通过委托另一个类加载器创建.如果L直接定义C则L为C的定义类加载器.</p>
<p>运行时,一个类或者接口通过其二进制名字和其定义类加载器确定.</p>
<p>java虚拟机使用下面的三种步骤中的一种创建用N表示的类或者接口C:</p>
<ul>
<li>如果N表示普通的类或者接口,使用下面两者之一的方法加载然后创建C.<ol>
<li>如果D的定义加载器为启动类加载器,则启动类加载器是C的初始类加载器.</li>
<li>如果D的定了加载器为用户自定义加载器则,该自定义加载器为C的初始类加载器.</li>
</ol>
</li>
<li>否则N表示数组类(array class),数组类直接由java虚拟机创建,而不是由类加载器创建.不管怎样D的定义加载器在创建数组类C的过程中被使用.</li>
</ul>
<p>如果在类加载的过程中发生错误,则会在使用被加载类或者接口的地方抛出一个LinkageError子类的错误.</p>
<p>如果java虚拟机在校验或者解析(非初始化)时曾经试图加载C,并且用来初始加载C的类加载器抛出了ClassNotFoundException,则java虚拟机必须抛出一个NoClassDefFoundError其原因为ClassNotFoundException.</p>
<p>一个巧妙的地方在递归加载父类时,如果加载父类时抛出了ClassNotFoundException则必须包装成NoClassDefFoundError.</p>
<p>一个定义明确的类加载器应该满足下面的三个特性:</p>
<ol>
<li>输入同样的名字,一个好的类加载器应该总是返回相同的Class对象.</li>
<li>如果一个类加载器L1委托类加载器L2加载C,则C的任意直接或间接父类,或者C中的任何属性,或者C中的任何方法或者构造函数中的参数,或者C中方法的返回类型T.L1和L2应该返回相同的Class对象.</li>
<li>如果一个用户自定义加载器预先获取了类或者接口的二进制表示或者加载了一批相关的类.则必须能反映出那些如果没有预先获取类或者接口发生的错误信息.</li>
</ol>
<p>$$&lt;N,L_d&gt;$$,N表示类或者接口的名字,$$L_d$$表示类或者接口的定义类加载器.</p>
<p>$$N^{L_i}$$,N表示类或者接口的名字,$$L_i$$表示类或者接口的初始类加载器.</p>
<h3 id="5-3-1使用启动类加载器加载"><a href="#5-3-1使用启动类加载器加载" class="headerlink" title="5.3.1使用启动类加载器加载"></a>5.3.1使用启动类加载器加载</h3><p>下面的步骤用来描述通过启动类加载器加载并创建用N表示的非数组的类或接口C.</p>
<p>首先java虚拟机确定启动类加载器是否已经记录为N的初始类加载器,如果是则不需要创建类.</p>
<p>否则java虚拟机把参数N传入启动类加载器的一个方法中查找一个平台无关的C的二进制表示.代表性的,一个类或者接口用一个分层的文件系统中的文件表示,类或者接口的名称会被编码成文件的路径名.</p>
<p>没有保证加载的据称二进制表示是合法的或者是C的一种表示. 加载阶段必须能够发现下面的错误:如果没有找到据称为C的二进制式表示,加载时需要抛出ClassNotFoundException.</p>
<h3 id="5-3-2使用用户自定义加载器加载"><a href="#5-3-2使用用户自定义加载器加载" class="headerlink" title="5.3.2使用用户自定义加载器加载"></a>5.3.2使用用户自定义加载器加载</h3><p>下面的步骤用来表示用自定义加载器L加载并创建用N表示的非数组的类或接口C.</p>
<p>首先java虚拟机确定L是不是已经被标记为用N表示的接口或者类的初始类加载器,如果是则类或者接口为C,不需要创建类.</p>
<p>否则java虚拟机调用L.loadClass(N),该方法的返回值为创建的类或者接口C.然后java虚拟机记录L为C的初始类加载器(5.3.4).</p>
<p>当L.loadClass(N)调用时,L必须执行下面两种操作中的一种来加载C:</p>
<ol>
<li><p>类加载器L能创建一个用来表示C的ClassFile结构的字节数组,然后必须调用ClassLoader.defineClass.调用defineClass导致java虚拟机获得一个用N表示的类或者接口(L使用5.3.5中的算法创建的字节节数组.)</p>
</li>
<li><p>L把加载C委托给L2,通过直接或者间接把参数N传送给L2的一个方法(一般为loadClass方法).返回值为C.</p>
</li>
</ol>
<p>在上面的情况中,如果L不能加载用N表示的类或者接口,必须抛出ClassNotFoundException.</p>
<h3 id="5-3-3-创建数组类"><a href="#5-3-3-创建数组类" class="headerlink" title="5.3.3 创建数组类"></a>5.3.3 创建数组类</h3><p>下面的步骤用来表示使用类加载器L创建用N表示的数组类C.</p>
<p>如果L已经被标记为具有和N相同组成类型的数组类的初始类加载器,则返回C,不需要创建数组类.否则使用下面的步骤创建C:</p>
<ol>
<li>如果组成类型是引用类型,则使用5.3中的算法递归使用L加载并创建C的组成类型.</li>
<li>java虚拟机使用组成类型和维数创建一个新的数组类.</li>
</ol>
<p>如果组成类型是引用类型,C被标记为使用其组成类型的定义加载器进行定义(即C的定义类加载器与其组成类型的定义类加载器相同).否则C的定义加载器为启动类加载器.</p>
<p>任何情况下,java虚拟机标记L为C的初始类加载器.</p>
<p>如果组成类型是一个引用类型,则数组类的访问性由组成类型的访问性决定.否则数组类的访问性为public.</p>
<h3 id="5-3-4加载约束"><a href="#5-3-4加载约束" class="headerlink" title="5.3.4加载约束"></a>5.3.4加载约束</h3><p>可能同样的名字在不同的加载器中表示不同的类或者接口.</p>
<p>当一个类或者接口$$C=&lt;N_1,L_1&gt;$$有一个属性或者方法的符号引用指向其他的类或者接口$$D=&lt;N_2,L_2&gt;$$,(包括,字段,或者方法的返回值和参数).则有字段和方法描叙中的任何类型名字N有通过L1或者L2加载必须为同一个类或者接口.</p>
<p>为了保证这样,java虚拟机在准备(5.4.2)和解析(resolution)时引入了加载约束$$N^{L_1} = N^{L_2}$$.为了强制执行这些约束,java虚拟机需要在某些时间(5.3.1,5.3.2,5.3.5)记录某个类加载器是某个类或者接口的初始类加载器.在记录类加载器是一个类的初始类加载器后,java虚拟机必须立即检查是否违反了加载约束,如果违反了则记录被撤回,java虚拟机抛出一个LinkageError,并且导致违反约束的加载会失败.</p>
<p>同样的,在引入一个加载约束时(5.4.2,5.4.3.2,5.4.3.3,5.4.3.4)java虚拟机必须立即检查是否违反了约束.如果是则新引入的加载约束被撤回,java虚拟机抛出一个LinkageError,并且导致新的约束被加入的操作失败.</p>
<p>一个加载约束被违反当且仅当同时满足下面的的四种条件:</p>
<ul>
<li>存在类加载器L,并且L已经被java虚拟机标记为用N表示的类或者接口C的初始类加载器.</li>
<li>存在类加载器L’,并且L’已经被java虚拟机标记为用N表示的类或者接口C’的初始类加载器.</li>
<li>因此会有下面的约束$$N^L=N^{L’}$$</li>
<li>C不等于C’</li>
</ul>
<h3 id="5-3-5从class文件描述获得Class"><a href="#5-3-5从class文件描述获得Class" class="headerlink" title="5.3.5从class文件描述获得Class."></a>5.3.5从class文件描述获得Class.</h3><ol>
<li>首先,java虚拟机确定是否已经记录L是用N表示的类或者接口的初始类加载器,如果是则这次创建是非法的,则会抛出LinkageError.</li>
<li>否则java虚拟机试图解析据称的二进制表示,虽然据称的二进制表示可能实际上不是一个C的合法表示.<br>这个阶段的加载必须能发现下面的错误:</li>
</ol>
<ul>
<li>如果据称的二进制表示不是一个ClassFile结构(4.1,4.8)加载抛出一个ClassFormatError.</li>
<li>否则如果据称的二进制表示不是一个支持的主要或者次要的版本(4.1),加载抛出一个UnsupportedClassVersionError.</li>
<li>否则如果据称的二进制表示不能表示一个名字为N的类,则抛出NoClassDefFoundError或者该类的子类.</li>
</ul>
<ol start="3">
<li>如果C有直接的父类,对其直接父类的符号引用使用5.4.3.1的算法决定,如果C是一个接口,则其直接父类必须为Object,必须在之前已经被加载.只有Object没有直接父类.</li>
</ol>
<p>这个阶段会抛出类或者接口确定时抛出的异常,另外这个加载阶段必须发现下面的错误:</p>
<ul>
<li>如果C的直接父类为接口,加载时抛出IncompatibleClassChangeError.</li>
<li>否则如果C是自己的父类(不管是否为直接父类),加载时抛出ClassCircularityError.</li>
</ul>
<ol start="4">
<li>如果C有直接父接口,对直接父接口的符号引用通过5.4.3.1算法确定.<br>这个阶段会抛出类或者接口确定时抛出的异常,另外这个加载阶段必须发现下面的错误:</li>
</ol>
<ul>
<li>如果声明的直接父类接实际上不是一个接口,加载时抛出IncompatibleClassChangeError.</li>
<li>否则如果C的任意的父接口为C本身,则加载时抛出ClassCircularityError.</li>
</ul>
<ol start="5">
<li>java虚拟机标记C的定义类加载器为L,并且记录L为C的初始类加载器. ??</li>
</ol>
<h2 id="5-4-链接"><a href="#5-4-链接" class="headerlink" title="5.4 链接"></a>5.4 链接</h2><p>类或者接口的链接包括校验和准备类或者接口,直接父类,直接父接口和组成类型(如果是一个数组类型).如果需要可以进行符号解析.</p>
<ul>
<li>在链接前类或者接口必须加载完成.</li>
<li>类或者接口在初始化前必须校验和准备完成.</li>
<li>在链接阶段发现的错误在某些操作直接或者间接需要类或者接口的链接时抛出.</li>
</ul>
<h3 id="5-4-1-校验"><a href="#5-4-1-校验" class="headerlink" title="5.4.1 校验"></a>5.4.1 校验</h3><p>校验保证类或者接口的二进制表示是结构正确的(4.9).校验可能导致其他类或者接口被加载,但是不会导致其他类进行校验和准备.</p>
<p>如果类或者接口的二进制表示不满足4.9中的静态或者结构约束则必须在导致类或者接口校验处抛出VeriryError.</p>
<p>如果在类或者接口的校验失败因为抛出了LinkageError(或者其子类),则类或者接口的校验失败并且抛出同样的错误.</p>
<h3 id="5-4-2准备"><a href="#5-4-2准备" class="headerlink" title="5.4.2准备"></a>5.4.2准备</h3><p>准备阶段包括创建类或者接口的静态字段并且初始化为默认值(2.3,2.4).这不需要执行任何的java虚拟机代码.显示的静态字段初始化是初始化(5.5)的一部分,不是准备阶段的一部分.</p>
<p>在类或者接口C的准备阶段java虚拟机也会强制执行加载约束(5.3.4).如果L1为C的定义类加载器,C中的m重写(5.4.5)了父类或者父接口的方法&lt;D,L2&gt;,java虚拟机强制执行下面的加载约束:</p>
<p>如果m的返回类型为$$T_r$$,参数类型为$$T_{f1},…,T_{fn}$$则有:</p>
<p>如果$$T_r$$不是数组类型则假设$$T_0$$为$$T_r$$,否则假设$$T_0$$为$$T_r$$的组成类型(2.4).<br>同样的从i=1到n,假设$$T_{fi}$$不是数组类型则$$T_i$$为$$T_{fi}$$,否则$$T_i$$为$$T_{fi}$$的组成类型(2.4).<br>则有i从0到n有:$$T_i^{L_1} = T_i^{L_2}$$</p>
<p>而且如果C实现了父接口&lt;I, L3&gt;中的方法m,但是C本身没有申明方法m,假设&lt;D,L2&gt;为实现了该方法的C的父类.java虚拟机强制执行下面的约束:</p>
<p>如果m的返回类型为$$T_r$$,参数类型为$$T_{f1},…,T_{fn}$$则有:</p>
<p>如果$$T_r$$不是数组类型则假设$$T_0$$为$$T_r$$,否则假设$$T_0$$为$$T_r$$的组成类型(2.4).<br>同样的从i=1到n,假设$$T_{fi}$$不是数组类型则$$T_i$$为$$T_{fi}$$,否则$$T_i$$为$$T_{fi}$$的组成类型(2.4).<br>则有i从0到n有:$$T_i^{L_2} = T_i^{L_3}$$</p>
<p>准备阶段可以在创建的任意时刻发生,但是必须在初始化之前完成.</p>
<h3 id="5-4-3解析"><a href="#5-4-3解析" class="headerlink" title="5.4.3解析"></a>5.4.3解析</h3><p>java虚拟机中的anewarray,checkcast,getfield,getstatic,instanceof,invokeddynamic,invokeinterface,invokespecial,invokestatic,<br>invokevirtual,ldc,ldc_w,multianewarray,new,putfield,和putstatic指令有对运行时常量的符号引用,执行上面的指令需要解析符号引用.</p>
<p>解析是动态确定运行时常量中符号引用的过程.</p>
<p>如果符号解析时发生错误则会抛出IncompatibleClassChangeError(或者子类)错误.</p>
<p>如果java虚拟机因为抛出LinkageError(或者子类)导致解析失败,则会抛出同样的错误.</p>
<h4 id="5-4-3-1-类和接口的解析"><a href="#5-4-3-1-类和接口的解析" class="headerlink" title="5.4.3.1 类和接口的解析"></a>5.4.3.1 类和接口的解析</h4><p>解析一个没有解析过的用N表示的D对类或者接口C的一个符号引用的步骤如下:</p>
<ol>
<li>D的定义类加载器用来创建一个用N表示的类或者接口.这个类或者接口为C.详细步骤见5.3类或者接口创建过程可能抛出的异常会被当做列或者接口的解析失败原因抛出.</li>
<li>如果C是一个数组类型并且其组成类型为引用类型,则对其组成类型的符号引用递归使用5.4.3.1的算法进行解析.</li>
<li>最后,检查对C的访问权限.</li>
</ol>
<ul>
<li>如果C对D是不可见的,类或者接口的解析抛出IllegalAccessError.(这种情况可能会发生,例如C原来声明为public,但是在D编译后更改为非public的.)</li>
</ul>
<p>如果步骤1和2成功了,但是步骤3失败则C是合法和可以使用的.尽管如此,解析失败,D被禁止访问C.</p>
<h4 id="5-4-3-2字段解析"><a href="#5-4-3-2字段解析" class="headerlink" title="5.4.3.2字段解析"></a>5.4.3.2字段解析</h4><p>解析一个没有解析过的D中对类或者接口C中一个字段的符号引用,则必须先解析C(5.4.3.1).因此在类或者接口解析时会抛出的异常在字段解析时也会抛出.如果C的引用解析成功,字段的解析失败也会抛出异常.</p>
<p>当解析字段引用时,首先会从C和其父类中查找引用字段:</p>
<ol>
<li>如果C声明了一个字段引用的对应名字和描述的字段则字段查找成.声明的字段即为字段查找的结果.</li>
<li>否则字段查找递归从父接口中查找.</li>
<li>否则如果C有父类S,则递归从父类中查找字段.</li>
<li>否则,字段查找失败.<br>则:</li>
</ol>
<ul>
<li>如果字段查找失败,则字段解析抛出NoSuchFieldError.</li>
<li>否则,如果字段查找成功,但是D没有访问字段的权限,则字段解析抛出IllegalAccessError.</li>
<li>否则,假设&lt;E,L1&gt;为实际声明了引用字段的类,L2为D的定义类加载器.引用字段类型用Tf表示,如果Tf为数组类型则假设T为Tf的组成类型否则假设T为Tf.<br>java虚拟机必须强制下面的约束$$T^{L_1} = T^{L_2}$$5.3.4</li>
</ul>
<h4 id="5-4-3-3方法解析"><a href="#5-4-3-3方法解析" class="headerlink" title="5.4.3.3方法解析"></a>5.4.3.3方法解析</h4>]]></content>
      <tags>
        <tag>JVMS</tag>
      </tags>
  </entry>
  <entry>
    <title>领域驱动设计</title>
    <url>/2015/12/26/2015-12-26-%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/</url>
    <content><![CDATA[<h2 id="让领域模型发挥作用"><a href="#让领域模型发挥作用" class="headerlink" title="让领域模型发挥作用"></a>让领域模型发挥作用</h2><h3 id="前提："><a href="#前提：" class="headerlink" title="前提："></a>前提：</h3><ol>
<li>大多数软件项目中，主要焦点应该是领域与领域逻辑。</li>
<li>复杂的领域设计应该基于模型。</li>
</ol>
<h3 id="开发实践："><a href="#开发实践：" class="headerlink" title="开发实践："></a>开发实践：</h3><ol>
<li>迭代开发。</li>
<li>开发人员与领域专家具有密切的关系。</li>
</ol>
<p>模型是一种知识形式，对知识进行有选择的简化和有目的的结构化，适当的模型可以使人理解信息的意义，并专注于问题相关的信息。（是一个解决信息超载问题的工具）</p>
<h3 id="模型在领域驱动设计中的作用"><a href="#模型在领域驱动设计中的作用" class="headerlink" title="模型在领域驱动设计中的作用"></a>模型在领域驱动设计中的作用</h3><ol>
<li>模型和设计的核心互相影响。</li>
</ol>
<p><em>模型与实现之间的紧密联系才使得模型变得有用，并确保在模型中进行的分析能够转换为最终产品，可以基于对模型的理解来解释代码</em></p>
<ol start="2">
<li>模型是团队所有成员所使用的交流语言的中枢。</li>
</ol>
<p><em>模型与实现之间是紧密结合的，可以将模型作为一种沟通语言与领域专家进行沟通</em></p>
<ol start="3">
<li>模型是浓缩的知识。</li>
</ol>
<p><em>模型是团队一致认同的领域知识组织方式和最重要元素的区分方式，模型体现了思考方式，共同语言使得开发人员与领域专家在将信息组织为模型时更有效的协作</em></p>
<h3 id="软件的核心"><a href="#软件的核心" class="headerlink" title="软件的核心"></a>软件的核心</h3><p><strong>软件的核心是其为用户解决领域相关问题的能力</strong>，其他特性，不管多么重要，都要服务于这个基本目的。</p>
<h2 id="消化知识"><a href="#消化知识" class="headerlink" title="消化知识"></a>消化知识</h2><p>可以通过<strong>对象交互的场景</strong>，进行模型验证，每当有新的功能需求时就在原来的模型上进行验证，如果不能满足则修改原有模型对象，并理解这些模型中新增的知识，在精化模型的过程中，代码也一步步演进。</p>
<h3 id="有效建模的要素"><a href="#有效建模的要素" class="headerlink" title="有效建模的要素"></a>有效建模的要素</h3><ol>
<li>模型与实现的绑定。</li>
</ol>
<p><em>最初的原型虽然简单，但是建立了实现之间的链接，在后续的迭代中一直维护该原型</em></p>
<ol start="2">
<li>获得了一种基于模型的语言。</li>
</ol>
<p><em>通过不断的根据模型进行沟通，研发人员与领域专家慢慢地能够直接使用模型中的术语，并将他们组织为符合模型结构的语句</em></p>
<ol start="3">
<li>开发一个蕴含丰富知识的模型。</li>
</ol>
<p><em>对象具有行为和强制性规则，模型包含各种类型的知识</em></p>
<ol start="4">
<li>提炼模型。</li>
</ol>
<p><em>在模型完善的过程中，重要的概念不断被添加到模型中，同时不再使用或不重要的概念则从模型中删除，当一个不需要的概念与一个需要的概念有关联时，可以把需要的概念提取到一个新模型中，不需要的概念则可以删除</em></p>
<ol start="5">
<li>头脑风暴和实验。</li>
</ol>
<p><em>通过走场景，进行模型的验证，通过头脑风暴的创造力和实验对模型进行提炼，把团队的知识转化为有价值的模型</em></p>
<h3 id="知识消化"><a href="#知识消化" class="headerlink" title="知识消化"></a>知识消化</h3><p>信息的资料来源于领域专家头脑中的知识，来自现有系统的用户，也来自技术团队以前在相关遗留系统或同领域的其他项目中积累的经验。</p>
<p>传统的瀑布方式，知识的流动是单向的，分析员得不到程序员与前期系统上线的反馈。只有领域专家，分析员与程序员将自己的知识输入到模型中，模型的组织才更严密，抽象也更加整洁，为实现提供更大的支持。因为领域专家也参与其中，确保模型是对业务原理的真正抽象。</p>
<h3 id="持续学习"><a href="#持续学习" class="headerlink" title="持续学习"></a>持续学习</h3><p>项目都会丢失知识,已经学到了一些知识的人可能干别的事情去了,团队可能重组了.</p>
<p>高效率的团队需要有意识地积累知识，并持续学习。对开发人员来说既要完善技术知识，也要增强领域建模技巧。（学习从事工作的特定领域知识）</p>
<h3 id="知识丰富的设计"><a href="#知识丰富的设计" class="headerlink" title="知识丰富的设计"></a>知识丰富的设计</h3><p>领域模型和相应的设计可用来保护和共享知识。更加明确的设计具有以下优点：</p>
<ol>
<li>为了实现更明确的设计，程序员与其他相关人员都能理解领域的知识。明白是一个业务规则而不是一个计算问题。</li>
<li>程序员可以向业务专家展示技术工件，甚至代码，但必须是领域专家可以理解的，以便形成反馈。</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">makeBooking</span><span class="params">(Cargo cargo, Voyage voyage)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> maxBooking = voyage.capacity() * <span class="number">1.1</span>;</span><br><span class="line">    <span class="keyword">if</span> ((voyage.bookedCargoSize() + cargo.size()) &gt; maxBooking) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> confirmation = orderConfirmationSequence.next();</span><br><span class="line">    voyage.addCargo(cargo, confirmation);</span><br><span class="line">    <span class="keyword">return</span> confirmation;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>例如上面的超订问题,应该把业务规则移到领域建模中,而不是通过一句代码把业务规则隐藏掉了.</p>
</blockquote>
<h3 id="深层模型"><a href="#深层模型" class="headerlink" title="深层模型"></a>深层模型</h3><p>随着对领域和应用程序需求的理解逐步加深，往往会丢弃最初看起来很重要的表面元素，一开始不可能发现的巧妙抽象就会渐渐浮出水面。</p>
<h2 id="语言的交流和使用"><a href="#语言的交流和使用" class="headerlink" title="语言的交流和使用"></a>语言的交流和使用</h2><p>领域模型是软件项目的公共语言的核心，模型是人们头脑中形成的与项目有关的概念集合。提供了模型语言的语义，且十分精确，以便支持开发。将模型与开发活动结合在一起，使模型与代码紧密绑定。</p>
<p>翻译使得沟通不畅，并导致知识消化变得困难。</p>
<p>通用语言的词汇表包括类名称和主要操作，团队一致应用于领域模型的模式名称来使这种语言更为丰富。</p>
<p>一个团队，一种语言。</p>
<p>领域专家能够更深入地思考他们所从事的领域，如果经验丰富的领域专家都不能理解模型，则模型一定是有问题的。</p>
<p>开发人员通过和领域专家一步一步地使用模型对象来走查场景，从而对模型进行非正式的测试。通过这个过程，可以互相加深理解，并对概念进行精化。</p>
<h2 id="绑定模型和实现"><a href="#绑定模型和实现" class="headerlink" title="绑定模型和实现"></a>绑定模型和实现</h2><h3 id="模式"><a href="#模式" class="headerlink" title="模式"></a>模式</h3><p>严格按照基础模型来编写代码，能够使代码更好地表达设计含义，并且使模型更符合设计。</p>
<p>模型驱动设计不再将分析模型与程序设计分离，而是寻求一种能够满足这两方面需求的单一模型。</p>
<p>从模型中获取用于程序设计和基本任务分配的术语，程序代码就是模型的表达，修改代码就是改变模型，而模型的改变势必会影响到接下来相应的项目活动。</p>
<h2 id="模型驱动设计的构造块"><a href="#模型驱动设计的构造块" class="headerlink" title="模型驱动设计的构造块"></a>模型驱动设计的构造块</h2><h3 id="分离领域"><a href="#分离领域" class="headerlink" title="分离领域"></a>分离领域</h3><p>在软件中，专门用于解决领域问题的那部分通常只占整个软件系统的很小一部分，与其重要性不成比例。需要将领域对象与系统中的其他功能分离，避免将领域概念和其他只与软件技术相关的概念相混淆，也不会把领域与整个软件系统混为一谈。</p>
<h4 id="模式-分层架构"><a href="#模式-分层架构" class="headerlink" title="模式:分层架构"></a>模式:分层架构</h4><p>如果领域有关的代码分散在大量的其他代码中，则查看和分析领域代码就会变得相当困难。（用户界面的修改有可能改变业务逻辑，调整业务也可能要修改界面）</p>
<p>要想创建能够处理复杂任务的程序，需要把不同的关注点分开考虑，</p>
<p>给复杂的应用程序划分层次。在每一层内分别进行设计，使其具有内聚性并且只依赖于它的下层。采用标准的架构模式，只与上层进行松散连接。将与领域模型相关的代码放在一个层中，领域对象应该将重点放在如何表达领域模型上，而不要考虑显示和存储等问题。</p>
<h4 id="模型属于领域层"><a href="#模型属于领域层" class="headerlink" title="模型属于领域层"></a>模型属于领域层</h4><p>领域层是领域模型以及所有与其直接相关的设计元素的表现。由业务逻辑的设计和实现组成。如果领域逻辑与程序中的其他关注点混在一起，就不能实现这种一致性，将领域实现独立出来是领域驱动设计的前提。</p>
<h4 id="模式-智能用户界面"><a href="#模式-智能用户界面" class="headerlink" title="模式:智能用户界面"></a>模式:智能用户界面</h4><p>在用户界面中实现所有的业务逻辑。（领域驱动设计只有在大型项目中才能产生最大的收益，并且项目团队能掌握那些技巧）</p>
<p>SMART UI模式的优点：</p>
<ul>
<li>效率高，短时间内实现<em>简单</em>的应用程序。</li>
<li>对开发人员的要求较低。</li>
<li>可以克服分析上的不足，把原型发布给用户，根据用户反馈快速修改产品即可。</li>
<li>程序之间彼此独立，可以相对准确地安排小模块交付的日期。扩展简单功能也很容易。</li>
<li>很顺利地使用关系数据库。</li>
</ul>
<p>缺点：</p>
<ul>
<li>不通过数据库很难集成应用模块。</li>
<li>没有对行为的重用，也没对业务问题的抽象。</li>
<li>复杂的功能很快会让你无所适从。</li>
</ul>
<h3 id="软件中所表示的模型"><a href="#软件中所表示的模型" class="headerlink" title="软件中所表示的模型"></a>软件中所表示的模型</h3><h4 id="关联"><a href="#关联" class="headerlink" title="关联"></a>关联</h4><p>对象之间的关联使得建模与实现之间的交互更为复杂。</p>
<p>有三种方式可以使得关联更易于控制。</p>
<ol>
<li>规定一个遍历方向。</li>
<li>添加限定符，以便有效地减少多重关联。</li>
<li>消除不必要的关联。</li>
</ol>
<p>简化和约束模型的关联是通往MODEL-DRIVEN-DESIGN的必经之路。仔细区分对象可以使得模型更加清晰，并得到更实用的实现。</p>
<h4 id="模式-ENTITY-REFERENCE-OBJECT"><a href="#模式-ENTITY-REFERENCE-OBJECT" class="headerlink" title="模式:ENTITY(REFERENCE OBJECT)"></a>模式:ENTITY(REFERENCE OBJECT)</h4><p>很多对象不是通过他们的属性定义的，而是通过一连串的连续事件和标识定义的。</p>
<p>主要由标识定义的对象成为ENTITY（实体），有特殊的建模和设计思路。它们具有生命周期，这期间它们的形式和内容可能发生根本改变，但是其标识保持不变。</p>
<p>只要满足两个条件就可以为ENTITY。</p>
<ol>
<li>在整个生命周期中具有连续性。</li>
<li>对用户来说非常重要的不同状态不是由属性决定的。</li>
</ol>
<h5 id="ENTITY建模"><a href="#ENTITY建模" class="headerlink" title="ENTITY建模"></a>ENTITY建模</h5><p>ENTITY的最基本职责是确保联系性，以便使其行为更清楚且可预测。不需要将注意力集中在属性或行为上，而应该抓住ENTITY对象定义的最基本特征，尤其是那些用于识别，查找或匹配对象的特征。</p>
<h5 id="设计标识操作"><a href="#设计标识操作" class="headerlink" title="设计标识操作"></a>设计标识操作</h5><p>每个ENTITY都必须有一种建立标识的操作方式，以便与其他对象区分开，即使这些对象与它具有相同的描述属性。（类似数据库中的key）不管系统如何定义，都必须确保标识属性在系统中是唯一的。</p>
<h4 id="模式：VALUE-OBJECT"><a href="#模式：VALUE-OBJECT" class="headerlink" title="模式：VALUE OBJECT"></a>模式：VALUE OBJECT</h4><p>用于描述领域的某个方面而本身没有标识的对象称为VALUE OBJECT（值对象）。VALUE OBJECT被实例化之后用来表示一些设计元素，只关心这些元素是什么，而不关心它们是谁。</p>
<p>当我们只关心一个模型元素的属性时，应该把它归类为VALUE OBJECT。应该使这个模型元素能够表示出其属性的意义，并为它提供相关功能。VALUE OBJECT应该是不可变的，不要给它分配任何标识，也不要把它设计成ENTITY那么复杂。</p>
<h5 id="设计VALUE-OBJECT"><a href="#设计VALUE-OBJECT" class="headerlink" title="设计VALUE OBJECT"></a>设计VALUE OBJECT</h5><p>我们并不关心使用的是VALUE OBJECT的哪个实例。在设计VALUE OBJECT时有多种选择，包括复制，共享或保持VALUE OBJECT不变。为了安全地共享一个对象，必须确保共享对象是不变的，否则会影响所有对其有引用的对象的属性。(可以通过传递不变对象或者对象的一个副本进行解决)。</p>
<p>复制和共享哪个更划算取决于实现环境，复制可能导致系统被大量的对象阻塞，但共享可能会减慢分布式系统的速度。<br>下面的情况最好使用共享，可以发挥共享的最大价值并最大限度地减少麻烦：</p>
<ul>
<li>当节省数据库空间或者减少对象数量是一个关键要求时。（内存有限的情况下）</li>
<li>当通信开销很低时。（例如在中央服务器中）</li>
<li>当共享的对象被严格限定为不可变时。</li>
</ul>
<h5 id="设计包含VALUE-OBJECT的关联"><a href="#设计包含VALUE-OBJECT的关联" class="headerlink" title="设计包含VALUE OBJECT的关联"></a>设计包含VALUE OBJECT的关联</h5><p>模型中的关联越少越好，越简单越好。应该完全清除VALUE OBJECT之间的双向关联，如果模型中确实需要这种关联，应该重新考虑下将对象声明为VALUE OBJECT这个决定是否正确。</p>
<h4 id="模式：SERVICE"><a href="#模式：SERVICE" class="headerlink" title="模式：SERVICE"></a>模式：SERVICE</h4><p>在某些情况下，最实用的设计会包含一些特殊的操作，这些操作从概念上讲不属于任何对象，会在模型中引入一种新的元素，这就是SERVICE（服务）。</p>
<p>SERVICE是作为接口提供的一种操作，它在模型中是独立的，不像ENTITY和VALUE OBJECT那样具有封装的状态。它强调的是与其他对象的关系与ENTITY与VALUE OBJECT不同，只是定义了能够为客户做什么。SERVICE是以一个活动命名，而不是以一个ENTITY命名，是一个动词而非名词。其参数与结果应该是领域对象。</p>
<p>好的SERVICE有以下3个特征：</p>
<ol>
<li>与领域概念相关的操作不是ENTITY或VALUE OBJECT的一个自然部分。</li>
<li>接口是根据领域模型的其他元素定义的。</li>
<li>操作是无状态的。（指任何客户都可以使用某个SERVICE的任何实例，不必关系该实例的历史状态）</li>
</ol>
<p>当领域中的某个重要的过程或者转换操作不属于实体或者值对象的自然职责时，应该在模型中添加一个作为独立接口的操作，并将其声明为SERVICE。定义接口时要使用模型语言，此外应该将SERVICE定义为无状态的。</p>
<h5 id="SERVICE与孤立的领域层"><a href="#SERVICE与孤立的领域层" class="headerlink" title="SERVICE与孤立的领域层"></a>SERVICE与孤立的领域层</h5><p>SERVICE并不止在领域层中使用，需要区分属于领域层的SERVICE和那些属于其他层的SERVICE，并划分责任，以便将它们明确地区分开。</p>
<p>文献中对SERVICE的讨论大多是单纯从技术角度讨论，属于基础设施层。领域层和应用层的SERVICE与这些基础设施层SERVICE进行协作。例如封装了电子邮件系统的接口，就是基础设施层中的一个SERVICE。</p>
<p>应用层SERVICE和领域层SERVICE可能很难区分。应用层负责安排一个通知，而领域层负责确定是否满足临界值，将SERVICE划分到各个曾中：</p>
<ul>
<li>应用层：资金转账应用服务<ul>
<li>获取输入</li>
<li>发送消息给领域层服务，要求其执行</li>
<li>监听确认消息</li>
<li>决定使用基础设施SERVICE来发送通知</li>
</ul>
</li>
<li>领域层：资金转账领域服务<ul>
<li>与必要的账户和总账对象进行交互，执行相应的借入和贷出操作</li>
<li>提供结果的确认（允许转账或拒绝转账等）</li>
</ul>
</li>
<li>基础设施层：发送通知服务<ul>
<li>按照应用程序的指示发送电子邮件，信件和其他信息</li>
</ul>
</li>
</ul>
<h4 id="模式：MODULE（PACKAGE"><a href="#模式：MODULE（PACKAGE" class="headerlink" title="模式：MODULE（PACKAGE)"></a>模式：MODULE（PACKAGE)</h4><p>MODULE为人们提供两种观察模型的方式，一是可以在MODULE中查看细节，而不会被整个模型淹没，二是观察MODULE之间的关系，而不考虑其内部细节。领域层中的MODULE是模型中有意义的部分，从更大的角度描述了领域。</p>
<p>MODULE之间应该是低耦合的，而在MODULE的内部则是高内聚的。MODULE不仅仅是代码的划分，而且也是概念的划分，一个人一次考虑的事情是有限的（因此才需要低耦合），不连贯的思想和一锅粥似的思维同样难于理解（因此才需要高内聚）。</p>
<p>如果模型讲述了一个故事，那么MODULE就是整个故事中的各个章节。模块的名称表达了其意义。</p>
<h5 id="敏捷的MODULE"><a href="#敏捷的MODULE" class="headerlink" title="敏捷的MODULE"></a>敏捷的MODULE</h5><p>MODULE需要与模型的其他部分一同演变。更改MODULE可能需要大范围地更新代码，因此MODULE结构和名称往往反映了模型的较早形式，而类则不是这样的。</p>
<h5 id="基础设施驱动的打包存在隐患"><a href="#基础设施驱动的打包存在隐患" class="headerlink" title="基础设施驱动的打包存在隐患"></a>基础设施驱动的打包存在隐患</h5><p>除非真正有必要将代码分布到不同的服务器上，否则就把实现单一概念对象的所有代码放在同一个模块中（如果不能放在同一个对象中的话）实现业务逻辑的对象与负责数据库访问的对象之间的联系非常广泛，因此他们之间的耦合度很高。</p>
<h3 id="建模范式"><a href="#建模范式" class="headerlink" title="建模范式"></a>建模范式</h3><p>主流的范式是面向对象设计</p>
<h4 id="在混合范式中坚持使用MODEL-DRIVEN-DESIGN"><a href="#在混合范式中坚持使用MODEL-DRIVEN-DESIGN" class="headerlink" title="在混合范式中坚持使用MODEL-DRIVEN DESIGN"></a>在混合范式中坚持使用MODEL-DRIVEN DESIGN</h4><p>在面向对象的应用中，有时会混合使用一些其他技术，例如规则引擎。当将非对象元素混合到以面向对象为主的系统中时，需要遵循以下4条经验规则</p>
<ol>
<li>不要和实现规范对抗。</li>
<li>把通用语言作为依靠的基础。</li>
<li>不要一味依赖UML。</li>
<li>保持怀疑态度。</li>
</ol>
<h2 id="领域对象的生命周期"><a href="#领域对象的生命周期" class="headerlink" title="领域对象的生命周期"></a>领域对象的生命周期</h2><p>使用FACTORY（工厂）来创建和重建复杂对象，并使用AGGREGATE来封装它们的内部结构。最后在生命周期的中间和末尾使用REPOSITORy（存储库）来提供查找和检索持久对象并封装庞大基础设施的手段。</p>
<h3 id="模式：AGGREGATE"><a href="#模式：AGGREGATE" class="headerlink" title="模式：AGGREGATE"></a>模式：AGGREGATE</h3><p>将关联减至最少的设计有助于简化对象之间的遍历，并在某种程度上限制关系的急剧增多。但大多数业务领域中的对象都具有十分复杂的联系，以至于最终形成一个很长很深的对象引用路径，在某种程度上，这种混乱状态反映了现实世界，因为现实世界中就很少有清晰的边界。</p>
<p>AGGREGATE划分出一个范围，在这个范围内，生命周期的每个阶段都必须满足一些固定规则。</p>
<h3 id="模式：FACTORY"><a href="#模式：FACTORY" class="headerlink" title="模式：FACTORY"></a>模式：FACTORY</h3><p>当创建一个对象或创建整个AGGREGATE时，如果创建工作很复杂，或者暴露了过多的内部结构，可以使用FACTORY进行封装。</p>
<p>对象的创建本身可以是一个主要操作，但被创建的对象并不适合承担复杂的装配操作。将这些职责混合在一起可能导致出现难以理解的设计。复杂的对象创建是领域层的职责，然而这项任务并不属于那些用于表示模型的对象。FACTORY应该封装创建一个复杂对象或AGGREGATE所属的知识，它提供一个反映客户目标的接口，以及一个被创建对象的抽象视图。</p>
<p>应该将创建复杂对象的实例和聚合的职责转移给一个单独的对象，这个对象本身在领域模型中可能没有职责，但它仍是领域设计的一部分。提供一个封装所有复杂装配操作的接口，并且不需要客户引用要被实例化的对象的具体类 。在创建AGGREGATE时要把它作为一个整体，并确保它满足固定规则。</p>
<p>FACTORY有很多中设计方法：FACTORY METHOD（工厂方法），ABSTRACT FACTORY（抽象工厂）和BUILDER（构建器）。任何好的工厂都需要满足以下两个基本需求。</p>
<ol>
<li>每个创建方法都是原子方法，而且满足被创建对象或AGGREGSTE的所有固定规则。</li>
<li>FACTORY应该被抽象为所需的类型，而不是创建出具体的类。</li>
</ol>
<h4 id="选择FACTORY及其应用位置"><a href="#选择FACTORY及其应用位置" class="headerlink" title="选择FACTORY及其应用位置"></a>选择FACTORY及其应用位置</h4><p>FACTORY的作用是使创建出的对象将细节隐藏起来，因此我们把FACTORY用在那些需要隐藏细节的地方。通常与AGGREGATE有关。</p>
<p>当有些细节需要隐藏（无论要隐藏的是具体实现还是构造的复杂性）而又找不到一个自然的地方来隐藏它们时，必须创建一个专用的FACTORY对象或SERVICE。整个AGGREGATE通常由一个独立的FACTORY来创建，FACTORY负责把对根的引用传递出去，并确保创建出的AGGREGATE满足固定规则。</p>
<h4 id="有些时候只需要使用构造函数"><a href="#有些时候只需要使用构造函数" class="headerlink" title="有些时候只需要使用构造函数"></a>有些时候只需要使用构造函数</h4><p>在以下情况下最好使用简单的，公共的构造函数：</p>
<ul>
<li>类是一种类型。不是任何相关层次结构的一部分，而且没有通过接口实现多态。</li>
<li>客户关心的是实现，可能是将其作为选择STRATEGY的一种方式。</li>
<li>客户可以访问对象的所有属性。</li>
<li>构造并不复杂。</li>
<li>公共构造函数必须遵守与FACTORY相同的规则：必须是一个原子操作，并且满足被创建对象的所有固定规则。</li>
</ul>
<h4 id="接口的设计"><a href="#接口的设计" class="headerlink" title="接口的设计"></a>接口的设计</h4><p>当设计FACTORY的方法签名时需要注意下面的两点：</p>
<ol>
<li>每个操作都必须是原子的。</li>
<li>FACTORY将与其参数发生耦合。</li>
</ol>
<blockquote>
<p>使用抽象类型的参数，而不是它们的具体类，降低耦合。</p>
</blockquote>
<h4 id="固定规则的逻辑应放置在哪里"><a href="#固定规则的逻辑应放置在哪里" class="headerlink" title="固定规则的逻辑应放置在哪里"></a>固定规则的逻辑应放置在哪里</h4><p>FACTORY负责确保它所创建的对象或AGGREGATE满足所有固定规则，然而在把应用于一个对象的规则移到该对象外部之前应该三思，FACTORY可以将固定规则检查工作委派给产品，这通常是最佳选择。</p>
<h4 id="ENTITY-FACTORY与VALUE-OBJECT-FACTORY"><a href="#ENTITY-FACTORY与VALUE-OBJECT-FACTORY" class="headerlink" title="ENTITY FACTORY与VALUE OBJECT FACTORY"></a>ENTITY FACTORY与VALUE OBJECT FACTORY</h4><p>VALUE OBJECT 是不可变的，所以完成产品就是最终形式，因此FACTORY必须提供产品的完整描述。而ENTITY FACTORY则只需具有构造有效AGGREGATE所需的那些属性。</p>
<h4 id="重建已存储的对象"><a href="#重建已存储的对象" class="headerlink" title="重建已存储的对象"></a>重建已存储的对象</h4><p>重建对象的factory与创建对象的factory很类似，主要有以下两个不同点：</p>
<ol>
<li>用于重建对象的factory不分配新的id，如果重新分配id将与先前的对象id发生冲突。因此id必须是输入参数的一部分。</li>
<li>当规定规则未被满足时，重建对象的factory采用不同的处理方式。如果创建新对象时未满足可以简单地拒绝创建对象，但是如果为重建，则需要有更灵活的处理，需要通过一些策略来修复这种不一致的情况（例如对象存在数据库中）。</li>
</ol>
<h3 id="模式：REPOSITORY"><a href="#模式：REPOSITORY" class="headerlink" title="模式：REPOSITORY"></a>模式：REPOSITORY</h3><ul>
<li>为客户提供一个简单的模型，可用来获取持久对象并管理它们的生命周期。</li>
<li>使应用程序和领域设计与持久化技术解耦。</li>
<li>体现了有关对象访问的设计决策。</li>
<li>很容易替换为哑实现，在测试中使用。</li>
</ul>
<h4 id="REPOSITORY的查询"><a href="#REPOSITORY的查询" class="headerlink" title="REPOSITORY的查询"></a>REPOSITORY的查询</h4><p>可以构建硬编码式的查询，因为即使它们不做这些事，一些客户也必须要做。在一些需要执行大量查询的项目上，可以构建一个支持更灵活的查询的REPOSITORY框架，例如基于SPECIFICATION的查询特别适合作为一个框架来使用。</p>
<h4 id="客户代码可以忽略REPOSITORY的实现，但开发人员不能忽略"><a href="#客户代码可以忽略REPOSITORY的实现，但开发人员不能忽略" class="headerlink" title="客户代码可以忽略REPOSITORY的实现，但开发人员不能忽略"></a>客户代码可以忽略REPOSITORY的实现，但开发人员不能忽略</h4><p>持久化技术的封装可以使得客户变得十分简单，并且使客户与REPOSITORY的实现之间完全解耦，但像一般的封装一样，开发人员必须知道在封装背后的内涵。在使用REPOSITORY时，不同的使用方式或工作方式可能会对性能产生极大的影响。</p>
<h4 id="REPOSITORY的实现"><a href="#REPOSITORY的实现" class="headerlink" title="REPOSITORY的实现"></a>REPOSITORY的实现</h4><ul>
<li>对类型进行抽象</li>
<li>充分利用repository与客户解耦的优点(方便测试)</li>
<li>将事务控制权留给客户</li>
</ul>
<h4 id="REPOSITORY与FACTORY的关系"><a href="#REPOSITORY与FACTORY的关系" class="headerlink" title="REPOSITORY与FACTORY的关系"></a>REPOSITORY与FACTORY的关系</h4><p>FACTORY负责处理对象生命周期的开始,而REPOSITORY帮助管理生命周期的中间和结束.</p>
<p>FACTORY负责创建新的对象,而REPOSITORY负责查找已经存在的对象.</p>
<h2 id="突破"><a href="#突破" class="headerlink" title="突破"></a>突破</h2><h3 id="机遇"><a href="#机遇" class="headerlink" title="机遇"></a>机遇</h3><blockquote>
<p>与大部分重构相比,突破的回报更多,风险也更高,并且突破出现的时机可能很不合时宜.<br>过渡到深层模型需要从根本上调整思路,并且对设计做大幅修改</p>
</blockquote>
<h3 id="关注根本"><a href="#关注根本" class="headerlink" title="关注根本"></a>关注根本</h3><p>Wjainng@321</p>
]]></content>
      <categories>
        <category>DDD</category>
      </categories>
  </entry>
  <entry>
    <title>现代操作系统笔记-2进程与线程</title>
    <url>/2019/03/17/2019-03-17-%E7%8E%B0%E4%BB%A3%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AC%94%E8%AE%B0-2%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B/</url>
    <content><![CDATA[<h1 id="进程与线程"><a href="#进程与线程" class="headerlink" title="进程与线程"></a>进程与线程</h1><p>操作系统中最核心的概念是<strong>进程</strong>:是对正在运行程序的一个抽象。</p>
<h2 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h2><h3 id="进程模型"><a href="#进程模型" class="headerlink" title="进程模型"></a>进程模型</h3><blockquote>
<p>计算机上所有可运行的软件，包括操作系统，被组织成若干<strong>顺序进程</strong>，简称<strong>进程</strong>。一个进程就是一个正在执行程序的实例，包括程序计数器，寄存器和变量的当前值。</p>
</blockquote>
<p>一个进程是某种类型的一个活动，包括程序、输入、输出以及状态。</p>
<h3 id="进程的创建"><a href="#进程的创建" class="headerlink" title="进程的创建"></a>进程的创建</h3><ul>
<li>系统初始化</li>
<li>正在运行的程序执行了创建进程的系统调用</li>
<li>用户请求创建一个新的进程</li>
<li>一个批处理作业的初始化</li>
</ul>
<blockquote>
<p>UNIX中子进程的初始地址空间是父进程的一个副本，其中不可写的内存区是共享的，可写的内存不共享。或者共享所有内存通过写时复制的方式确保想修改发生在私有内存区域。</p>
</blockquote>
<h3 id="进程的终止"><a href="#进程的终止" class="headerlink" title="进程的终止"></a>进程的终止</h3><ul>
<li>正常退出(自愿的)</li>
<li>出错退出(自愿的)例如程序中的错误</li>
<li>严重错误(非自愿)</li>
<li>被其他进程杀死(非自愿)</li>
</ul>
<h3 id="进程的状态"><a href="#进程的状态" class="headerlink" title="进程的状态"></a>进程的状态</h3><ul>
<li>运行态(该进程实际占用CPU)</li>
<li>就绪态(可运行,但是没有CPU资源而暂时停止)</li>
<li>阻塞态(除非某种外部事件发生,否则进程不能运行)</li>
</ul>
<p><img src="/images/os-process-status.svg"></p>
<p><small>上图中的1和2由调度程序引起，当操作系统发现程序不能继续运行下去例如等待I/O等时会发生转换3，当进程等待的外部事件发生时例如I/O完成则发生转换4</small></p>
<h3 id="进程的实现"><a href="#进程的实现" class="headerlink" title="进程的实现"></a>进程的实现</h3><p>操作系统维护着一张表格（一个结构数组），即<strong>进程表</strong>。每个进程占用一个进程表项（也称为进程控制块）。包括程序计数器、堆栈指针、内存分配情况、所打开文件的状态、账号和调度信息、以及状态转换时必须保存的信息，<strong>保证进程随后能再次启动，像从未被中断过一样</strong>。</p>
<p>典型进程表项中的一些字段：</p>
<ul>
<li>进程管理：寄存器、程序计数器、程序状态字、堆栈指针、进程状态、优先级、调度参数、进程ID、父进程、进程组、信号、进程开始时间、使用CPU时间、子进程的CPU时间、下次定时器时间</li>
<li>存储管理：正文段指针、数据段指针、堆栈段指针</li>
<li>文件管理：根目录、工作目录、文件描述符、用户ID、组ID</li>
</ul>
<p>与I/O类关联的是一个称作<strong>中断向量</strong>（interrupt vector）的位置（内存底部的固定区域），包含中断服务程序的入口。</p>
<h3 id="多道程序设计模型"><a href="#多道程序设计模型" class="headerlink" title="多道程序设计模型"></a>多道程序设计模型</h3><p>当内存中有n个进程，如果进程在等待I/O操作的时候和停留在内存中的比为p则n个进程都在等待I/O的概率为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.439ex" xmlns="http://www.w3.org/2000/svg" width="2.211ex" height="1.967ex" role="img" focusable="false" viewBox="0 -675.5 977.3 869.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></g><g data-mml-node="mi" transform="translate(503, 363) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></svg></mjx-container>则：<br><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -0.452ex" xmlns="http://www.w3.org/2000/svg" width="20.387ex" height="2.149ex" role="img" focusable="false" viewBox="0 -750 9011.3 950"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g><g data-mml-node="mi" transform="translate(760, 0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mi" transform="translate(1511, 0)"><path data-c="1D448" d="M107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637Z"></path></g><g data-mml-node="mo" transform="translate(2555.8, 0)"><text data-variant="normal" transform="matrix(1 0 0 -1 0 0)" font-size="884px" font-family="serif">利</text><text data-variant="normal" transform="translate(900, 0) matrix(1 0 0 -1 0 0)" font-size="884px" font-family="serif">用</text><text data-variant="normal" transform="translate(1800, 0) matrix(1 0 0 -1 0 0)" font-size="884px" font-family="serif">率</text><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" transform="translate(2700, 0)"></path></g><g data-mml-node="mn" transform="translate(6311.6, 0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(7033.8, 0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="msup" transform="translate(8034, 0)"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></g><g data-mml-node="mi" transform="translate(503, 413) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></svg></mjx-container></p>
<h2 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h2><p>传统操作系统中，每个进程有一个地址空间和一个控制线程。经常存在同一个地址空间中准并行运行多个控制线程的情形，这些线程像分离的进程（共享地址空间除外）。</p>
<h3 id="线程的使用"><a href="#线程的使用" class="headerlink" title="线程的使用"></a>线程的使用</h3><p>需要多线程的原因是，在许多应用中同时发生多种活动，其中某些活动随着时间的推移会被阻塞，将这些应用程序分解成可以并行运行的多个顺序线程，程序设计模型会变得更简单。</p>
<p>线程比进程更轻量级，更容易创建和撤销。许多系统中创建线程比创建进程要快10到100倍。</p>
<p>如果同一个应用程序存在大量的计算和大量的I/O处理，拥有多个线程允许这些活动彼此重叠进行，从而加快应用程序执行的速度。（<em>如果多个线程都是CPU密集型的，则并不能获得性能的增强</em>）</p>
<p>书中以一种组织web服务器的方式为例，在允许多线程的情况下，一个<em>分派程序</em>（dispatcher）的线程负责从网络中读入工作请求，检查请求后，分派线程调用一个空转的（被阻塞的）<em>工作线程</em>（worker thread），提交请求。分派线程唤醒工作线程，从阻塞状态转换为就绪状态。</p>
<table>
<thead>
<tr>
<th>模型</th>
<th>特性</th>
</tr>
</thead>
<tbody><tr>
<td>多线程</td>
<td>并行性、阻塞系统调用</td>
</tr>
<tr>
<td>单线程进程</td>
<td>无并行性、阻塞系统调用</td>
</tr>
<tr>
<td>有限状态机</td>
<td>并行性、非阻塞系统调用、中断</td>
</tr>
</tbody></table>
<h3 id="经典的线程模型"><a href="#经典的线程模型" class="headerlink" title="经典的线程模型"></a>经典的线程模型</h3><p>进程模型基于两种独立的概念：<em>资源分组处理与执行</em>。将这两种概念分开就引入了“线程”这个概念。进程用于把资源集中到一起而线程则是在CPU上被调度执行的实体。</p>
<p>线程之间没有保护的原因：</p>
<ul>
<li>不可能</li>
<li>没有必要</li>
</ul>
<blockquote>
<p>因为线程之间是共享地址空间的，另外一个进程由某个用户所拥有，创建多个线程是为了它们之间的合作而不是彼此之间的争斗。</p>
</blockquote>
<table>
<thead>
<tr>
<th>每个进程中的内容</th>
<th>每个线程中的内容</th>
</tr>
</thead>
<tbody><tr>
<td>地址空间</td>
<td>程序计数器</td>
</tr>
<tr>
<td>全局变量</td>
<td>寄存器</td>
</tr>
<tr>
<td>打开文件</td>
<td>堆栈</td>
</tr>
<tr>
<td>子进程</td>
<td>状态</td>
</tr>
<tr>
<td>定时器</td>
<td></td>
</tr>
<tr>
<td>信号和信号处理程序</td>
<td></td>
</tr>
<tr>
<td>账户信息</td>
<td></td>
</tr>
</tbody></table>
<h3 id="POSIX线程"><a href="#POSIX线程" class="headerlink" title="POSIX线程"></a>POSIX线程</h3><p>为实现可移植的线程程序，IEEE定义了线程的标准。它定义的线程包叫做pthread，大部分UNIX系统都支持该标准。</p>
<p>每一个线程都有一个标志符、一组寄存器（包括程序计数器）和一组存储在结构中的属性。（堆栈大小、调度参数等）</p>
<p>一些pthread的函数调用</p>
<table>
<thead>
<tr>
<th>线程调用</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>pthread_create</td>
<td>创建一个新线程</td>
</tr>
<tr>
<td>pthread_exit</td>
<td>结束调用的线程</td>
</tr>
<tr>
<td>pthread_join</td>
<td>等待一个特定的线程退出</td>
</tr>
<tr>
<td>pthread_yield</td>
<td>释放CPU来运行另外一个线程</td>
</tr>
<tr>
<td>pthread_attr_init</td>
<td>创建并初始化一个线程的属性结构</td>
</tr>
<tr>
<td>pthread_attr_destroy</td>
<td>删除一个线程的属性结构</td>
</tr>
</tbody></table>
<h3 id="在用户空间实现线程"><a href="#在用户空间实现线程" class="headerlink" title="在用户空间实现线程"></a>在用户空间实现线程</h3><p>把整个线程包放在用户空间中，内核对线程包一无所知，从内核的角度考虑，就是按正常的方式管理，即单线程进程。线程在一个运行时系统的上层运行，运行时系统是一个管理线程的过程的集合。并且每个进程要有专用的线程表，用来跟踪该进程中的线程，与进程表类似，线程表用来记录各个线程的属性。线程表由运行时系统管理，当一个线程转换到就绪或者阻塞状态时，在该线程表中存放重新启动该线程所需的信息，与内核在进程表中存放进程的信息完全一样。</p>
<p>优点：</p>
<ul>
<li>可以在不支持线程的操作系统上实现多线程。</li>
<li>线程切换比陷入内核进行切换快一个数量级。（不需要陷入内核，不需要上下文切换，也不需要对内存高速缓存进行刷新）</li>
<li>允许每个进程有自己定制的调度算法。</li>
<li>更好的扩展性。（内核空间中内核线程需要一些固定表格空间和堆栈空间，如果内核线程数量非常大，可能出现问题）</li>
</ul>
<p>缺点：</p>
<ul>
<li>难实现阻塞系统调用。（要避免被阻塞的线程影响其他线程，但是内核并不知道这一一切,例如缺页中断会导致整个进程阻塞）</li>
<li>没有时钟中断，不可能用轮转调度的方式调度线程，如果一次线程一开始运行除非主动放弃CPU，否则其他线程就不能运行。</li>
</ul>
<blockquote>
<p>系统调用可以全部改成非阻塞的，但是需要操作系统的支持。例如对键盘的read操作可以只返回0字节而不是阻塞。还有就是如果某个调用会阻塞则提前通知，例如可以通过调用select判断read是否会阻塞，这样可以在read之前先通过select进行判断，类似NIO。<br>线程永久运行的一个可能方案是让运行时系统请求每秒一次的时钟信号（中断）。</p>
</blockquote>
<h3 id="在内核中实现线程"><a href="#在内核中实现线程" class="headerlink" title="在内核中实现线程"></a>在内核中实现线程</h3><p>此时不需要运行时系统，每个进程中也没有线程表，相反在内核中有用来记录系统中所有线程的线程表。通过一个系统调用对线程表的更新完成线程的创建或撤销工作。</p>
<p>所有能够阻塞线程的调用都以系统调用的形式实现，当一个线程阻塞时，内核根据其选择，可以运行同一个进程中的另一个线程或者运行另一个进程中的线程。（用户级线程中，运行时系统时钟运行自己进程中的线程）</p>
<p>问题：</p>
<ul>
<li>多线程创建新的进程时，新进程是拥有与原进程相同数量的线程，还是只有一个线程？应该与新建进程的目的有关系。</li>
<li>当信号到达时，应该由哪一个线程处理？</li>
</ul>
<h3 id="混合实现"><a href="#混合实现" class="headerlink" title="混合实现"></a>混合实现</h3><p>一种将用户级线程的优点和内核级线程的优点结合起来的方法是使用内核级线程，然后将用户级线程和某些或者全部内核线路多路复用起来。</p>
<p><img src="/images/os-thread-imp.svg"></p>
<h3 id="调度程序激活机制"><a href="#调度程序激活机制" class="headerlink" title="调度程序激活机制"></a>调度程序激活机制</h3><p>调度程序激活工作的目标是模拟内核线程的功能，但是为线程包提供通常在用户空间中才能实现的更好的性能和更大的灵活性。<br>基本思路是，当内核了解到一个线程被阻塞之后，内核通知该进程的运行时系统，并且在堆栈中以参数形式传递有问题的线程编号和所发生事件的一个描述。内核通过在一个已知的起始地址启动运行时系统，从而发出了通知。（上行调用）</p>
<h3 id="弹出式线程"><a href="#弹出式线程" class="headerlink" title="弹出式线程"></a>弹出式线程</h3><p>为每一个到达的消息创建一个处理该消息的线程称为<em>弹出式线程</em>。</p>
<h2 id="进程间通信"><a href="#进程间通信" class="headerlink" title="进程间通信"></a>进程间通信</h2><p>进程间通信（Inter Process Communication）相关的问题：</p>
<ul>
<li>一个进程如何把信息传递给另外一个。</li>
<li>确保两个或更多的进程在关键活动中不会出现交叉。（不同的进程抢夺最后一个资源）</li>
<li>顺序有关联的活动中确保正确的顺序。（生产者消费者模式，必须先生产才能消费）</li>
</ul>
<h3 id="竞争条件"><a href="#竞争条件" class="headerlink" title="竞争条件"></a>竞争条件</h3><p>两个或多个进程读写某些共享数据，而最后的结果取决于进程运行的精确时序，称为<strong>竞争条件</strong>（race condition）</p>
<h3 id="临界区"><a href="#临界区" class="headerlink" title="临界区"></a>临界区</h3><p>避免竞争条件的关键就是要找出某种途径来阻止多个进程同时读写共享的数据。</p>
<p>一个进程的一部分时间做内部计算（不会引起竞争条件的操作），某些时候执行一些会导致竞争的操作，把对共享内存进行访问的程序片段称为<strong>临界区</strong>。如果能保证多个进程不能同时处于临界区，就能避免竞争条件。<br>一个好的解决方案应该满足以下4个条件。</p>
<ul>
<li>任何两个进程不能同时处于其临界区。</li>
<li>不应对CPU的速度和数量做任何假设。</li>
<li>临界区外运行的进程不得阻塞其他进程。</li>
<li>不得使进程无限期等待进入临界区。</li>
</ul>
<h3 id="忙等待的互斥"><a href="#忙等待的互斥" class="headerlink" title="忙等待的互斥"></a>忙等待的互斥</h3><ul>
<li>屏蔽中断<br><em>单处理器中</em>，最简单的方法是使每个进程刚刚进入临界区后立即屏蔽所有中断，并在离开之前再打开中断。屏蔽中断之后CPU不再被切换到其他进程，一旦某个进程屏蔽中断后不必担心其他进程介入。</li>
<li>锁变量<br>寻找一种软件解决方案，通过一个共享变量判断是否能进入。（共享变量本身存在竞争条件，因此不行）</li>
<li>严格轮换法<br>两个进程轮流进行临界区进行处理，违法之前说的第三点，临界区外的进程会阻塞其他进程(进程0不能连续运行多次，必须严格按照0、1、0、1这样的循环运行)。</li>
</ul>
<table><tr><td>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//进程0</span></span><br><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>) {</span><br><span class="line">    <span class="keyword">while</span>(turn != <span class="number">0</span>) {</span><br><span class="line">        <span class="comment">//just loop</span></span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    doSomethingInCritical();</span><br><span class="line">    turn = <span class="number">1</span>;</span><br><span class="line">    doSomethingNotInCritical();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</td><td>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//进程1</span></span><br><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>) {</span><br><span class="line">    <span class="keyword">while</span>(turn != <span class="number">1</span>) {</span><br><span class="line">        <span class="comment">//just loop</span></span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    doSomethingInCritical();</span><br><span class="line">    turn = <span class="number">0</span>;</span><br><span class="line">    doSomethingNotInCritical();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</td></tr></table>

<p>整型变量turn初始值为0，用于记录轮到哪个进程进入临界区，并检查或更新共享内存。连续测试一个变量直到某个值出现为止，称为<strong>忙等待</strong>。由于这种方式浪费CPU时间，通常应该避免。只有有理由认为等待时间非常短的情形下才使用忙等待。用于忙等待的锁，称为<strong>自旋锁</strong>。</p>
<ul>
<li>Peterson解法</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FALSE 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 2</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">int</span> turn;</span><br><span class="line"><span class="keyword">int</span> interested[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">enterRegion</span><span class="params">(<span class="keyword">int</span> process)</span> </span>{</span><br><span class="line">    interested[process] = TRUE;</span><br><span class="line">    <span class="keyword">int</span> otherProcess = <span class="number">1</span> - process;</span><br><span class="line">    turn = process;</span><br><span class="line">    <span class="keyword">while</span>(turn == process &amp;&amp; interested[otherProcess]==TRUE) {</span><br><span class="line">    </span><br><span class="line">    } </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">leaveRegion</span><span class="params">(<span class="keyword">int</span> process)</span> </span>{</span><br><span class="line">    interested[process] = FALSE;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>通过turn的值只能为0或者1确保只有一个进程在临界区。（是否有java中的可见性问题？）</p>
<ul>
<li>TSL指令</li>
</ul>
<p>硬件支持的一种方案，许多计算机中都有下面的一条指令：</p>
<figure class="highlight arm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">TSL</span> RX, LOCK</span><br></pre></td></tr></table></figure>
<p>称为测试并加锁，将一个内存字LOCK读到寄存器RX中，并且在内存地址上存一个非零值，读字和写字操作保证不可分割，即该指令结束之前其他处理器不允许访问该内存字。执行TSL指令的CPU将锁住内存总线，禁止其他CPU在本指令结束之前访问内存(中断在多CPU情况不满足要求)。</p>
<figure class="highlight arm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">enter_region:</span></span><br><span class="line">    TSL REGISTER, LOCK  <span class="comment">//复制锁到寄存器，并且将锁设置为1</span></span><br><span class="line">    <span class="keyword">CMP</span> REGISTER, <span class="number">#0</span>    <span class="comment">//锁是否为0？</span></span><br><span class="line">    JNE enter_region    <span class="comment">//如果不是零，说明锁已经被设置，循环。</span></span><br><span class="line">    RET</span><br><span class="line">    </span><br><span class="line"><span class="symbol">leave_region:</span></span><br><span class="line">    MOVE LOCK, <span class="number">#0</span>   <span class="comment">//释放锁</span></span><br><span class="line">    RET</span><br></pre></td></tr></table></figure>
<p>TSL指令的替代指令为XCHG，它原子性地交换两个位置的内容。例如一个寄存器和一个存储器地址。</p>
<figure class="highlight arm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">enter_region:</span></span><br><span class="line">    <span class="keyword">MOV</span> REGISTER, <span class="number">#1</span></span><br><span class="line">    XCHG REGISTER, LOCK  <span class="comment">//复制锁到寄存器，并且将锁设置为1</span></span><br><span class="line">    <span class="keyword">CMP</span> REGISTER, <span class="number">#0</span>    <span class="comment">//锁是否为0？</span></span><br><span class="line">    JNE enter_region    <span class="comment">//如果不是零，说明锁已经被设置，循环。</span></span><br><span class="line">    RET</span><br><span class="line">    </span><br><span class="line"><span class="symbol">leave_region:</span></span><br><span class="line">    MOVE LOCK, <span class="number">#0</span>   <span class="comment">//释放锁</span></span><br><span class="line">    RET</span><br></pre></td></tr></table></figure>

<h3 id="睡眠与唤醒"><a href="#睡眠与唤醒" class="headerlink" title="睡眠与唤醒"></a>睡眠与唤醒</h3><p>Peterson解法和TSL或者XCHG解法都是正确的，但是都有忙等待的缺点。这种方法不仅浪费了CPU时间，还可能引起预想不到的结果。例如一台计算机有两个进程，H优先级高，L优先级低，如果调度规则为只要H处于就绪就可以运行，如果L处于临界区中，此时H变到就绪，就会导致H一直处于忙等待状态，这种情况称为<strong>优先级反转问题</strong>，尤其是在单CPU中因为L获取不到调度不能离开共享区，导致H一直忙等待。</p>
<p>考察进程间通信的其他原语，它们在无法进入临界区时将阻塞，而不是忙等待。sleep是一个引起调用进程阻塞的系统调用，直到另外一个进程将其唤醒。wakeup调用有一个参数即要被唤醒的进程。</p>
<blockquote>
<p>如果sleep和wakeup存在竞争条件时，则有可能出现唤醒丢失的情况，例如缓冲区为空消费者发现count为0，此时调度程序决定暂停消费者并启动生产者，生产者往缓冲区放入一个数据，count加1，此时生产者任务消费者此时一定在睡眠，于是调用wakeup来唤醒消费者，但是消费者并没有休眠，导致wakeup信号丢失。（count的修改和sleep和wakeup如果是原子操作则不会出现这种情况）</p>
</blockquote>
<h3 id="信号量"><a href="#信号量" class="headerlink" title="信号量"></a>信号量</h3><p>检查数值、修改变量值以及可能发生的睡眠操作当做一个单一的、不可分割的<strong>原子操作</strong>完成，保证一旦一个信号量操作开始，在该操作完成或者阻塞之前，其他进程不允许访问该信号量。</p>
<p>up操作：如果一个或多个线程在该信号量上睡眠，无法完成之前的一个down操作，则由系统选择其中一个并允许该线程完成其down操作，信号量的值仍旧是0，但是睡眠的线程少一个。否则对信号量的值增加1。</p>
<p>down操作：如果信号量的值大于0则将值减1，并继续允许，若值为0则休眠，此时down操作未结束。</p>
<h3 id="互斥量"><a href="#互斥量" class="headerlink" title="互斥量"></a>互斥量</h3><p>如果不需要信号量的计算能力，可以使用信号量的一个简化版本，称为互斥量（mutex）。用于管理共享资源或一小段代码。</p>
<figure class="highlight arm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">mutex_lock:</span></span><br><span class="line">    TSL REGISTER, MUTEX</span><br><span class="line">    <span class="keyword">CMP</span> REGISTER, <span class="number">#0</span></span><br><span class="line">    JZE ok</span><br><span class="line">    CALL thread_yield</span><br><span class="line">    JMP mutex_lock</span><br><span class="line"><span class="symbol">ok:</span> RET</span><br><span class="line"></span><br><span class="line"><span class="symbol">mutex_unlock:</span></span><br><span class="line">    MOVE MUTEX, <span class="number">#0</span></span><br><span class="line">    RET</span><br></pre></td></tr></table></figure>

<p>与之前的enter_region和leave_region的区别在于，enter_region进入临界区失败会始终重复测试锁，由于时钟超时的作用，会调度其他进程运行。但是在用户线程中，情况有所不同，因为没有时钟停止运行时间过长的线程，不能进行忙等待，通过调用thread_yield主动放弃CPU。</p>
<h3 id="屏障"><a href="#屏障" class="headerlink" title="屏障"></a>屏障</h3><p>当一个进程到底屏障时，它就被屏障阻拦，直到所有进程都到达该屏障为止。屏障可用于一组进程同步。</p>
<h3 id="读-复制-更新"><a href="#读-复制-更新" class="headerlink" title="读-复制-更新"></a>读-复制-更新</h3><p>最快的锁是没有锁，每次写时重新复制一份就数据再修改。</p>
<h2 id="调度"><a href="#调度" class="headerlink" title="调度"></a>调度</h2><p>操作系统中，完成进程选择工作的这一部分称为<strong>调度程序</strong>，该程序使用的算法称为<strong>调度算法</strong>。</p>
<h3 id="调度简介"><a href="#调度简介" class="headerlink" title="调度简介"></a>调度简介</h3><ol>
<li><p>进程行为<br> 几乎所有进程的I/O请求和计算都是交替突发的。当一个进程等待外部设备完成工作而被阻塞时才是I/O活动。如果在等待I/O上花费的时机多则为I/O密集型，否则为计算密集型。</p>
</li>
<li><p>何时调度</p>
</li>
</ol>
<ul>
<li>创建进程时</li>
<li>一个进程退出时</li>
<li>当一个进程阻塞在I/O和信号量或者其他原因时</li>
<li>在I/O中断发生时</li>
</ul>
<ol start="3">
<li>调度的种类</li>
</ol>
<ul>
<li>非抢占式调度：进程<em>一直运行</em>直到阻塞或者主动放弃CPU时才会发生调度。</li>
<li>抢占式调度：划分固定的时间，在非抢占式调度的基础上，当划分的时间用完时也会发生调度（需要时钟中断的支持）。</li>
</ul>
<ol start="4">
<li>调度算法分类</li>
</ol>
<ul>
<li>批处理</li>
<li>交互式</li>
<li>实时</li>
</ul>
<ol start="5">
<li>调度算法的目标</li>
</ol>
<ul>
<li>吞吐量</li>
<li>周转时间</li>
<li>最小响应时间</li>
</ul>
<h3 id="批处理系统中的调度"><a href="#批处理系统中的调度" class="headerlink" title="批处理系统中的调度"></a>批处理系统中的调度</h3><ol>
<li>先来先服务：通过一个单链表记录了所有就绪进程，每次把作业添加在队列的末尾，阻塞的进程直接加入队尾（非抢占式）。</li>
<li>最短作业优先：当所有作业同时到达并且可以运行时，最短作业优先有最短的平均周转时间（非抢占式）。</li>
<li>最短剩余时间优先：是是抢占模式的最短作业优先，需要知道每个进程的剩余时间（抢占式）。</li>
</ol>
<h3 id="交互系统中的调度"><a href="#交互系统中的调度" class="headerlink" title="交互系统中的调度"></a>交互系统中的调度</h3><h4 id="轮转调度"><a href="#轮转调度" class="headerlink" title="轮转调度"></a>轮转调度</h4><p>每个进程分配一个时间段，允许该进程在该时间段中运行。（是一种最简单、古老、公平使用最广的算法。）当一个进程使用完它的时间片后，就被移动到队列的末尾。</p>
<p>进程的切换，需要时间，如果切换太频繁会导致管理效率太高，例如一次切换需要1ms，如果时间片设置为4m，则只有4/(1+4)=80%的利用率，为了提高cpu的效率，可以将时间片设置为99ms，这样就只会浪费1%的CPU，但是存在使需要较短运行时间的进程等待时间过长的问题（例如同时有50个进程每个都运行了100ms，会导致第51个只需要运行10ms的进程等待5秒钟）。一般将时间片设置为20至50ms比较合理。</p>
<h4 id="优先级调度"><a href="#优先级调度" class="headerlink" title="优先级调度"></a>优先级调度</h4><p>每个进程赋予一个优先级，允许优先级最高的可运行进程先运行。还可以按优先级分组，这样在最高优先级中的进程按轮转法进行调度。</p>
<p>优先级可以静态或者动态设定，例如针对I/O密集的进程通过1除以占用CPU的比例计算，越I/O密集优先级越高。另外为了避免优先级高的进程一直占用CPU，导致优先级低的进程饿死，可以经过一次调度就把优先级降低。另外一种方式是给予每个进程一个允许允许的最大时间片，当用完这个时间片时，次高优先级的进程变获得允许机会。</p>
<h4 id="多级队列"><a href="#多级队列" class="headerlink" title="多级队列"></a>多级队列</h4><p>属于高优先级的进程运行1个时间片，次高级的运行2个时间片，再次一级的4个时间片，以此类推，当使用完时间片后，被移动到下一类。（解决运行时间长的进程频繁切换的问题，尤其是内存不足时，进程被切换到磁盘的情况。不能解决运行时间长，又需要交互的问题,与优先级调度类似只是时间片也是变化的）</p>
<h4 id="最短进程优先"><a href="#最短进程优先" class="headerlink" title="最短进程优先"></a>最短进程优先</h4><p>根据进程过去的行为进行推测，并执行估计允许时间最短的那一个，假设每条命令的估计运行时间为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.375ex" xmlns="http://www.w3.org/2000/svg" width="2.234ex" height="1.906ex" role="img" focusable="false" viewBox="0 -677 987.6 842.6"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mn" transform="translate(584, -150) scale(0.707)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></g></svg></mjx-container>,并且测量到下次允许时间为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.339ex" xmlns="http://www.w3.org/2000/svg" width="2.234ex" height="1.871ex" role="img" focusable="false" viewBox="0 -677 987.6 827"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mn" transform="translate(584, -150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></svg></mjx-container>，可以用这两个值的加权来改进估计值，即<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex" xmlns="http://www.w3.org/2000/svg" width="15.219ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 6727 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="msub" transform="translate(529, 0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mn" transform="translate(584, -150) scale(0.707)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g><g data-mml-node="mo" transform="translate(1738.8, 0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mo" transform="translate(2739, 0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mn" transform="translate(3128, 0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(3850.2, 0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(4850.4, 0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(5350.4, 0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="msub" transform="translate(5739.4, 0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mn" transform="translate(584, -150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></svg></mjx-container>。通过当前测量值和先前的估计值进行加权平均而得到下一个估计值的技术成为老化。</p>
<h4 id="保证调度"><a href="#保证调度" class="headerlink" title="保证调度"></a>保证调度</h4><p>假设所有进程都是等价的，如果有n个进程则每个进程获得1/n的CPU时间，统计每个进程使用的时间与应该获得的时间之比，比例越少的应该优先获得时间。</p>
<h4 id="彩票调度"><a href="#彩票调度" class="headerlink" title="彩票调度"></a>彩票调度</h4><p>给CPU时间提供一种彩票，当需要调度时随机抽一张彩票，拥有该彩票的进程获得该资源。例如一共有50张彩票，如果一个进程有10张彩票则会有20%的机会会被调度。</p>
<h4 id="公平分享调度"><a href="#公平分享调度" class="headerlink" title="公平分享调度"></a>公平分享调度</h4><p>调度中除了考虑进程外还需要考虑进程的所有者。例如用户1运行了9个进程，用户2运行了1个进程，如果从进程的调度看用户1会占用90%的时间。</p>
<h3 id="实时系统中的调度"><a href="#实时系统中的调度" class="headerlink" title="实时系统中的调度"></a>实时系统中的调度</h3><p>硬实时：必须满足绝对的截止时间。<br>软实时：不希望偶尔错失截止时间，但是可以容忍。</p>
<p>实时系统中的事件分为周期性和非周期性的。如果有m个周期事件，事件i以周期P发生，并需要C秒CPU进行处理，则负载的条件是（忽略切换的时间）：<br><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -2.811ex" xmlns="http://www.w3.org/2000/svg" width="12.831ex" height="6.346ex" role="img" focusable="false" viewBox="0 -1562.5 5671.2 2804.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="munderover"><g data-mml-node="mo"><path data-c="2211" d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z"></path></g><g data-mml-node="TeXAtom" transform="translate(112.8, -1084.4) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(345, 0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(1123, 0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mi" transform="translate(509.9, 1150) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1610.7, 0)"><g data-mml-node="mfrac"><g data-mml-node="msub" transform="translate(220, 676)"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g><g data-mml-node="mi" transform="translate(715, -150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="msub" transform="translate(256.5, -686)"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mi" transform="translate(642, -150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g><rect width="1209" height="60" x="120" y="220"></rect></g></g><g data-mml-node="mo" transform="translate(3337.4, 0)"><path data-c="3C" d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z"></path><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z" transform="translate(778, 0)"></path></g><g data-mml-node="mn" transform="translate(5171.2, 0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg></mjx-container></p>
]]></content>
      <tags>
        <tag>OS</tag>
      </tags>
  </entry>
  <entry>
    <title>现代操作系统笔记-3内存管理</title>
    <url>/2019/04/27/2019-04-27-%E7%8E%B0%E4%BB%A3%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AC%94%E8%AE%B0-3%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/</url>
    <content><![CDATA[<h1 id="内存管理"><a href="#内存管理" class="headerlink" title="内存管理"></a>内存管理</h1><p>经过多年的探索，人们提出了<strong>分层存储器体系</strong>的概念，在这个体系中，速度越快容量越小。</p>
<p>操作系统中管理分层存储器体系的部分称为<strong>存储管理器</strong>，其任务时有效地管理内存，即记录哪些内存正在使用，哪些是空闲的，在进程需要时为期分配内存，在进程使用完后释放内存。</p>
<h2 id="无存储器抽象"><a href="#无存储器抽象" class="headerlink" title="无存储器抽象"></a>无存储器抽象</h2><p>早期大型计算机和个人计算机都没有存储器抽象，每一个程序都直接访问物理内存。这种情况下内存中不能同时运行两个程序，因为第二个程序在2000的位置写入的值会覆盖到第一个程序在相同位置上的内容。</p>
<blockquote>
<p>无存储器时的并行可以通过多线程实现，因为线程中的地址是共享的。另一种方式是内存中地址分配分配一个保护键[例如2K一个保护键]，保护键存在CPU的特殊寄存器中，PSW(程序状态字)中存有一个4位码，如果运行中的进程访问保护键与PSW码不同时，由硬件捕获，可以防止用户进程之间的互相干扰，还需要解决的一个问题是相对地址的问题，可以通过在加载程序到内存时使用<strong>静态重定位</strong>修改其地址的值(加上程序被装载的基础地址。)</p>
</blockquote>
<h2 id="存储器的抽象：地址空间"><a href="#存储器的抽象：地址空间" class="headerlink" title="存储器的抽象：地址空间"></a>存储器的抽象：地址空间</h2><p>暴露物理地址给进程的问题：</p>
<ol>
<li>用户程序可以寻址内存的每个字节，容易破坏操作系统和其他进程。</li>
<li>同时运行多个程序很困难。</li>
</ol>
<h3 id="地址空间"><a href="#地址空间" class="headerlink" title="地址空间"></a>地址空间</h3><p>地址空间是一个进程可用于寻址内存的一套地址集合。每个进程都有一个自己的地址空间，并且这个地址空间独立于其他进程的地址空间。</p>
<p><strong>基址寄存器与界限寄存器</strong><br>动态重定位，简单地把每个进程的地址空间映射到物理内存的不同部分。使用的方法是使用两个特殊的硬件寄存器，<em>基址寄存器</em>和<em>界限寄存器</em>。进行内存访问时，默认加上基址寄存器中的值到内存地址上，同时检查地址的值是否大于界限寄存器的值。<em>缺点是每次访问内存都需要进行加法和比较运算，没有特殊电路的支持速度慢</em></p>
<h3 id="交换技术"><a href="#交换技术" class="headerlink" title="交换技术"></a>交换技术</h3><p>处理内存超载的两种通用方法：</p>
<ol>
<li>交换技术：把一个进程完整调入内存，运行一段时间后，存回磁盘。空闲进程主要存储在磁盘上。</li>
<li>虚拟内存：能使程序在只有一部分被调入内存的情况下运行。</li>
</ol>
<h3 id="空闲内存管理"><a href="#空闲内存管理" class="headerlink" title="空闲内存管理"></a>空闲内存管理</h3><p>在动态分配内存时，操作系统必须对其进行管理，跟踪内存使用的两种情况：位图和空闲链表。</p>
<ul>
<li>位图内存管理<br>内存被划分成小到几个字或大到几千字节的分配单元，每个分配单元对应位图中的一位，0表示空闲，1表示占用。分配单元越小，位图越大，分配单元越大，则最后一个分配单元中就有一定数量的内存被浪费了。在分配内存时需要查找连续0串是一个耗时的操作(缺点)。</li>
<li>空闲链表管理<br>维护一个记录已分配内存段和空闲内存段的链表。链表中的节点或者包含一个进程或者是两个进程间的一块空闲区。</li>
</ul>
<p>进程分配算法：</p>
<ol>
<li>首次适配算法，沿着链表搜索，直到找到一个足够大的空闲区。（速度快，尽可能少地搜索链表节点）</li>
<li>下次适配算法，与首次适配算法一样，但是会记录每次找到合适的空闲区的位置，下次寻找从该位置开始而不是从头开始。</li>
<li>最佳适配算法，查找一个最接近实际需要的空闲区，以最好滴匹配请求和可用空闲区。</li>
<li>最差适配算法，与最佳适配算法相反每次找到最大的的可用空闲区。</li>
<li>快速适配算法，为那些常用大小的空闲区维护单独的链表。</li>
</ol>
<h2 id="虚拟内存"><a href="#虚拟内存" class="headerlink" title="虚拟内存"></a>虚拟内存</h2><p>软件大小的增加速度超过内存的速度，之前解决软件速度超过内存的方法是使用覆盖管理程序，同时程序员必须把程序分割成多个片段。</p>
<p>虚拟内存的基本思想是：每个程序拥有自己的地址空间，这个空间被分割成多个块，每一块称为一页或页面。每一页有连续的地址范围，这些页被映射到物理内存，并不是所有的页都必须在内存中才能运行程序，当程序引用到一部分不在物理内存中的地址空间时，由操作系统负责装入物理内存并重新执行失败的指令。</p>
<h3 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h3><p>由程序产生的地址称为<em>虚拟地址</em>，它们构成了一个<em>虚拟地址空间</em>。在使用虚拟内存的情况下，虚拟地址不是被直接送到内存地址而是被送到<em>内存管理单元</em>，内存管理单元把虚拟地址映射为物理内存地址。</p>
<p>虚拟地址空间按照固定大小划分为称为<em>页面（page）</em>的若干单元，物理内存中对应的单元称为<em>页框（page frame）</em>。页面和页框的大小通常是一样的。</p>
<p><img src="/images/mmu.svg" alt="mmu内部结构"></p>
<h3 id="页表"><a href="#页表" class="headerlink" title="页表"></a>页表</h3><p>虚拟地址到物理地址的映射可以概括为：虚拟地址呗分成虚拟页号（高位部分）和偏移量（低位部分）两部分。例如16位地址和4KB的页面大小，高4位可以指定16个页面中的一页，低12位确定页面中的字节偏移量。虚拟页号可用作页表的索引，以找到该虚拟页面对应的页表项。由页表项找到页框号（有的话），把页框号拼接到偏移量的高位，替换掉虚拟页号，形成内存的物理地址。</p>
<p><strong>页表项的结构</strong><br>页表项的结构是与机器密切相关的，不同机器的页表项的信息大致相同，一般为32位。一般由高速缓存禁止位、访问位、修改位、保护位、在/不在位、页框号组成。</p>
<ul>
<li>高速缓存禁止位：用于禁止页面被高速缓存。例如对I/O设备的映射。</li>
<li>访问位：不论是读还是写都会设置该位，用来帮助操作系统在发生缺页中断时选择要淘汰的页面。</li>
<li>修改位：在写入一页时由硬件自动设置，表示该页是否有修改，如果有修改过则必须把它写回磁盘。</li>
<li>保护位：指出一个页允许什么类型的访问，例如用1位表示，0表示读写，1表示只读。或者用三位表示是否允许读、写、执行操作。</li>
<li>在/不在位：表示该页是否有映射到物理页框。</li>
<li>页框号：物理页框的号码。</li>
</ul>
<h3 id="加速分页过程"><a href="#加速分页过程" class="headerlink" title="加速分页过程"></a>加速分页过程</h3><p>分页系统中考虑的两个主要问题：</p>
<ol>
<li>虚拟地址到物理地址的映射必须非常快。(因为每次访问内存都需要进行虚拟地址到物理地址的映射，所有指令都必须来自内存，并且很多指令也会访问内存中的操作数)</li>
<li>如果虚拟地址空间很大，页表也会很大。(现代计算机使用至少32位的虚拟地址，而且64位越来越普遍，如果页面大小为4KB，32位地址空间将有100万项)</li>
</ol>
<p>一种简单的设计是使用快速硬件寄存器阵列组成的单一页表，每一个表项对应一个虚拟页面，虚拟页号作为索引，当启动一个进程时，操作系统把保存在内存中的进程页表的副本载入寄存器中，在进程运行过程中，不必再为页表而访问内存，优点是速度快，缺点是页表很大时，代价高昂，且每一次上下文切换都必须装载整个页表，也会降低性能。另一种极端的方法是，整个页表都在内存中，所需要的硬件仅仅是一个指向页表起始位置的寄存器，这样上下文切换时只需要重新装入一个寄存器，但是执行指令时，需要一次或多次内存访问来完成页表项的读入，速度非常慢。</p>
<p><strong>转换检测缓冲区（TLB）</strong><br>基于大多数程序总是对少量的页面进行多次访问，而不是相反，因此只有很少的页表项会被反复读取，因此只需要一个小型的硬件设备，将虚拟地址直接映射到物理地址，而不必再访问页表。如果虚拟页在TLB中存在则不需要在内存中访问页表。</p>
<p><strong>软件TLB管理</strong><br>许多现代的RISC机器，几乎所有的页面管理都是在软件中实现，TLB表项被操作系统显示地装载，当发生TLB访问失效时，不再是由MMU到也表中查找并取出需要的页表项，而是生成一个TLB失效并将问题交给操作系统解决。（当TLB大到[例如64时]可以减少失效率时，TLB的软件管理就会变得足够有效）。</p>
<ul>
<li>软失效：当一个页面访问在内存中而不在TLB中时产生，此时只需要更新TLB，不需要产生磁盘I/O。</li>
<li>硬失效：当一个页面访问不再内存中时，需要产生磁盘I/O并且更新TLB。</li>
</ul>
<h3 id="针对大内存的页表"><a href="#针对大内存的页表" class="headerlink" title="针对大内存的页表"></a>针对大内存的页表</h3><ul>
<li><p>多级页表<br>例如32位的虚拟地址被划分为10位的PT1域、10位的PT2域和12位的Offset（偏移量）域。页面的大小还是4K，但是一共有$2^{20}$个页面。引入多级页表也可以避免把全部的页表一直保存在内存中，因为大部分情况下用不到这么多的空间。</p>
</li>
<li><p>倒排页表<br>这种设计中，实际内存中的每一个页框对应一个表项，而不是每一个虚拟页面对应一个表项。例如64位虚拟地址，4KB的页，4GB的RAM，倒排序仅仅需要$2^{20}$个页表项。</p>
</li>
</ul>
<p>倒排序节省了大量空间（当虚拟地址空间比物理内存大得多的时候），但是从虚拟地址到物理地址的转换变得很困难。因为每次内存访问都需要搜索整个倒排页表来查找某一个表项。</p>
<p>一种改进的办法是使用TLB，如果TLB能够记录所有频繁使用的页面，则地址转换就能变得通常一样快，但是当TLB失效时，需要用软件搜索整个倒排页表。一种可行的方法是建立一张散列表，用虚拟地址进行散列，散列表中的槽数与物理页数一样多时，则散列表的冲突链的平均长度为1。</p>
<h2 id="页面置换算法"><a href="#页面置换算法" class="headerlink" title="页面置换算法"></a>页面置换算法</h2><p>当发生缺页中断时，操作系统必须在内存中选择一个页面将其换出内存，以便为即将调入的页面腾出空间。如果换出的页面在内存驻留期间已经被修改过，就必须把它写回磁盘以更新该页面在磁盘的副本。</p>
<h3 id="最优页面置换算法"><a href="#最优页面置换算法" class="headerlink" title="最优页面置换算法"></a>最优页面置换算法</h3><p>如果能够知道一个页面在访问前需要执行的指令数，则可以选择一个需要执行指令数最大的页面进行置换。但是操作系统并不能知道各个页面下一次将在什么时候访问。（无法实现）</p>
<h3 id="最近未使用页面置换算法（NRU）"><a href="#最近未使用页面置换算法（NRU）" class="headerlink" title="最近未使用页面置换算法（NRU）"></a>最近未使用页面置换算法（NRU）</h3><p>大部分具有虚拟内存的计算机中，系统为每个页面设置了两个状态，读和写位。可以用R位和M位构造一个简单的页面置换算法：初始时两个位都是0，R被定期（例如每次时钟中断时）清零，区别最近没有被访问的页面和被访问的页面。</p>
<p>LRU算法中，页面按如下的顺序进行置换</p>
<ol>
<li>没有被访问，没有被修改。</li>
<li>没有被访问，已被修改。</li>
<li>已被访问，没有被修改。</li>
<li>已被访问，已被修改。</li>
</ol>
<h3 id="先进先出页面置换算法（FIFO）"><a href="#先进先出页面置换算法（FIFO）" class="headerlink" title="先进先出页面置换算法（FIFO）"></a>先进先出页面置换算法（FIFO）</h3><p>由操作系统维护一个所有当前在内存中的页面的链表，最新进入的页面在表尾，最早进入的页面在表头，当发生缺页中断时，淘汰表头的页面并把心导入的页面加到表尾。（很少存粹使用FIFO算法，因为很可能淘汰经常使用的页面）</p>
<h3 id="第二次机会页面置换算法"><a href="#第二次机会页面置换算法" class="headerlink" title="第二次机会页面置换算法"></a>第二次机会页面置换算法</h3><p>对FIFO算法进行一个简单的修改，检查最老页面的R位，如果R是0，则这个页面即老又没有使用，可以立刻置换掉，否则把R清0，并把该页面放到链表的尾端。</p>
<h3 id="时钟页面置换算法"><a href="#时钟页面置换算法" class="headerlink" title="时钟页面置换算法"></a>时钟页面置换算法</h3><p>二次机会算法需要经常在链表中移动页面，降低了效率又不是很有必要，一个更好的办法是把所有的页面都保存在一个类似钟面的环形链表中，一个表针指向最老的页面。通过指针的移动代替链表中元素的移动。（如果当前的页R为0则替换该页，否则把R设置为0，指针往前移，直到找到一个R位为0的项）</p>
<h3 id="最近最少使用页面置换算法（LRU）"><a href="#最近最少使用页面置换算法（LRU）" class="headerlink" title="最近最少使用页面置换算法（LRU）"></a>最近最少使用页面置换算法（LRU）</h3><p>对最优算法的一个近似，基于最近被频繁使用的页面很可能在后面的指令中被使用，可以反过来认为最近没有使用的页面在未来也很有可能不会使用。</p>
<p>维护一个LRU链表的代价很高，因为每一次页面的访问都需要更新链表。有些使用特殊硬件实现LRU的方法，例如维护一个64位的计数器，在每一条指令执行完后自动加1，每一个页表项有一个容纳这个计数器值的域，每次访问内存后，把当前的值存入被访问页面的页表项中。值最小的页面就是最近最少使用的页面。</p>
<h3 id="用软件模拟LRU"><a href="#用软件模拟LRU" class="headerlink" title="用软件模拟LRU"></a>用软件模拟LRU</h3><p>一种可能的方案为NFU（Not Frequently Used,最不常用）算法。将每个页面与一个软件计数器相关联，计数器初始为0，每次时钟中断时，操作系统扫描内存中的所有页，把每个页面的R位加到它的计数器上。这样这个计数器大体上跟踪了各个页面被访问的频繁程度。缺页中断时，置换计数器最小的页面。</p>
<p>上面算法的问题是不会忘记任何事情，如果要置换使用了很多次的页面需要很长的时间，可以通过对NFU的计数进行修改很好的解决该问题，每次计数时将计数器右移一位，把R位放在最左端。这个修改后的算法为<strong>老化算法</strong>。</p>
<h3 id="工作集页面置换算法"><a href="#工作集页面置换算法" class="headerlink" title="工作集页面置换算法"></a>工作集页面置换算法</h3><p>在单纯的分页系统中，进程启动时，在内存中并没有页面，因此CPU获取第一条指令时就会产生一次缺页中断，因此需要一段时间后，进程需要的大部分页面都已经在内存中了，这个时候进程中的缺页中断才会变少。这个策略称为<strong>请求调页</strong>，页面是在需要时被调入，而不是预先装入。</p>
<p>工作集：一个进程当前正在使用的页面的集合。<br><em>工作集也可以认为是最近k次内存访问所使用过的页面的集合</em></p>
<p>假设任一时刻t，存在一个集合，它包含所有最近k次内存访问所访问过的页面。这个集合w(k,t)就是工作集。因为k+1一定会包括k次访问过的页面，因此w(k,t)是k的单调非递减函数。</p>
<p>通过上次使用该页面的近似时间和R位近似工作集的内容，可以定义一个时间范围确定在这个时间有进行访问的页面。</p>
<h3 id="工作集时钟页面置换算法"><a href="#工作集时钟页面置换算法" class="headerlink" title="工作集时钟页面置换算法"></a>工作集时钟页面置换算法</h3><h3 id="置换算法小节"><a href="#置换算法小节" class="headerlink" title="置换算法小节"></a>置换算法小节</h3><table>
<thead>
<tr>
<th>算法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>最优算法</td>
<td>不可实现，可作为基准</td>
</tr>
<tr>
<td>NRU（最近未使用）算法</td>
<td>LRU很粗糙的近似</td>
</tr>
<tr>
<td>FIFO（先进先出）算法</td>
<td>可能抛弃重要的页面</td>
</tr>
<tr>
<td>第二次机会算法</td>
<td>比FIFO有较大的改善</td>
</tr>
<tr>
<td>时钟算法</td>
<td>现实的</td>
</tr>
<tr>
<td>LRU（最近最少使用）算法</td>
<td>很优秀，但是难实现</td>
</tr>
<tr>
<td>NFU（最不经常使用）算法</td>
<td>LRU的相对粗略的近似</td>
</tr>
<tr>
<td>老化算法</td>
<td>非常近似LRU的有效算法</td>
</tr>
<tr>
<td>工作集算法</td>
<td>实现起来开销很大</td>
</tr>
<tr>
<td>工作集时钟算法</td>
<td>好的有效算法</td>
</tr>
</tbody></table>
<h2 id="分页系统中的设计问题"><a href="#分页系统中的设计问题" class="headerlink" title="分页系统中的设计问题"></a>分页系统中的设计问题</h2><h3 id="局部分配策略与全局分配策略"><a href="#局部分配策略与全局分配策略" class="headerlink" title="局部分配策略与全局分配策略"></a>局部分配策略与全局分配策略</h3><p>之前的讨论一直避免考虑在相互竞争的可运行进程之间分配内存。</p>
<p>局部算法：只在本进程中的页面进行置换。<br>全局算法：在所有进程中的页面进行置换。</p>
<p>需要考虑的问题有：</p>
<ul>
<li>允许每一个进程分配同样多的页框，但是对大的程序不公平。</li>
<li>可以参考缺页中断率进行页面的分配。</li>
<li>局部算法中即使有大量的空闲页框也会导致颠簸。</li>
</ul>
<h3 id="负载控制"><a href="#负载控制" class="headerlink" title="负载控制"></a>负载控制</h3><p>减少竞争内存的进程数的一个好方法是将一部分进程交换到磁盘，并释放他们所占有的所有页面。该进程对应的页框可以被其他处于颠簸状态的进程分享。</p>
<p>将足够的进程交换出去可以获取可接受的缺页中断率，将进程交换到磁盘需要同时考虑进程的特性（CPU密集型还是I/O密集型）以及其他进程的特性。</p>
<h3 id="页面大小"><a href="#页面大小" class="headerlink" title="页面大小"></a>页面大小</h3><p>即使硬件设计只支持4k的页面，操作系统可以通过总是分配两个连续的页面达到8k的页框。</p>
<ul>
<li>页面过大会浪费更多的内存，平均情况下，最后一个页面有一半是空的。</li>
<li>页面过小意味着程序需要更多的页面，又意味着需要更大的页表。一个32K的程序只需要4个8K的页面，却需要64个512字节的页面，内存与磁盘之间的传输一般是一次一页，传输的大部分时间都花在寻到和旋转延迟上，传输一个小页面所用的时间和传输一个大页面基本上是相同的。（大页面能更充分利用TLB空间，同样的内存大小页表大时所需的TLB表项更少）</li>
</ul>
<p>从数学上看，假设进程的平均大小为s个字节，页面大小是p个字节，每个页表项需要e个字节，则由页表和内部碎片造成的开销=$se/p+p/2$,通过求导可以计算出$p=\sqrt{2se}$,对于s=1MB每一个页表项e=8B，最优化页面大小使4KB。</p>
<h3 id="分离的指令空间和数据空间"><a href="#分离的指令空间和数据空间" class="headerlink" title="分离的指令空间和数据空间"></a>分离的指令空间和数据空间</h3><p>大多数计算机只有一个地址空间，即存放程序也存放数据，如果地址空间足够大则没有问题。如果地址空间太小，程序员对地址空间的使用会出现困难。</p>
<p>可以把地址空间分成指令空间和数据空间，这样可以使总的地址空间加倍，指令空间和数据空间有独立的页表，分别完成对虚拟地址到页框的映射，硬件在取指令时去指令空间页表，取数据时去数据空间页表。</p>
<h3 id="共享页面"><a href="#共享页面" class="headerlink" title="共享页面"></a>共享页面</h3><p>在多道程序设计系统中，几个不同的用户同时运行同一个程序是很常见的，避免在内存中有一个页面的两份副本，共享页面效率更高。（一般只有只读的页面可以共享[例如程序文本]，数据页不能共享）</p>
<p>如果系统支持分离的I空间和D空间，则让多个进程共享程序就非常简单，这些进程使用相同的I空间页表，不同的D空间页表即可。（还是需要数据结构记录页表中的哪些页面是否共享，以便在进程结束，或者把进程从内存换到磁盘时决定哪些页面可以从内存中移除）</p>
<p><strong>写时复制</strong>：如果一个进程更新了共享的页，则生成一个该页的副本，这样每个进程都有直接的专用副本，都可以进行读写，这种情况下只有实际修改的数据页面需要复制。</p>
<h3 id="共享库"><a href="#共享库" class="headerlink" title="共享库"></a>共享库</h3><p>现代操作系统中，很多大型库被众多进程使用，把所有的这些库静态地与磁盘上的每一个程序绑定会使它们变得更加强大。</p>
<p>通常使用共享库（Windows中的动态链接库）来实现，在目标文件中调用了但是没有定义的函数称为未定义外部函数（例如printf），链接器会在库中寻找这些未定义的外部函数，如果找到了，则将它们加载到可执行二进制文件中，链接器完成任务后，一个可执行二进制文件被写入磁盘，其中包含了所有的函数，在库中定义但是没有被调用的函数不会加载进去。链接器不是加载被调用的函数，而是加载一小段能够在运行时绑定被调用函数的存根例程，共享库可以和程序一起加载，或者在第一次调用时加载，根据需要加载共享库对应的页面。</p>
<blockquote>
<p>共享库最好编译成位置无关的代码，总是使用相对地址，这样就不存在共享时，进行地址跳转的问题。</p>
</blockquote>
<h3 id="内存映射文件"><a href="#内存映射文件" class="headerlink" title="内存映射文件"></a>内存映射文件</h3><p>将一个文件映射到其虚拟地址空间的一部分。</p>
<h3 id="清除策略"><a href="#清除策略" class="headerlink" title="清除策略"></a>清除策略</h3><p>如果缺页中断时每个页框都被占用，并且都被修改过，则需要先把旧页面写回磁盘，才能加载新的页面。为了保证有足够多的空闲页框，因此很多分页系统中有一个<strong>分页守护进程</strong>定期检查内存的状态，如果空闲页框过少，通过预定的页面置换算法选择页面换成内存。</p>
<h3 id="虚拟内存接口"><a href="#虚拟内存接口" class="headerlink" title="虚拟内存接口"></a>虚拟内存接口</h3><h2 id="实现的问题"><a href="#实现的问题" class="headerlink" title="实现的问题"></a>实现的问题</h2><p>虚拟内存系统主要在第二次机会算法与老化算法，局部页面分配与全局页面分配，请求调页与预先调页之间进行选择。</p>
<h3 id="与分页有关的工作"><a href="#与分页有关的工作" class="headerlink" title="与分页有关的工作"></a>与分页有关的工作</h3><ul>
<li>进程创建时：确定程序和数据初始时有多大，并创建一个页表，并且初始化交换区。</li>
<li>进程执行时：当调度一个进程时，必须为新进程重置MMU，刷新TLB，新进程的页表必须称为当前页表。</li>
<li>缺页中断时：操作系统必须通过读硬件寄存器来确定是哪个虚拟地址造成了缺页中断，并在磁盘上对该页面进行定位，并找到合适的页框来存放新页面。最后还要回退程序计数器，使程序计数器指向引起缺页中断的指令，并重新执行该指令。</li>
<li>进程终止时：操作系统需要释放进程的页表，页面和页面在硬盘上所占用的空间。如果某些页面是共享的，则在最后一个进程终止时才可以释放。</li>
</ul>
<h3 id="缺页中断处理"><a href="#缺页中断处理" class="headerlink" title="缺页中断处理"></a>缺页中断处理</h3><ul>
<li>硬件陷入内核，在堆栈中保存程序计数器。</li>
<li>启动一个汇编代码例程保存通用寄存器和其他易失的信息，以免被操作系统破坏。</li>
<li>当操作系统发现一个缺页中断时，尝试发现需要哪个虚拟页面。</li>
<li>知道虚拟地址后，操作系统检查这个地址是否有效，并检查存取与保护是否一致，如果不一致，向进程发出一个信号或杀掉进程。否则检查是否有空闲页框，没有则通过页面置换算法寻找一个页面来淘汰。</li>
<li>如果选择的页框“脏”了，把该页写回磁盘，并发生一次上下文切换，挂起产生缺页中断的进程，让其他进程运行直至磁盘传输结束。该页框被标记为忙，避免被其他进程占用。</li>
<li>一旦页框“干净”后，操作系统查找所需页面在磁盘上的地址，通过磁盘操作将其装入。（？如何找到磁盘上的地址）</li>
<li>当磁盘中断发生时，表示该页已经被装入，页表已经更新可以发映它的位置，页框也被标记为正常状态。</li>
<li>恢复发生缺页中断指令以前的状态，程序计数器重新指向这条指令。</li>
<li>调度引发缺页中断的进程，操作系统返回调用它的汇编语言例程。</li>
<li>该例程恢复寄存器和其他状态信息，返回到用户控件继续执行，好像缺页中断没有发生过一样。</li>
</ul>
<h3 id="指令备份"><a href="#指令备份" class="headerlink" title="指令备份"></a>指令备份</h3><h3 id="锁定内存中的页面"><a href="#锁定内存中的页面" class="headerlink" title="锁定内存中的页面"></a>锁定内存中的页面</h3><h3 id="后备存储"><a href="#后备存储" class="headerlink" title="后备存储"></a>后备存储</h3><p><strong>静态交换区分页</strong><br>进程启动时，留出与整个进程一样大的交换区，在进程表中记录进程对应的交换区的磁盘地址，因为交换区与进程的大小一样，只需要把页面的偏移量加到交换区的开始地址即可。（进程启动后可能会变，因此最好为正文，数据和堆栈分别保留交换区，并允许这些交换区在磁盘上多于一个块。）<br><strong>动态备份分页</strong><br>在页面换出时为其分配磁盘空间，并在换入时回收磁盘空间，内存中的每个页面都需要记录相应的磁盘地址。</p>
<p><img src="/images/os-memory-exchange.svg" alt="内存交换模式"></p>
<h3 id="策略和机制的分离"><a href="#策略和机制的分离" class="headerlink" title="策略和机制的分离"></a>策略和机制的分离</h3><p><img src="/images/%E7%BC%BA%E9%A1%B5%E4%B8%AD%E6%96%AD.jpg" alt="缺页中断示意"></p>
<h2 id="分段"><a href="#分段" class="headerlink" title="分段"></a>分段</h2><p>一个编译器在编译过程中会建立许多表，例如：</p>
<ul>
<li>源程序正文</li>
<li>符号表，包含变量的名字和属性</li>
<li>包含用到的所有整型量和浮点常量的表</li>
<li>语法分析树，包含程序语法分析的结果</li>
<li>编译器内部过程调用使用的堆栈<br>前4个表随着编译的进行不断地增长，最后一个表在编译过程中以一种不可预见的方式增大和缩小。在一维存储器中，这5个表只能分配到虚拟地址空间中连续的块中。</li>
</ul>
<p>一种方式是提供多个互相独立的<strong>段</strong>的地址空间，每个都是从0到一个允许的值，这样程序必须提供两部分地址，一个段号和一个段内地址。</p>
<table>
<thead>
<tr>
<th>考察点</th>
<th>分页</th>
<th>分段</th>
</tr>
</thead>
<tbody><tr>
<td>需要程序员了解正在使用这种技术吗？</td>
<td>否</td>
<td>是</td>
</tr>
<tr>
<td>存在多少线性地址空间？</td>
<td>1</td>
<td>许多</td>
</tr>
<tr>
<td>整个地址空间可以超出物理存储器的大小吗？</td>
<td>是</td>
<td>是</td>
</tr>
<tr>
<td>过程和数据可以被区分分别保护吗？</td>
<td>否</td>
<td>是</td>
</tr>
<tr>
<td>其大小浮动的表可以很容易提供吗？</td>
<td>否</td>
<td>是</td>
</tr>
<tr>
<td>用户间过程的共享方便吗？</td>
<td>否</td>
<td>是</td>
</tr>
<tr>
<td>为什么发明这种技术</td>
<td>为了得到大的线性地址空间而不必购买更大的物理存储器</td>
<td>为了使程序和数据可以被划分为逻辑上独立的地址空间并且有助于共享和保护</td>
</tr>
</tbody></table>
<h3 id="纯分段的实现"><a href="#纯分段的实现" class="headerlink" title="纯分段的实现"></a>纯分段的实现</h3><p>页是定长的而段不是，系统运行一段时间后内存被划分为许多块，一些包含段，一些成了空闲区（外部碎片）。可以通过内存紧缩来解决。</p>
<h3 id="分段和分页结合：MULTICS"><a href="#分段和分页结合：MULTICS" class="headerlink" title="分段和分页结合：MULTICS"></a>分段和分页结合：MULTICS</h3><p>MULTICS由36位虚拟地址和24位物理地址，最多有$2^{18}$个段，每个段有$2^6$个页面，每个页面具有$2^{10}$个字节。</p>
<p><img src="/images/MULTICS%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98.svg" alt="MULTICS虚拟内存的示意图"></p>
<p><sub>上图为MULTICS的内存示意图，红色的线表示为物理地址，从页表到页面时由于每个段都是有64个页面的因此通过18位的物理地址补全000000即可找到页面的物理地址，同理从页面到页的地址时只需要14位即可，因为页面的低10位也是位0.</sub></p>
]]></content>
      <tags>
        <tag>OS</tag>
      </tags>
  </entry>
  <entry>
    <title>数据库汇总</title>
    <url>/2019/11/09/2019-11-09-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%B1%87%E6%80%BB/</url>
    <content><![CDATA[<p>针对最近看的资料和个人理解，把相关的知识整理如下。</p>
<h2 id="三范式"><a href="#三范式" class="headerlink" title="三范式"></a>三范式</h2><h3 id="第一范式"><a href="#第一范式" class="headerlink" title="第一范式"></a>第一范式</h3><p>表中的列具有原子性，不能再进行拆分。例如通讯录表如果一个人既有公司电话又有家庭电话应该定义两个字段进行区分，而不是定义一个字段。</p>
<table><tr><td>姓名</td><td>*家庭号码*</td><td>*公司电话号码*</td></tr></table>


<h3 id="第二范式"><a href="#第二范式" class="headerlink" title="第二范式"></a>第二范式</h3><ul>
<li>必须满足第一范式。</li>
<li>每一个表必须有一个主键。</li>
<li>非主键字段必须全部依赖主键，不能只部分依赖主键。<br>假如有以下的订单详情信息：</li>
</ul>
<table><tr><td>订单ID</td><td>商品ID</td><td>商品名称</td><td>购买数量</td></tr></table>

<p>显然订单<strong>ID+商品ID</strong>为主键，其中购买数量字段依赖于主键，但是商品名称字段只依赖于商品ID字段，因此不满足第二范式。</p>
<h3 id="第三范式"><a href="#第三范式" class="headerlink" title="第三范式"></a>第三范式</h3><ul>
<li>必须满足第二范式。</li>
<li>不存在传递依赖，也就是不存在非主字段A依赖于非主字段B，非主字段B依赖于主键字段。</li>
</ul>
<p>假如有以下的订单汇总信息：</p>
<table><tr><td>订单ID</td><td>订单总金额</td><td>用户ID</td><td>用户名称</td></tr></table>

<p>显然<strong>订单ID</strong>可以作为主键，表示一个订单的汇总信息，用户ID依赖于订单ID，用户名称依赖于用户名称，不满足第三范式。（把用户名称从表中移除就满足要求）</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>除了以上三种范式，还有BCNF范式，第四范式，第五范式。越往后数据库的冗余越小。冗余越少越容易进行更新，并且保证数据的一致性。冗余越多越方便查询，不需要进行表的关联，实际应用中应该根据实际情况进行处理，如果一个字段的更新场景不多，适当的冗余也是可以的，尤其是不允许更新但是查询多的字段。</p>
<h2 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h2><ul>
<li><p>A: 原子性，事务中的操作相当于一个原子操作要么全部成功要么全部回滚，不存在一部分操作成功的情况。（mysql中通过redo日志保证）。</p>
</li>
<li><p>C：一致性，事务把数据库从一个一致的情况转移到另外一个一致的情况，事务前后数据库属于一致的情况，例如不会因为事务导致数据库的唯一约束被打破。</p>
</li>
<li><p>I：隔离性，多个事务之间的操作不相互影响，一个事物的操作对另一个事物不可见。（与具体的隔离级别有关系）。</p>
</li>
<li><p>D：持久性，事物一旦提交即是持久的，不会因为数据库的宕机而导致数据丢失。（如果是对应的磁盘有问题，还是会导致数据丢失，属于高可用的范畴）</p>
</li>
</ul>
<h3 id="隔离级别"><a href="#隔离级别" class="headerlink" title="隔离级别"></a>隔离级别</h3><ul>
<li><p>读未提交：事务2可以读到事务1没有提交的数据，也就是会出现脏读现象。一般不会设置为该级别。</p>
</li>
<li><p>读可提交：事务2可以读到事务1已经提交的数据，但是会出现事务2的同一个语句在事务1提交前后的结果不一致，出现不可重复读的现象[会出现同一条数据前后两次获取的内容不一致]。（oracle的默认级别）</p>
</li>
<li><p>可重复读：事物2的同一个语句在事物的整个过程中读到的内容是一致的，但是会出现幻读的情况[主要是针对数据有新增或删除的情况，记录的条数有变化]。（mysql默认级别）</p>
</li>
<li><p>串行化：事务只能串行执行，一次只允许一个事务。</p>
</li>
</ul>
<p><sub>mysql默认为RR的原因是避免在statement复制时的不一致性。（binlog中是按事物提交时间记录日志，如果第二个事务修改的数据导致第一个事务更新的数据发生变化就会有问题）。<em>mysql的可重复读，通过间隙锁不会出现幻读的情况，具体见后续的内容</em></sub></p>
<h2 id="mysql数据库相关内容"><a href="#mysql数据库相关内容" class="headerlink" title="mysql数据库相关内容"></a>mysql数据库相关内容</h2><p>以下内容是针对mysql数据库的一些笔记，主要是涉及到innodb引擎。</p>
<h3 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h3><p>mysql的innodb引擎中表是索引组织表。（聚簇索引）</p>
<ul>
<li><p>主键索引中，非叶子节点存放的是主键的信息，叶子节点存的是对应的数据信息。（如果没有主键，则默认使用第一个定义的非空的唯一索引，如果不满足条件则会数据库内部生成一个字段当做索引）</p>
</li>
<li><p>辅助索引中，非叶子节点存放的是索引的信息，叶子节点存放对应索引的主键值。<br>（组合索引中非叶子节点存放的是组合索引对应的多个字段的信息）</p>
</li>
</ul>
<p><sub>1. 索引一般是3层左右，通过主键查询数据时最多需要3次磁盘IO，如果是通过辅助索引则需要6次磁盘IO，先通过辅助索引找到对应的主键，再通过主键查询获取数据。（IOPS按60算，通过主键查找大概需要50ms，辅助索引则需要100ms)</sub></p>
<p><sub>2. innodb中默认一个页是16K，如果一条数据为1k则叶子节点的一页可以存16条数据，如果主键为long类型占8字节，加上一个6字节的指针，则一个非叶子节点可以存16K/14=1170个主键和对应的指针，则一个2层的索引可以存1170*16=18720条数据。一个三层的索引可以存2000万的数据。</sub></p>
<h3 id="锁"><a href="#锁" class="headerlink" title="锁"></a>锁</h3><p>按锁定的对象可以分为表锁和行锁。<br>其中表锁有:IS,IX,S,X,AI锁。<br>行锁有:S,X。</p>
<h4 id="表锁"><a href="#表锁" class="headerlink" title="表锁"></a>表锁</h4><p>表锁的类型如下：</p>
<ul>
<li><p>IS（LOCK_IS）：为意向共享锁，事务在获得记录的S锁时，必须在表上获取IS锁或者在表上加比IS锁更强的锁。</p>
</li>
<li><p>IX(LOCK_IX)：为意向排他锁，事务在获得记录的X锁时，必须在表上获得IX锁或者在表上加比IX锁更强的锁。</p>
</li>
<li><p>S(LOCK_S)：表共享锁。</p>
<ol>
<li>当会话为非自动提交时，执行<strong>lock table <em>tablename</em> read</strong>时加共享锁。</li>
<li>在DDL的第一个阶段，如果DDL不能在线执行，则对表加共享锁。</li>
</ol>
</li>
<li><p>X(LOCK_X)：表排它锁。</p>
<ol>
<li>当会话为非自动提交时，执行<strong>lock table <em>tablename</em> write</strong>时加排它锁。</li>
<li>在DDL的最后一个阶段，对表加排它锁，确保没有别的事物持有表级锁。</li>
<li>对某个表空间执行discard或者import操作时加排它锁。</li>
</ol>
</li>
<li><p>AI(LOCK_AUTO_INC)：自增长锁，锁的范围为SQL级别，SQL结束后即释放。(违反2PC原则),自增锁有以下三种模式。</p>
<ol>
<li>AUTOINC_OLD_STYLE_LOCKING：在分配前加AUTO_INC锁，sql结束时释放。</li>
<li>AUTOINC_NEW_STYLE_LOCKING：默认模式，在普通的insert或replace时，通过加锁并预留本次需要的增长值后释放锁。否则退化到LOCK_AUTO_INC锁。（会浪费一些自增加ID，例如SQL中本身提供了ID值的情况）</li>
<li>AUTOINC_NO_LOCKING：分配时加mutex，不会退化到传统模式，但是不能保证statement方式下的复制安全性。</li>
</ol>
</li>
</ul>
<p>锁的兼容性如下：</p>
<table>
<thead>
<tr>
<th>&nbsp;</th>
<th>IS</th>
<th>IX</th>
<th>S</th>
<th>X</th>
<th>AI</th>
</tr>
</thead>
<tbody><tr>
<td><strong>IS</strong></td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✗</td>
<td>✓</td>
</tr>
<tr>
<td><strong>IX</strong></td>
<td>✓</td>
<td>✓</td>
<td>✗</td>
<td>✗</td>
<td>✓</td>
</tr>
<tr>
<td><strong>S</strong></td>
<td>✓</td>
<td>✗</td>
<td>✓</td>
<td>✗</td>
<td>✗</td>
</tr>
<tr>
<td><strong>X</strong></td>
<td>✗</td>
<td>✗</td>
<td>✗</td>
<td>✗</td>
<td>✗</td>
</tr>
<tr>
<td><strong>AI</strong></td>
<td>✓</td>
<td>✓</td>
<td>✗</td>
<td>✗</td>
<td>✗</td>
</tr>
</tbody></table>
<ul>
<li>GAP类型的锁申请（非插入意向锁），不需等待任何锁，GAP锁本身互不冲突。</li>
<li>任何锁请求都不需要等待插入意向锁。</li>
</ul>
<p><sub>注:DDL语句可以认为分为<em>准备，执行，提交</em>三个阶段。</sub></p>
<sub>
说明:
Tx1: INSERT INTO t1 (c2) SELECT 1000 rows from another table ...
Tx2: INSERT INTO t1 (c2) VALUES ('xxx');
如果Tx2在Tx1中间执行，对通过statement进行binlog记录时会导致主从不一致，不能保证id字段是一样的。
</sub>  

<h4 id="行锁"><a href="#行锁" class="headerlink" title="行锁"></a>行锁</h4><p>锁的类型：</p>
<ol>
<li>LOCK_REC_NOT_GAP（记录锁）：只锁住对应的记录，不会锁记录之前的GAP。（RC隔离级别和唯一索引的RR级别一般加该锁）</li>
<li>LOCK_GAP（间隙锁）：只锁住一段空范围，通常是两个索引记录之间，或者是第一条记录之前，或者最后一条记录之后。（一般在RR隔离级别下会用到GAP锁）</li>
<li>LOCK_ORDINARY（NEXT_KEY_LOCK）：锁住记录和记录之前的间隙。</li>
</ol>
<p>锁的模式分为S锁和X锁：<br>S锁：共享锁，在以下场景中会增加S锁。</p>
<ul>
<li>在非自动提交并且隔离级别为serializable时，普通的select会加S锁。</li>
<li>select * from tablename for share model时会加S锁。<ul>
<li>RC隔离级别时：LOCK_REC_NOT_GAP|LOCK_S</li>
<li>RR隔离级别时：如果查询条件为唯一索引并且是唯一等值查询时加LOCK_REC_NOT_GAP|LOCK_S；非唯一索引或者查询会扫描多条记录时加LOCK_ORDINARY|LOCK_S锁，也就是记录本身和记录之前的GAP，以及下一条记录的GAP。</li>
</ul>
</li>
<li>通常insert操作不加锁，在插入时检查到duplicate key(或者有一个被标记为删除的duplicate key)，普通的insert会加LOCK_S锁，而REPLACE INTO 或者 INSERT … ON DUPLICATE的语句时加X锁。<ul>
<li>聚集索引，在小于等于RC隔离级别时加LOCK_REC_NOT_GAP类型的锁，否则加LOCK_ORDINARY模式的锁。</li>
<li>非聚集索引，默认应该和聚集索引一样，在5.7版本中总是加LOCK_ORDINARY类型的锁。</li>
</ul>
</li>
<li>外键检查，当删除一条父表上的记录时，需要检查是否有引用约束，会扫描子表上对应的记录，并加上S锁。<ul>
<li>如果被删除的值被子表引用，则子表加LOCK_REC_NOT_GAP|LOCK_S锁，并且一旦检查到就可以退出扫描，判断出错。</li>
<li>如果被删除的值没有被引用，则加LOCK_GAP|LOCK_S锁。（例外是被删除的值比子表对应的值都要大或者被扫描的记录标记为删除时加LOCK_ORDINARY|LOCK_S锁）</li>
</ul>
</li>
<li>insert … select 插入数据时，会对select的表上扫描到的数据加S锁[RC下不会加锁，RR下会加锁]。（同样update … where id in (select from b)时会对b表中的数据加S锁[RR和RC下都会加锁]）</li>
</ul>
<p><sub>说明：RC级别下一般只会锁住记录本身，RR级别下会锁住记录和记录前的间隙[唯一索引且是等值查询时例外，也只需要锁住记录即可，因为RR级别可以防止幻读]</sub></p>
<p>X锁：排他锁，在以下场景中加X锁。</p>
<ul>
<li>select … for update</li>
<li>update …</li>
<li>replace into</li>
<li>insert on duplicate key</li>
</ul>
<blockquote>
<p>插入意向锁是GAP锁的一种，多个插入意向锁之间不需要相互等待，在插入时会检查插入对象的下一条记录上是否有锁，如果下一条记录上存在锁，则需要判断该锁对象是否锁住了GAP，如果被锁住了，则需要等待。（RR隔离级别下通过GAP锁避免幻读）</p>
</blockquote>
<p><sub>说明：当通过主键进行更新时，会对主键上加锁，如果是通过二级索引进行更新时会对二级索引和主键索引都加锁，通过二级索引更新时二级索引RC级别下一般加LOCK_REC_NO_GAP锁（唯一索引例外），RR下对记录加LOCK_ORIDINAY锁并且对下一条记录加GAP锁，主键上加LOCK_REC_NO_GAP锁。加锁的过程为先扫描二级索引找到满足条件的数据，然后根据二级索引的内容[对应主键的值]查找主键对应的记录并加上锁。</sub></p>
<p><sub>说明：RC隔离级别下对不满足where条件的数据会被立刻释放掉[先加锁后释放，违法2PC原则]，但RR级别则会到事务结束才会释放。</sub></p>
<p>举例说明:</p>
<table>
<thead>
<tr>
<th>id</th>
<th>userid</th>
<th>pubtime</th>
<th>comment</th>
</tr>
</thead>
<tbody><tr>
<td>10</td>
<td>hdc</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>yyy</td>
<td>3</td>
<td></td>
</tr>
<tr>
<td>8</td>
<td>hdc</td>
<td>5</td>
<td>good</td>
</tr>
<tr>
<td>1</td>
<td>hdc</td>
<td>10</td>
<td></td>
</tr>
<tr>
<td>100</td>
<td>bbb</td>
<td>20</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>hdc</td>
<td>100</td>
<td></td>
</tr>
<tr>
<td><sub>标注：id为主键，pubtime和userid为联合索引</sub></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>在RC隔离级别下：delete from tablenam where pubtime &gt; 1 and pubtime &lt;20 and userid = ‘hdc’ and comment is not null;二级索引会对[5,hdc],<font color=red>[10,hdc]</font>的记录加X锁，主键索引会对[8],<font color=red>[1]</font>的记录加X锁，但是<font color=red>[10,hdc]和[1]</font>这个锁在事务结束前会被释放。（在index condition pushdown时二级索引的[3, yyy]这条记录不会加锁，对应的主键上的[4]也不会加锁,不支持ICP时这两条记录也会加锁。）</p>
<p>在RR隔离级别下：与RC隔离级别的区别为二级索引会加上GAP锁，并且<font color=red>[10,hdc]和[1]</font>锁在事务结束前不会释放。</p>
<p><sub>特例：ICP只有在通过索引能过滤数据时才能起作用，假如需要过滤的字段不在索引中则无法进行过滤，会加锁返回给server层。RC隔离级别有一定的优化，会提前释放不满足过滤条件的记录上的锁。</sub></p>
<blockquote>
<p>mysql中的MVCC通过回滚段实现，每一条数据有隐藏的字段指向之前的版本内容，另外存在快照读和当前读的区别，普通的select为快照读，但是对加x锁的读为当前读。因此在可重复读隔离级别下，select 和select for update读取到的数据是不一样的。</p>
</blockquote>
<h4 id="执行计划"><a href="#执行计划" class="headerlink" title="执行计划"></a>执行计划</h4><p>通过explain sql可以查看对应sql的执行计划，执行计划中各个字段含义如下。</p>
<pre>
<small>
+----+-------------+-------+------+---------------+------+---------+------+------+-------+
| id | select_type | table | type | possible_keys | key  | key_len | ref  | rows | Extra |
+----+-------------+-------+------+---------------+------+---------+------+------+-------+
|  1 | SIMPLE      | actor | ALL  | NULL          | NULL | NULL    | NULL |    3 | NULL  |
+----+-------------+-------+------+---------------+------+---------+------+------+-------+
</small>
</pre>


<ul>
<li><p>id：查询的序列号，表示查询中执行select子句或操作的顺序。id越大的优先级越高，越先执行，id相同的从上往下顺序执行。</p>
</li>
<li><p>select_type：查询的类型，用于区分普通查询，联合查询，子查询等复杂的查询。</p>
<ul>
<li>SIMPLE：简单的select查询，查询中不包含子查询和union。</li>
<li>PRIMARY：查询中包含任何复杂的查询时，最外层查询被标记为primary(例如select中有子查询，或者from中有子查询)。</li>
<li>SUBQUERY：在select或where列表中包含了子查询。</li>
<li>DERIVED：在from列表中包含的子查询被标记为derived，mysql或递归执行这些子查询，把结果放在临时表里。</li>
<li>UNION：若第二个select出现在union之后，则被标记为union，若union包含在from子句的子查询中，外层select将被标记为derived。</li>
<li>UNION RESULT：从union表获取结果的select</li>
</ul>
</li>
<li><p>type：访问类型，sql查询优化中很重要的指标，mysql决定如何查找表中的行，从好到坏依次是<strong>system</strong>&gt;<strong>const</strong>&gt;<strong>eq_ref</strong>&gt;<strong>ref</strong>&gt;fulltext&gt;ref_or_null&gt;index_merge&gt;unique_subquery&gt;index_subquery&gt;<br><strong>range</strong>&gt;<strong>index</strong>&gt;<strong>ALL</strong></p>
<ul>
<li>system：表示只有一行记录，是const类型的特例。例如select * from （select * from tablename where primarykey = 1），则最外面查询的访问类型为system，这种类型的访问类型一般不会出现。</li>
<li>const：表示通过索引一次就找到了，用于主键和唯一索引中，因为只需要匹配一行数据，所以很快(唯一索引中的等于查询，有多个值时会变成range即使走的是唯一索引)。</li>
<li>eq_ref：唯一索引扫描，对于每一个索引键，表中只有一条记录与之匹配，常见于两个表通过唯一索引关联时。</li>
<li>ref：非唯一性索引扫描，返回匹配某个<strong>单值</strong>的所有行。</li>
<li>range：只检索给定范围的行，使用一个索引来选择，key列显示用来哪个索引。一般在where语句中出现了between，&lt;,&gt;,in等的查询中，这种索引列上的范围比全索引扫描要好。</li>
<li>index：全索引扫描，与ALL的区别为index类型只需要遍历索引树。例如explain select id from tablename。</li>
<li>ALL：全表扫描。</li>
</ul>
</li>
<li><p>possible_keys：查询涉及到的字段上存在的索引，则对应的索引会被列出，但不一定被查询实际使用。</p>
</li>
<li><p>key：实际使用的索引，如果为NULL，则没有使用索引。<strong>查询中如果使用了覆盖索引（所有的字段都能从索引中获取），则该索引仅出现在key列表中</strong></p>
</li>
<li><p>key_len：表示索引中使用的字节数，查询中使用的索引长度，非实际使用的长度，理论上长度越短越好。[length计算规则，char(n)n字节，varchar(n)如果为utf-8则为3n+2,tinyint 1字节，smallint 2字节， int 4字节， bigint 8字节， date 3字节，timestamp 4字节，datetime 8字节，如果字段允许为null 需要1字节记录是否为null，单列索引最大长度为767字节，可以通过innodb_large_prefix最大调整到3072字节，并且加上row_format=compressed或者dynamic，联合索引最长为3072字节，与innodb默认为16k有关系]</p>
</li>
<li><p>ref：显示key列索引中，表查找值所用到的列(关联的字段)或常量(const)。</p>
</li>
<li><p>rows：根据表统计信息及索引使用情况，大致估算出找到所需记录所需要读取的行数。</p>
</li>
<li><p>Extra：十分重要的额外信息。</p>
<ul>
<li>Using filesort：对数据使用一个外部的索引排序，而不是按照表内的索引进行排序读取。通常在order by并且与索引中字段的顺序不一致时。</li>
<li>Using temporary：使用临时表保存中间结果，常见于order by，group by和distinct中。</li>
<li>Using index：表示相应的select操作使用了<strong>覆盖索引</strong>，避免了访问表的数据行，如果同时出现Using where，表示索引被用来执行索引键值的查找，如果没有出现Using where，表示索引用来读取数据而不是执行查找动作。</li>
</ul>
<p><sub>提示：覆盖索引中可以包括主键，因为辅助索引的值为主键</sub></p>
<ul>
<li>Using where：使用了where过滤</li>
<li>Using join buffer：使用了链接缓存</li>
<li>Impossible Where：表示where总是为false，获取不到任何数据</li>
<li>select tables optimized away：在没有group by子句的情况下，基于索引优化的min、max操作，不必等到执行阶段再进行计算，查询执行计划生成时就可以完成优化。</li>
<li>distinct：优化distinc操作，在找到第一个匹配的元组后停止找同样值的动作。</li>
</ul>
</li>
</ul>
<h4 id="隐式转换"><a href="#隐式转换" class="headerlink" title="隐式转换"></a>隐式转换</h4><ul>
<li>两个参数至少一个是NULL时，比较的结果也是NULL。例外是使用*&lt;=&gt;*对两个NULL做比较时返回1，这两种情况下都不需要做类型转换。</li>
<li>两个参数都是字符串，按照字符串来比较，不做类型转换。</li>
<li>两个参数都是整数，按照整数来比较，不做类型转换。</li>
<li>十六进制的值和非数字做比较时，被当做二进制串。</li>
<li>有一个参数是TIMESTAP或DATETIME，并且另外一个参数是常量，常量会被转换为timestamp。</li>
<li>有一个参数是decimal类型，如果另外一个参数是decimal或者整数，将整数转换为decimal后进行比较。如果另外一个是浮点数，将decimal转换为浮点数进行比较。</li>
<li>所有其他情况下，两个参数都会被转换为浮点数进行比较。</li>
</ul>
<p><sub>注意：如果字段的字符集不一样也会导致索引失效，例如一个表用的utf8，另外一个表用utf8mb4。</sub></p>
<blockquote>
<p>explain extended 会在explain的基础上额外提供一些查询优化信息，紧随其后通过show warnings可以得到优化后的查询语句。还会有一个filtered列，是一个半分比的值，rows*filtered/100可以估算出和前一个表进行连接的行数。<br>explain partitions 如果是分区表，则会显示查询将访问的分区。<br>order by ,group by尽量用到索引，并且按照索引创建的顺序进行排序（匹配最左原则）。group by会先进行排序因此与order by一样，理论上group by的值和字段的顺序没关系，但是mysql也不会自动调整字段顺序以便走索引。（最左前缀匹配在oracle中还支持INDEX SKIP SCAN，当第一个字段的值只有几种类型时也可能会优化走索引）</p>
</blockquote>
<h4 id="in和exists的区别"><a href="#in和exists的区别" class="headerlink" title="in和exists的区别"></a>in和exists的区别</h4><p>sql表关联时的原则是小表驱动大表，尽量使外循环的数据量少，因为一般关联时会建立索引，因此在10万条数据中找1条数据和在1万条数据中找1条数据区别不大。因此当外循环数据少时速度更快。<br>以下两个sql返回值是一样的，只是写法不一样，一种用in一种用exists。</p>
<ol>
<li>select * from table_a a where a.id in (<em>select id from table_b b</em>);</li>
<li>*select * from table_a* a where exists (select 1 from table_b b where b.id = a.id);</li>
</ol>
<p>不同之处是红色字体的语句会先执行，因此当table_a比table_b数据量大很多时 in会效率高，反过来时exists高。</p>
<h3 id="left-join-时-on和where的区别"><a href="#left-join-时-on和where的区别" class="headerlink" title="left join 时 on和where的区别"></a>left join 时 on和where的区别</h3><p>假如有actor和film_actor两个表，表的数据如下：</p>
<pre>
select * from actor;
+----+------+---------------------+
| id | name | update_time         |
+----+------+---------------------+
|  1 | a    | 2017-12-22 15:27:18 |
|  2 | b    | 2017-12-22 15:27:18 |
|  3 | c    | 2017-12-22 15:27:18 |
+----+------+---------------------+
</pre>
<pre>
select * from film_actor;
+----+---------+----------+--------+
| id | film_id | actor_id | remark |
+----+---------+----------+--------+
|  1 |       1 |        1 | NULL   |
|  2 |       1 |        2 | NULL   |
|  3 |       2 |        1 | NULL   |
+----+---------+----------+--------+
</pre>
<pre>
select * from actor a left join film_actor f on a.id = f.actor_id;
+----+------+---------------------+------+---------+----------+--------+
| id | name | update_time         | id   | film_id | actor_id | remark |
+----+------+---------------------+------+---------+----------+--------+
|  1 | a    | 2017-12-22 15:27:18 |    1 |       1 |        1 | NULL   |
|  2 | b    | 2017-12-22 15:27:18 |    2 |       1 |        2 | NULL   |
|  1 | a    | 2017-12-22 15:27:18 |    3 |       2 |        1 | NULL   |
|  3 | c    | 2017-12-22 15:27:18 | NULL |    NULL |     NULL | NULL   |
+----+------+---------------------+------+---------+----------+--------+
</pre>

<pre>
select * from actor a left join film_actor f on a.id = f.actor_id  and a.name = 'a';
+----+------+---------------------+------+---------+----------+--------+
| id | name | update_time         | id   | film_id | actor_id | remark |
+----+------+---------------------+------+---------+----------+--------+
|  1 | a    | 2017-12-22 15:27:18 |    1 |       1 |        1 | NULL   |
|  1 | a    | 2017-12-22 15:27:18 |    3 |       2 |        1 | NULL   |
|  2 | b    | 2017-12-22 15:27:18 | NULL |    NULL |     NULL | NULL   |
|  3 | c    | 2017-12-22 15:27:18 | NULL |    NULL |     NULL | NULL   |
+----+------+---------------------+------+---------+----------+--------+
</pre>
<pre>
select * from actor a left join film_actor f on a.id = f.actor_id  where a.name = 'a';
+----+------+---------------------+------+---------+----------+--------+
| id | name | update_time         | id   | film_id | actor_id | remark |
+----+------+---------------------+------+---------+----------+--------+
|  1 | a    | 2017-12-22 15:27:18 |    1 |       1 |        1 | NULL   |
|  1 | a    | 2017-12-22 15:27:18 |    3 |       2 |        1 | NULL   |
+----+------+---------------------+------+---------+----------+--------+
</pre>

<small>
由上面的结果可知left join 时where和on是有区别的，因为left join时左表的数据是需要都显示出来的，因此on条件只会影响哪些数据需要和右表关联，但是不会对结果数据进行过滤，如果需要过滤数据需要用where。
</small>

]]></content>
      <tags>
        <tag>mysql</tag>
        <tag>index</tag>
      </tags>
  </entry>
  <entry>
    <title>信息的表示和处理</title>
    <url>/2015/01/17/2015-01-27-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F-%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/</url>
    <content><![CDATA[<ul id="tree" class="ztree"></ul>

<h1 id="信息的表示和处理"><a href="#信息的表示和处理" class="headerlink" title="信息的表示和处理"></a>信息的表示和处理</h1><p>现代计算机存储和处理信息以二值信号表示(bit).对于有10个手指的人类来说,使用十进制表示法是很自然的事情,但是当构造存储和处理信息的机器时,二进制的值工作得更好.</p>
<p>单个的位不是非常有用,但是把位组合起来,再加上某种解释(interpretation),即给不同的可能位模式赋予含义,我们能够表示任何有限集合的元素.</p>
<p>浮点运算有完全不同的数学属性.虽然溢出会产生特殊的值正无穷大,但是一组正数的乘积总是正的.由于表示的精度有限,浮点运算是不可结合的.例如:(3.14+1e20) - 1e20 求得的值会是0.0,而3.14+(1e20-1e20)的值为3.14.</p>
<p>整数虽然只能编码一个相对较小的数值范围,但是这种表示是精确的,而浮点数虽然可以编码一个较大的数值范围,但是这种表示只是近似的.</p>
<h2 id="信息存储"><a href="#信息存储" class="headerlink" title="信息存储"></a>信息存储</h2><p>大多数计算机使用8位的块,或者字节(byte),作为最小的可寻址的存储器单元.</p>
<h3 id="十六进制表示法"><a href="#十六进制表示法" class="headerlink" title="十六进制表示法"></a>十六进制表示法</h3><p>一个字节由8位组成.二进制表示中其值域为$00000000_2 \sim 11111111_2$;如果用十进制表示就是$0_{10} \sim 255_{10}$.二进制表示法太冗长,十进制和二进制相互转换很麻烦.以16为基数来表示位模式.用十六进制表示时为$00_{16} \sim FF_{16}$.</p>
<p>当值$x=2^n$时,很容易把$x$写成16进制.$n=i+4 \times j$,i为0,1,2,3时,分别对应1,2,4,8.后面跟j个十六进制的0.例如$x=2048=2^{11}$.因此$n=11=3+2 \times 4$,从而十六进制表示为0X800.</p>
<h3 id="字"><a href="#字" class="headerlink" title="字"></a>字</h3><p>每台计算机都有一个字长(word size),指明整数和指针数据的标称大小(nominal size).虚拟地址是以这样的一个字来编码的,所以字长决定的最重要的系统参数就是虚拟地址空间的最大大小.对于一个字长为w位的机器而言,虚拟地址的范围为$0 \sim 2^{w}-1$,程序最多访问$2^w$个字节.</p>
<p>大多数计算机的字长都是32位,限定了虚拟地址空间为4GB.</p>
<h3 id="数据大小"><a href="#数据大小" class="headerlink" title="数据大小"></a>数据大小</h3><p>计算机和编译器支持多种不同方式编码的数字格式,例如整数和浮点数,以及其他长度的数字.</p>
<p>C语言中数字数据类型的字节数</p>
<table>
<thead>
<tr>
<th>C声明</th>
<th>32位机器</th>
<th>64位机器</th>
</tr>
</thead>
<tbody><tr>
<td>char</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>short int</td>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>int</td>
<td>4</td>
<td>4</td>
</tr>
<tr>
<td>long int</td>
<td>4</td>
<td>8</td>
</tr>
<tr>
<td>long long int</td>
<td>8</td>
<td>8</td>
</tr>
<tr>
<td>char *</td>
<td>4</td>
<td>8</td>
</tr>
<tr>
<td>float</td>
<td>4</td>
<td>4</td>
</tr>
<tr>
<td>double</td>
<td>8</td>
<td>8</td>
</tr>
</tbody></table>
<p>程序员应该力图使他们的程序在不同的机器和编译器上是可移植的.(一方面就是对不同数据类型的确切大小不敏感)</p>
<h3 id="寻址和字节顺序"><a href="#寻址和字节顺序" class="headerlink" title="寻址和字节顺序"></a>寻址和字节顺序</h3><p>对于跨越多个字节的程序对象,需要有两个规则:这个对象的地址是什么,以及在存储器中如何排列这些字节.</p>
<p>在几乎所有的机器上,多个字节对象都被存储为连续的字节序列,<em>对象的地址为所使用字节中最小的地址</em>.</p>
<p>考虑一个w位的整数,位表示为:$$[x_{w-1},x_{w-2},…,x_1,x_0]$$其中$x_{w-1}$是最高有效位,而$x_0$是最低有效位.假设w是8的倍数,这些就能被分组成为字节,其中高有效字节包含位$[x_{w-1}, x_{w-2},…,x_{w-8}]$,而最低有效字节包含位$[x_7,x_6,…,x_0]$.</p>
<ul>
<li>小端法(little endian):最低有效字节在最前面,地址位置为最低有效字节.</li>
<li>大端法(big endian):最高有效字节在最前面,地址位置为最高有效字节.</li>
</ul>
<blockquote>
<p>不管是小端法还是大端法地址空间是按从小到大存放的,例如一个int占4个字节假如地址为0X100,则地址范围为0X100到0X103,假如存放值为0X01234567则小端法表示则地址空间从100到1003分别存放67|45|23|01.大端法则为01|23|45|67</p>
</blockquote>
<h3 id="表示字符串"><a href="#表示字符串" class="headerlink" title="表示字符串"></a>表示字符串</h3><p>在使用ASCII码作为字符码的任何系统上都将得到相同的结果,与字节顺序和字大小规则无关.因而文本数据比二进制数据具有更强的平台独立性.</p>
<p><strong>生成一张ASCII表</strong><br><em>通过执行man ascii 就可以得到</em></p>
<h3 id="表示代码"><a href="#表示代码" class="headerlink" title="表示代码"></a>表示代码</h3><p>考虑下面的C函数</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当我们在示例机器上编译时,生成如下字节表示的机器代码:</p>
<p><strong>Linux 32:</strong>&emsp; 55 89 e5 8b 45 0c 03 45 08 c9 c3</p>
<p><strong>Windows:</strong>&emsp;55 89 e5 8b 45 0c 03 45 08 c9 c3</p>
<p><strong>Sun:</strong>&emsp;&emsp;&emsp;81 c3 e0 08 90 02 00 09</p>
<p><strong>Linux 64:</strong>&emsp; 55 48 89 e5 89 7d fc 89 75 f8 03 45 fc c9 c3</p>
<p>不同的机器类型使用不同的且不兼容的指令和编码方式.二进制代码很少能在不同机器和操作系统组合之间移植.</p>
<h3 id="布尔代数简介"><a href="#布尔代数简介" class="headerlink" title="布尔代数简介"></a>布尔代数简介</h3><p>二进制值是计算机编码,存储和操作信息的核心,围绕数值0和1的研究已经演化出了丰富的数学知识体系.</p>
<p>可以将布尔运算扩展到<em>位向量</em>,位向量就是有固定长度为w,由0和1组成的串.位向量的运算可以定义成参数的每个对应元素之间的运算,假设a和b分别表示位向量$$[a_{w-1},a_{w-2},…,a_0]$$和$$[b_{w-1},b_{w-2},…,b_0]$$将a&amp;b也定义为一个长度为w的位向量,其中第i个元素等于$a_i &amp; b_i $, $ 0 \leq i &lt; w $.可以用类似的方式将运算 |,^,和~扩展到位向量上.</p>
<blockquote>
<p>布尔代数和整数算术运算有很多相似之处,乘法对加法的分配率$a \times (b+c) = a \times b + a \times c$,布尔运算中的&amp;对|的分配率$a &amp; (b | c) = (a &amp; b) | (a &amp; c)$.<br>$x+(-x) = 0 $,布尔运算有$a \land a=0$</p>
</blockquote>
<h3 id="C语言中的位运算"><a href="#C语言中的位运算" class="headerlink" title="C语言中的位运算"></a>C语言中的位运算</h3><p>确定一个位级表达式的结果最好的方法,就是将十六进制的参数扩展成二进制表示并执行二进制运算,然后再转换回十六进制.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inplace_swap</span><span class="params">(<span class="keyword">int</span> *x, <span class="keyword">int</span> *y)</span> </span>&#123;</span><br><span class="line">    *y = *x ^ *y;</span><br><span class="line">    *x = *x ^ *y;</span><br><span class="line">    *y = *x ^ *y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>位级运算的一个常见用法就是实现掩码运算,从一个字中选出的位的集合.表达式~0将生成一个全1的掩码,不管机器的字大小是多少.如果写成0XFFFFFFFF,对32位机器来说是一样的,但是会导致代码不可移植.</p>
<h3 id="C语言中的逻辑运算"><a href="#C语言中的逻辑运算" class="headerlink" title="C语言中的逻辑运算"></a>C语言中的逻辑运算</h3><p>逻辑运算认为所有非零的参数都是TRUE,而参数0表示FALSE.返回1或者0,分别表示结果为TRUE或者FALSE.</p>
<p>按位运算只有在特殊情况下,就是参数被限定为0或者1时,才和其对应的逻辑运算有相同的行为.<br>逻辑运算和位运算的一个重要区别就是逻辑运算是短路的.</p>
<h3 id="C语言中的移位运算"><a href="#C语言中的移位运算" class="headerlink" title="C语言中的移位运算"></a>C语言中的移位运算</h3><p>对一个位表示为$$[x_{n-1},x_{n-2},…,x_0]$$的操作数,C表达式$x \ll k$会生成一个值,表示为$$[x_{n-k-1},x_{n-k-2},…,x_0,0,…,0]$$x向左移动k位,丢弃最高的k位,在右端补k个0.移位量应该是一个$0 \sim n-1$之间的值.移位运算是从左至右可结合的.所以$x \ll j \ll k等价于(x \ll j) \ll k$.</p>
<p>与左移相对应的有一个右移,一般机器支持两种形式的右移:逻辑右移和算术右移.</p>
<ul>
<li>逻辑右移:在左端补k个0.$[0,…,0,x_{n-1},x_{n-2},…,x_k]$</li>
<li>算术右移:在左端补k个最高有效位的值.$[x_{n-1},…,x_{n-1},x_{n-1},x_{n-2},…,x_k]$</li>
</ul>
<p>C语言标准没有明确定义应该使用哪种类型的右移,对于无符号数据,右移必须是逻辑的.而对于有符号数,算术或者逻辑的右移都可以.实际上,几乎所有的编译器/机器组合对有符号数据使用算术右移.</p>
<blockquote>
<p>注意,移动k位,$k \geq w$时,java中有保证是按取模计算后的结果,c中没有保证,最好能保证$k &lt; w$</p>
</blockquote>
<h2 id="整数表示"><a href="#整数表示" class="headerlink" title="整数表示"></a>整数表示</h2><h3 id="整型数据类型"><a href="#整型数据类型" class="headerlink" title="整型数据类型"></a>整型数据类型</h3><p>C语言支持多种整型数据类型.</p>
<p>32位机器上C语言的整型数据类型取值范围</p>
<table>
<thead>
<tr>
<th>C数据类型</th>
<th>最小值</th>
<th>最大值</th>
</tr>
</thead>
<tbody><tr>
<td>char</td>
<td>-128($-2^7$)</td>
<td>127($2^7-1$)</td>
</tr>
</tbody></table>
<h3 id="无符号数的编码"><a href="#无符号数的编码" class="headerlink" title="无符号数的编码"></a>无符号数的编码</h3><p>假设一个整数数据类型有w位,可以将位向量写成$\vec x$,把$\vec x$看做一个二进制表示的数,就获得了$\vec x$的无符号表示,用一个函数$B2U_w$表示.</p>
<p>$$B2U_w(\vec x) \doteq \sum_{i=0}^{w-1}x_i2^i$$</p>
<p>函数$B2U_w$将一个长度为w的0,1串映射到非负整数.</p>
<p>$$B2U_4([0001])=0 \cdot 2^3+0 \cdot 2^2+0 \cdot 2^1+1 \cdot 2^0=0+0+0+1=1$$</p>
<p>$$B2U_4([0101])=0 \cdot 2^3+1 \cdot 2^2+0 \cdot 2^1+1 \cdot 2^0=0+4+0+1=5$$</p>
<p>考虑下w位所能表示的值的范围,最小值是用位向量[00…0]表示,对应整数0,最大值用位向量[11…1]表示,对应整数值$UMax_w \doteq \sum_{i=0}^{w-1}2^i=2^w-1$.例如$UMax_4=B2U_4([1111])=2^4-1=15$</p>
<blockquote>
<p>每一个介于\(0 \sim 2^w - 1\)之间的无符号数都有唯一一个w位的值编码.</p>
</blockquote>
<h3 id="补码编码"><a href="#补码编码" class="headerlink" title="补码编码"></a>补码编码</h3><p>最常用的有符号数的计算机表示方式就补码(two’s-complement)形式.字的最高有效位解释为负权(negative weight).用函数$B2T_w$表示:</p>
<p>$$B2T_w(\vec x) \doteq -x_{w-1}2^{w-1}+ \sum_{i=0}^{w-2}x_i2^i$$</p>
<p>最高有效位$x_{w-1}$称为符号位,其权重为$-2^{w-1}$.</p>
<p>$$B2T_4([0101])=-0 \cdot 2^3+1 \cdot 2^2 + 0 \cdot 2^1 + 1 \cdot 2^0 = 0+4+0+1=5$$</p>
<p>$$B2T_4([1111])=-1 \cdot 2^3 + 1 \cdot 2^2 + 1 \cdot 2^1 + 1 \cdot 2^0 = -8 + 4 + 2 + 1 = -1$$</p>
<p>w位补码所能表示的范围,最小值是位向量[10…0]$$TMin_w \doteq -2^{w-1}$$最大值是位向量[01…1]$$TMax_w \doteq \sum_{i=0}^{i=w-2}2^i \doteq 2^{w-1}-1$$</p>
<blockquote>
<p>每一个介于$TMin_w \sim TMax_w$之间的数字都有一个长度为w的位模式对应.</p>
</blockquote>
<p>补码的范围是不对称的:|$TMin$|=|$TMax$| + 1.$TMin$没有对应的正数,因为一半的位模式表示负数,而一半的数表示非负数,因为0是非负数,意味着正数比负数少一个.因此出现对最小值的绝对值还是负数的情况.</p>
<blockquote>
<p>java中Math.abs(Integer.MIN_VALUE) == Integer.MIN_VALUE 返回true</p>
</blockquote>
<p>最大的无符号数比补码的最大值的两倍大一:$$UMax_w = 2 \cdot TMax_w + 1$$补码表示中所有的负数位模式在无符号中都表示成了正数.</p>
<h3 id="有-无符号数之间的转换"><a href="#有-无符号数之间的转换" class="headerlink" title="有/无符号数之间的转换"></a>有/无符号数之间的转换</h3><p>C语言允许在各种不同的数字数据类型之间做强制类型转换.例如x声明为int,u声明为unsigned.表达式(unsigned)x会将x的值转换成一个无符号数值.而(int)u将u的值转化成一个有符号整数.</p>
<p>对C语言的实现来说,这个问题的回答都是从位级角度来看,而不是从数的角度.</p>
<blockquote>
<p>强制类型转换的结果保持位值不变,只是改变了解释这些位的方式.</p>
</blockquote>
<p>对大多数C语言的实现而言,处理同样字长的有符号数和无符号数之间相互转换的一般规则是:数值可能会变化,但是位模式不变.<br>因为$$B2U_w和B2T_w$$都是双射,定义$$U2B_w和T2B_w$$为其对应的逆映射.这些逆映射给出了一个数值的无符号或者补码的位模式.</p>
<p>定义$$U2T_w(x) \doteq B2T_w(U2B_w(x))$$函数的输入是一个$$0 \sim 2^w -1$$之间的数,结果是一个$$-2^{w-1} \sim 2^{w-1} - 1$$之间的值.</p>
<p>类似的$$T2U_w(x) \doteq B2U_2(T2B_w(x))$$</p>
<p>$$\begin{aligned}B2U_w(\vec x) - B2T_w(\vec x) &amp;= \sum_{i=0}^{w-1}x_i2^i - (-x_{w-1}2^{w-1} + \sum_{i=0}^{w-2}x_i2^i)\\ &amp;= x_{w-1}2^{w-1} + x_{w-1}2^{w-1}\\ &amp;= x_{w-1}2^w<br>\end{aligned}$$</p>
<p>即:$$B2U_w(\vec x) = x_{w-1}2^w + B2T_w(\vec x)$$</p>
<p>如果令$$\vec x = T2B_w(x)$$就得到下面的公式:</p>
<p>$$B2U_w(T2B_w(x)) = T2U_w(x) = x_{w-1}2^w + x$$</p>
<p>在x的补码中,位$x_{w-1}$决定了x是否为负,得到:</p>
<p>$$<br>T2U_x(x)=<br>\begin{cases}<br>&amp;x + 2^w, &amp;x &lt; 0 \\<br>&amp;x,&amp;x \ge 0<br>\end{cases}<br>$$</p>
<p>对T2U来说,当将一个有符号数映射为它相应的无符号数时,负数就转换成了大的正数,而非负数会保持不变.</p>
<p>反过来推导一个$$U2T_w(u)$$的关系,由之前的公式可知<br>$$B2T_w{\vec u} = B2U_w{\vec u} - u_{w-1}2^w$$如果设置$$\vec u = U2B_w(u)$$则有:</p>
<p>$$B2T_w(U2B_w(u)) = u - u_{w-1}2^w$$</p>
<p>在u的无符号表示中,位$u_{w-1}$决定了u是否大于或者等于$2^{w-1}$,得到:</p>
<p>$$U2T_w(u)=<br>\begin{cases}<br>&amp;u,&amp;x&lt;2^{w-1} \\<br>&amp;u-2^w,&amp;u \ge 2^{w-1}<br>\end{cases}<br>$$</p>
<p>**总结:**无符号数与补码表示之间互相转换的结果,对于$$0 \le x &lt; 2^{w-1}$$范围之内的值x而言,得到$$T2U_w(x) = x 和 U2T_w(x) = x$$这个范围内的数字有相同的无符号和补码表示.对于这个范围之外的数值,转换需要加上或者减去$2^w$.</p>
<p>例如:$$T2U_w(-1) = -1 + 2^w = UMax_w$$最靠近0的负数映射为最大的无符号数.</p>
<p>$$T2U_w(TMin_w) = -2^{w-1} + 2^w = 2^{w-1} = TMax_w + 1$$最小的负数映射为一个刚好在补码的正数范围之外的无符号数.</p>
<h3 id="C语言中有-无符号数转换"><a href="#C语言中有-无符号数转换" class="headerlink" title="C语言中有/无符号数转换"></a>C语言中有/无符号数转换</h3><p>C语言允许无符号数和有符号数之间的转换,转换的原则是底层的位表示保持不变.</p>
<h3 id="扩展一个数字的位表示"><a href="#扩展一个数字的位表示" class="headerlink" title="扩展一个数字的位表示"></a>扩展一个数字的位表示</h3><p>一种常见的运算是在不同字长的整数之间转换,同时又保持数值不变.如果目标数据类型太小以至于不能表示想要的值时,这是不可能的.从一个较小的数据类型转换到一个较大的类型时,应是可能的.</p>
<blockquote>
<p>将一个无符号数转换成一个更大的数据类型时,只需要做零扩展即可.(zero extension).<br>将一个补码数字转换成一个更大的数据类型时,只需要执行符号扩展即可.(sign extension).添加最高有效位的副本即可.</p>
</blockquote>
<p>C语言中是先改变大小,后进行符号的转变,例如把short转换成unsigned时,先扩展到int类型再转换成无符号类型.(unsigned) sx 等价于 (unsigned)(int)sx.</p>
<h3 id="截断数字"><a href="#截断数字" class="headerlink" title="截断数字"></a>截断数字</h3><p>将一个w位的数截断为一个k位数字时,丢弃高w-k位.截断一个数字可能会改变它的值(相当于溢出).</p>
<blockquote>
<p>对无符号数字x,截断到k位,相当于计算$x mod 2^k$.</p>
</blockquote>
<p>$$\begin{aligned} B2U_w([x_{w-1},x_{w-2},…,x_0]) mod 2^k &amp;=[\sum_{i=0}^{w-1}x_i2^i] mod 2^k\\<br>&amp;=\sum_{i=0}^{k-1}x_i2^i \\<br>&amp;=B2U_k([x_{k-1},x_{k-2},…,x_0])<br>\end{aligned}$$</p>
<p>类似的:</p>
<p>$$B2T_k([x_{k-1},x_{k-2},…,x_0])=U2T_k(B2U_w([x_{w-1},x_{w-2},…,x_0]) mod 2^k)$$</p>
<p><em>C语言中有符号数和无符号式一起运算时是当做无符号数处理.</em></p>
<h2 id="整数运算"><a href="#整数运算" class="headerlink" title="整数运算"></a>整数运算</h2><p>因为计算机运算的有限性会造成两个正数相加得到一个负数,表达式x&lt;y和x-y&lt;0会有不一样的结果.</p>
<h3 id="无符号加法"><a href="#无符号加法" class="headerlink" title="无符号加法"></a>无符号加法</h3><p>两个非负整数x和y,满足$0 \le x,y \le 2^w -1$每一个数都是w位的无符号数字.如果计算他们的和,得到$0 \le x + y \le 2^{w+1} -2 $.可能需要w+1位.</p>
<p>无符号运算可以被视为一种模运算,无符号加法等价于计算和模上$2^w$,通过简单的丢弃w+1表示的最高位.</p>
<p>定义参数x和y的运算$+\frac{u}{w},0 \le x, y &lt; 2^w$:</p>
<p>$$x+\frac{u}{w}y=<br>\begin{cases}<br>&amp;x+y,&amp;x+y&lt;2^w\\<br>&amp;x+y-2^w,&amp;2^w \le x + y &lt; 2^{w+1}<br>\end{cases}<br>$$</p>
<p>C程序中,不会将溢出作为错误而发信号,有时可能希望判断是否发生了溢出.假设计算$s \doteq x \frac{u}{w}y$,判断s是否等于x+y.当且仅当s&lt;x(或者s&lt;y)时发生了溢出.因为$x + y \ge x$,如果没有溢出$s \ge x$.如果s确实溢出了有$s=x+y-2^w$,因为$y &lt; 2^w$,因此$y-2^w&lt;0$,因此$s=x+(y-2^w) &lt; x$.</p>
<p>模数加法形成了一种数学结构,称为阿贝尔群,它是可以交换和可结合的.它有一个单位元0,并且每个元素有一个加法逆元.对w位的无符号数的集合,执行加法运算$+\frac{u}{w}$对每一个值x,必然有某个值$-\frac{u}{w}x$,满足$-\frac{u}{w}x + \frac{u}{w}x=0$.</p>
<p>$$-\frac{u}{w}=<br>\begin{cases}<br>&amp;x,&amp;x=0\\<br>&amp;2^w-x,&amp;x&gt;0<br>\end{cases}<br>$$</p>
<h3 id="补码加法"><a href="#补码加法" class="headerlink" title="补码加法"></a>补码加法</h3><p>对于补码加法有$-2^{w-1} \le x,y \le 2^{w-1}-1$,于是有$-2^w \le x+y \le 2^w -2$,需要w+1位才能准确表示.与无符号数一样通过截断到w位表示.</p>
<p>两个数的w位补码之和与无符号之和有完全相同的位级表示.<br>定义$+\frac{t}{w}$为x+y的补码加法.</p>
<p>$$x+\frac{t}{w}y \doteq U2T_w(T2U_w(x)+\frac{u}{w}T2U_w(y))$$</p>
<p>进一步推断有:<br>$$<br>\begin{aligned}<br>x+\frac{t}{w}y&amp;=U2T_w(T2U_w(x) +\frac{u}{w} T2U_w(y))\\<br>&amp;=U2T_w[(x_{w-1}2^w + x + y_{w-1}2^w + y) mod 2^w]\\<br>&amp;=U2T_w[(x+y) mod 2^w]<br>\end{aligned}<br>$$</p>
<p>为了更好的理解,有如下的定义:</p>
<p>$$z \doteq x + y$$</p>
<p>$$z’ \doteq z  mod  2^w$$</p>
<p>$$z’’ \doteq U2T_w(z’)$$</p>
<p>这样$z’’=x+\frac{t}{w}y$,$-2^w \le z &lt; -2^{w-1}$.则$z’=z+2^w$,因此$0 \le z’ &lt; -2^{w-1} + 2^{w} =2^{w-1}$,因此$z’’=z’$,这种情况为负溢出,得到一个非负结果$z^n=x+y+2^w$.<br>如果$-2^{w-1} \le z &lt; 0$.则$z’=z+2^w$,因此$-2^{w-1} + 2^w=2^{w-1} \le z’ &lt; 2^{w}$,因此$z’’=z’-2^w=z+2^w-2^w=z$.<br>如果$0 \le z &lt; 2^{w-1}$,则$z’=z$,因此$0 \le z’ &lt; 2^{w-1}$,因此$z’’=z’=z$.<br>如果$2^{w-1} \le z &lt; 2^w$.则$z’=z$,因此$2^{w-1} \le z’ &lt; 2^w$.因此$z’’=z’-2^w=x+y-2^w$.</p>
<p>因此得出下面的结果:</p>
<p>$$<br>x+\frac{t}{w}y=<br>\begin{cases}<br>&amp;x+y+2^w,&amp;x+y &lt; -2^{w-1}\\<br>&amp;x+y,&amp;-2^{w-1} \le x+y &lt; 2^{w-1}\\<br>&amp;x+y-2^w,&amp;2^{w-1}\le x+y<br>\end{cases}<br>$$</p>
<blockquote>
<p>如果x,y都是正数,但是$x+\frac{t}{w}y &lt; 0$则正溢出.<br>如果x,y都是负数,但是$x+\frac{t}{w}y &gt;= 0$则负溢出.</p>
</blockquote>
<p>例如:5位参数时值应该是$[-16 \sim 15]$</p>
<table>
<thead>
<tr>
<th>x</th>
<th>y</th>
<th>x+y</th>
<th>$x+\frac{t}{w}y$</th>
<th>情况</th>
</tr>
</thead>
<tbody><tr>
<td>[10100]</td>
<td>[10001]</td>
<td>-12 + -15 = -27</td>
<td>-27 + 32 = 5</td>
<td>负溢出</td>
</tr>
<tr>
<td>[11000]</td>
<td>[11000]</td>
<td>-8 + -8 = -16</td>
<td>-16</td>
<td>正常</td>
</tr>
<tr>
<td>[10111]</td>
<td>[01000]</td>
<td>-9 + 8 = -1</td>
<td>-1</td>
<td>正常</td>
</tr>
<tr>
<td>[00010]</td>
<td>[00101]</td>
<td>2 + 5= 7</td>
<td>7</td>
<td>正常</td>
</tr>
<tr>
<td>[01100]</td>
<td>[00100]</td>
<td>12 + 4 = 16</td>
<td>16 - 32 = -16</td>
<td>正溢出</td>
</tr>
</tbody></table>
<blockquote>
<p><strong>特别要注意TMin因为-TMin=TMin</strong></p>
</blockquote>
<h3 id="补码的非"><a href="#补码的非" class="headerlink" title="补码的非"></a>补码的非</h3><p>对于$-2^{w-1} \le x &lt; 2^{w-1}$中的每一个数字x都有$+\frac{t}{w}$下的加法逆元.$x \ne -2^{w-1}$,其加法逆元就是-x.因为$-2^{w-1} &lt; x &lt; 2^{w-1}$,因此$-x+\frac{t}{w}x=-x+x=0$.<br>如果$x=-2^{w-1}=TMin_w$,则$-x=2^{w-1}$不能用一个w位的数.这个特殊值其本身就是它自己的加法逆元.</p>
<p>因此可以得出补码的非运算:</p>
<p>$$<br>-\frac{t}{w}x=<br>\begin{cases}<br>&amp;-2^{w-1},&amp;x=-2^{w-1}\\<br>&amp;-x,&amp;x&gt;-2^{w-1}<br>\end{cases}<br>$$</p>
<p>补码非的位级表示:</p>
<ol>
<li>全部取反后加1.</li>
<li>从右到左第一个1之后的左边的其他位全部取反.</li>
</ol>
<h3 id="无符号数乘法"><a href="#无符号数乘法" class="headerlink" title="无符号数乘法"></a>无符号数乘法</h3><p>两个w位的无符号数乘法,其乘积可能需要2w位来表示,C语言中无符号乘法定义为产生w位的值,因此只会保留乘积的低w位.等价于计算乘积模$2^w$.</p>
<p>$$x \cdot \frac{u}{w}y=(x \cdot y) mod 2^w$$</p>
<h3 id="补码乘法"><a href="#补码乘法" class="headerlink" title="补码乘法"></a>补码乘法</h3><p>同样对于w位的补码乘法,也需要2w位来表示,C语言中无补码的乘法也是通过截取低w位表示,与无符号具有相同的位结构.</p>
<p>$$x \cdot \frac{t}{w}y = U2T_w((x \cdot y) mod 2^w)$$</p>
<p>认为w位的向量$\vec x, \vec y$,无符号乘积$B2U_w(\vec x) \cdot \frac{u}{w}B2U_w(\vec y)$与补码乘积$B2T_w(\vec x) \cdot \frac{t}{w}B2T_w(\vec y)$具有相同的位级表示.</p>
<p>证明如下:</p>
<ol>
<li>假设$x=B2T_w(\vec x),y=B2T_w(\vec y)$是位模式表示的补码值.<br>&nbsp;&nbsp;$x’=B2U_w(\vec x), y’=B2U_w(\vec y)$是位模式表示的无符号值.</li>
<li>由之前的推断有$x’=x+x_{w-1}2^w,y’=y+y_{w-1}2^w$.计算后有如下的结果:</li>
</ol>
<p>$$<br>\begin{aligned}<br>(x’ \cdot y’)mod 2^w&amp;=[(x+x_{w-1}2^w)\cdot(y+y_{w-1}2^w)]mod 2^w\\<br>&amp;=[x \cdot y + (x_{w-1} + y_{w-1})2^w + (x_{w-1}y_{w-1}2^{2w})]mod2^w\\<br>&amp;=(x \cdot y)mod 2^w<br>\end{aligned}<br>$$</p>
<blockquote>
<p>w位数字上的无符号运算和补码运算是同构的—运算$+\frac{u}{w},-\frac{u}{w},\cdot\frac{u}{w}$和$+\frac{t}{w},-\frac{t}{w},\cdot\frac{t}{w}$在位级上有相同的结果.</p>
</blockquote>
<p>列子:</p>
<table>
<thead>
<tr>
<th>$模式$</th>
<th>$x$</th>
<th>$y$</th>
<th>$x \cdot y$</th>
<th>$截断后的x \cdot y$</th>
</tr>
</thead>
<tbody><tr>
<td>无符号</td>
<td>[100] 4</td>
<td>[101] 5</td>
<td>[10100] 20</td>
<td>[100] 4</td>
</tr>
<tr>
<td>补码</td>
<td>[100] -4</td>
<td>[101] -3</td>
<td>[01100] 12</td>
<td>[100] -4</td>
</tr>
<tr>
<td>无符号</td>
<td>[010] 2</td>
<td>[111] 7</td>
<td>[01110] 14</td>
<td>[110] 6</td>
</tr>
<tr>
<td>补码</td>
<td>[010] 2</td>
<td>[111] -1</td>
<td>[11110] -2</td>
<td>[110] -2</td>
</tr>
<tr>
<td>无符号</td>
<td>[110] 6</td>
<td>[110] 6</td>
<td>[00100] 36</td>
<td>[100] 4</td>
</tr>
<tr>
<td>补码</td>
<td>[110] -2</td>
<td>[110] -2</td>
<td>[00100] 4</td>
<td>[100] -4</td>
</tr>
</tbody></table>
<p>下面的函数当参数相乘不产生溢出时返回1</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">tmult_ok</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> p = x*y;</span><br><span class="line">    <span class="keyword">return</span> !x || p/x == y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="乘以常数"><a href="#乘以常数" class="headerlink" title="乘以常数"></a>乘以常数</h3><p>大多数机器上,整数乘法指令相当慢,需要10个或者更多的时钟周期.而其他整数运算(加法,减法,位运算,移位)只需要1个时钟周期.因此编译器会试着通过移位和加法运算的组合来代替乘以常数因子的乘法.</p>
<p>$$<br>\begin{aligned}<br>B2U_w([x_{w-1},x_{w-2},…,x_0,0,…,0])&amp;=\sum_{i=0}^{w-1}x_i2^{i+k}\\<br>&amp;=[\sum_{i=0}^{w-1}x_i2^i] \cdot 2^k\\<br>&amp;=x2^k<br>\end{aligned}<br>$$</p>
<p>同样对于补码也有同样的结果.通过向左移位k位相当于乘以$2^k$<br>对$x \cdot K$,编译器会将K的二进制表示成一组0和1交替的序列:[(0…0)(1…1)…(0…0)]<br>例如,14可以写成[(0…0)(111)(0)],从第1位到第3位为1,则可以通过下面的方式进行计算.</p>
<ol>
<li>$(x &lt;&lt; n) + (x &lt;&lt; n-1)+…+(x&lt;&lt;m)$</li>
<li>$(x&lt;&lt;n)+(x&lt;&lt;n)-(x&lt;&lt;m)$,避免n+1为最高位的情况.</li>
</ol>
<p>编译器只有在可以通过少量的移位,加法和减法就足够时才进行优化.</p>
<h3 id="除以2的幂"><a href="#除以2的幂" class="headerlink" title="除以2的幂"></a>除以2的幂</h3><p>大多数机器上,整数除法比整数乘法更慢—需要30个或者更多时钟周期.除以2的幂也可以使用移位运算来实现,无符号和补码分别使用逻辑右移和算术右移.</p>
<p>假设x为位模式$[x_{w-1},x_{w-2},…x_0]$表示的无符号整数,$0 \le k &lt; w$.假设$x’为w-k$位的位表示$[x_{w-1},x_{w-2},…x_k]$的无符号数,而$x’’为k$位的位表示$[x_{k-1},x_{k-2},…x_0]$的无符号数,则可以得到$x’=\lfloor x/2^k \rfloor $.证明如下:</p>
<p>$$<br>\begin{align}<br>&amp;假设:x=\sum_{i=0}^{w-1}x_i2^i,x’=\sum_{i=0}^{w-k}x_i2^i,x’’=\sum_{i=0}^{k}x_i2^i\nonumber\\<br>&amp;因此x=x’2^k+x’’,0 \le x’’ \le 2^k-1 &lt; 2^k,\lfloor x’’/2^k \rfloor = 0\nonumber\\<br>&amp;所以\lfloor x/2^k \rfloor = \lfloor x’2^k/2^k + x’’/2^k \rfloor = x’ + \lfloor x’’/2^k\rfloor = x’\nonumber<br>\end{align}<br>$$</p>
<p>对补码而言进行的是算术右移,对正整数而言,最高位为0,效果和逻辑右移一样.如果为负数时,则是向上取整.例如-7/2应该得到-3而不是-4.</p>
<p>对于整数x和任意的y&gt;0,有$\lceil x/y \rceil = \lfloor (x + y -1)/y \rfloor$通过增加偏移量后都可以表示为向下取整.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//通过移位进行除法运算</span></span><br><span class="line">(x &gt; <span class="number">0</span> ? x :(x + (<span class="number">1</span>&lt;&lt;k) <span class="number">-1</span>)) &gt;&gt; k</span><br></pre></td></tr></table></figure>

<h3 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h3><p>计算机执行的整数运算实际上是一种模运算形式,表示数字的有限字长限制了可能的值的取值范围,结果运算可能溢出.补码提供了一种既能表示负数也能表示正数,同时使用了与执行无符号算术相同的位级实现.</p>
<h2 id="浮点数"><a href="#浮点数" class="headerlink" title="浮点数"></a>浮点数</h2><h3 id="二进制小数"><a href="#二进制小数" class="headerlink" title="二进制小数"></a>二进制小数</h3><p>理解浮点数先考虑含有小数值的二进制数字.</p>
<p>十进制表示法使用的表示形式为:$d_md_{m-1}…d_1d_0.d_{-1}d_{-2}…d_{-n}$,其中每个十进制数$d_i$的范围为$0 \sim 9$.可以用下面的方法描述:</p>
<p>$$<br>d = \sum_{i=-n}^{m}10^i \cdot d_i<br>$$</p>
<p>数字权的定义与十进制小数点符号$\cdot$相关,意味着小数点左边的数字的权是10的正幂,得到整数值,而小数点右边的数字的权是10的负幂,得到小数值.例如$12.34_{10}$表示数字$1 \cdot 10^1 + 2 \cdot 10^0 + 3 \cdot 10^{-1} + 4 \cdot 10^{-2} = 12 \frac{34}{100}$</p>
<p>类似的$b_mb_{m-1}…b_1b_0 \cdot b_{-1}b_{-2}…b_{-n+1}b_{-n}$其中$b_i$的范围为$0 \sim 1$,这种表示方法表示的数b定义如下:</p>
<p>$$<br>b=\sum_{i=-n}^{m}2^i \cdot b_i<br>$$</p>
<p>符号$\cdot$成了二进制的点,点左边的位的权是2的正幂,点右边的位的权是2的负幂.例如$101.11_2$表示数字$1 \cdot 2^2 + 0 \cdot 2^1 + 1 \cdot 2^0 + 1 \cdot 2^{-1} + 1 \cdot 2^{-2} = 4 + 0 + 1 + \frac{1}{2} + \frac{1}{4} = 5\frac{3}{4}$</p>
<p><em>二进制小数点向左移动一位相当于这个数被2除,类似的二进制小数点向右移动一位相当与将该数乘2.</em></p>
<p><em>形如$[0.11…1_2]$的数表示刚好小于1的数.例如$[0.111111_2]$表示$\frac{63}{64}$,用$1.0- \varepsilon$来表示.</em></p>
<p>考虑有限长度的编码,十进制表示法不能准确地表示像$\frac{1}{3},\frac{5}{7}$这样的数.类似地,小数的二进制表示法只能表示那些能够被写成$x \cdot 2^y$的数.<em>增加二进制的长度可以增加表示的精度</em></p>
<table>
<thead>
<tr>
<th>小数值</th>
<th>二进制表示</th>
<th>十进制表示</th>
</tr>
</thead>
<tbody><tr>
<td>$\frac{1}{8}$</td>
<td>0.001</td>
<td>0.125</td>
</tr>
<tr>
<td>$\frac{3}{4}$</td>
<td>0.110</td>
<td>0.75</td>
</tr>
<tr>
<td>$\frac{25}{16}$</td>
<td>1.1001</td>
<td>1.562</td>
</tr>
<tr>
<td>$\frac{43}{16}$</td>
<td>10.1011</td>
<td>2.687</td>
</tr>
<tr>
<td>$\frac{9}{8}$</td>
<td>1.001</td>
<td>1.125</td>
</tr>
<tr>
<td>$\frac{47}{8}$</td>
<td>101.111</td>
<td>5.875</td>
</tr>
<tr>
<td>$\frac{51}{16}$</td>
<td>11.0011</td>
<td>3.1875</td>
</tr>
</tbody></table>
<h3 id="IEEE浮点表示"><a href="#IEEE浮点表示" class="headerlink" title="IEEE浮点表示"></a>IEEE浮点表示</h3><p>之前谈到的定点表示法不能有效地表示非常大的数字.希望通过给定的x和y,来表示形如$x \cdot 2^y$的数.</p>
<p>IEEE浮点标准用$V=(-1)^s \cdot M \cdot 2^E$的形式来表示一个数:</p>
<ul>
<li>符号(sign)s决定这个数是负数(s=1)还是正数(s=0).对应数值0的符号位结果作为特殊情况处理.</li>
<li>尾数(significand)M是一个二进制小数,它的范围为$1 \sim 2-\varepsilon$,或者$0 \sim 1- \varepsilon$</li>
<li>阶码(exponent)E的作用是对浮点数加权,这个权重是2的E次幂(可能为负数)</li>
</ul>
<p>将浮点数的位表示划分为三个字段,分别对这些字段进行编码:</p>
<ul>
<li>一个单独的符号位s直接编码符号s.</li>
<li>k位的阶码字段$exp=e_{k-1}…e_1e_0$编码阶码.</li>
<li>n位小数字段$frac=f_{n-1}…f_1f_0$编码尾数M.编码出来的值也依赖于阶码字段的值是否等于0.</li>
</ul>
<p>C语言的float中,s,exp和frac字段分别为1位,k=8位和n=23位,得到一个32位的表示.<br>C语句的double中,s,exp和frac字段分别为1位,k=11位和n=52位,得到一个64位的表示.</p>
<p>根据位的表示,通过exp的值,被编码的值可以分成三种不同的情况.</p>
<ol>
<li>规格化的 $exp \ne 0 且 exp \ne 255$</li>
<li>非规格化的 exp = 0</li>
<li>非规格化的 exp = 255, $f=0 表示无穷大, f \ne 0 表示 NaN$</li>
</ol>
<p><strong>情况1:规格化的值</strong><br>这是最普通的情况,当exp的位模式记不全为0(数值0),也不全为1(单精度数值为255,双精度数值为2047)时,都属于这类情况.这种情况下阶码字段被解释为以偏置(biased)形式表示的有符号整数.阶码的值E = e - Bias,其中e是无符号数,其位表示为$e_{k-1}…e_1e_0$,而$Bias=2^{k-1} -1$的偏置值(单精度127,双精度1023),因此指数的范围为单精度$-126 \sim +127$,双精度为$-1022 \sim + 1023$.</p>
<p>小数字段frac的解释为描述小数值f,其中$0 \le f &lt; 1$.二进制表示为$[0.f_{n-1}…f_1f_0]$也就是二进制小数点在最高有效位的左边.尾数定义为M=1+f.这种方式叫做隐含的以1开头的表示.通过调整阶码E,使得尾数M在范围$1 \le M &lt; 2$(假设没有溢出),这样就获得了一个额外精度.因为第一位总是1,不需要显示地表示.</p>
<p><strong>情况2:非规格化的值</strong><br>当阶码域全为0时,阶码的值是$E=1-Bias$,尾数的值是M=f,不包含隐含的开头的1.</p>
<p>非规格化数有两个用途,首先提供了一种表示数值0的方法,规格化数中$M \ge 1$因此不能表示0.这样+0.0的浮点表示的位模式为全0,得到$M=f=0$.符号位为1,其他域全为0时,得到-0.0.</p>
<p>其次提供了一个功能表示那些非常接近0.0的数,称为<em>逐渐溢出</em>,其中,可能的数值分布均匀地接近于0.0.</p>
<p><strong>情况3:特殊值</strong></p>
<p>*当阶码全为1时:*如果小数域全为0时,得到无穷,当s=0时是$+ \infty$,当s=1时是$- \infty$.</p>
<p>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;如果小数域为非0时,结果为NaN(Not a Number).例如$\infty - \infty$.</p>
<p><strong>说明:</strong><br>假定8位浮点格式,其中k=4的阶码位和n=3的小数位.偏置量$Bias=2^{4-1}-1=7$,分成三个区域来描述三类数字.给出了阶码字段如何编码阶码E,小数字段如何编码尾数M.以及如何一起形成要表示的值$V=2^E \cdot M$</p>
<p>最靠近0的是非规格化数,这种格式下的$E=1-7=-6$,得到权$2^E=\frac{1}{64}$.</p>
<p>小数f的值的范围是$0,\frac{1}{8},…,\frac{7}{8}$,从而得到V的范围是$0 \sim \frac{1}{64} \cdot \frac{7}{8} = \frac{7}{512}$.</p>
<p>此种情况下的最小规格化数同样有$E=1-7=-6$,并且小数取值范围也是$0,\frac{1}{8},…,\frac{7}{8}$.然而尾数的范围在$1+0=1=\frac{8}{8}和1+\frac{7}{8}=\frac{15}{8}$之间得出V的范围在$\frac{8}{8} \cdot 2 ^{-6} = \frac{8}{512}=\frac{1}{64}和\frac{15}{8} \cdot 2^{-6} = \frac{15}{512}$之间.可以看到最大非规格化数$\frac{7}{512}$和最小规格化数$\frac{8}{512}$之间的平滑转变.这是对非规格化数E定义为1-Bias的原因.通过1-Bias可以补偿非规格化数尾数没有隐含开头的1这一事实.</p>
<p>当增大阶码时,得到更大的规格化值.最大的规格化阶码$E=(2^4-1)-1-Bias=7$得到权$2^E=128$,小数等于$\frac{7}{8}$从而尾数$M=1+\frac{7}{8}=\frac{15}{8}$,因此$V=\frac{15}{8} \cdot 128 = 240 $.超出这个值就得到$+\infty$.</p>
<p>如果把位表达式解释为无符号整数,发现是按升序排列的,跟浮点数一样,IEEE如此设计格式是为了浮点数能够使用整数排序函数来进行排序.当处理负数时,有一个小的难点,因为他们有开头的1,并且是按照降序出现的.</p>
<table><tr><td rowspan="2" align="center">描述</td><td rowspan="2" align="center">位表示</td><td colspan="3" align="center">指数</td><td colspan="2" align="center">小数</td><td colspan="3" align="center">值</td></tr><tr><td>e</td><td>E</td><td>$$2^E$$</td><td>t</td><td>M</td><td>$$2^E \cdot M$$</td><td>V</td><td>十进制</td></tr><tr><td>0</td><td>0 0000 000</td><td>0</td><td>-6</td><td>$$\frac{1}{64}$$</td><td>$$\frac{0}{8}$$</td><td>$$\frac{0}{8}$$</td><td>$$\frac{0}{512}$$</td><td>0</td><td>0.0</td></tr><tr><td>最小的非规格化数</td><td>0 0000 001</td><td>0</td><td>-6</td><td>$$\frac{1}{64}$$</td><td>$$\frac{1}{8}$$</td><td>$$\frac{1}{8}$$</td><td>$$\frac{1}{512}$$</td><td>$$\frac{1}{512}$$</td><td>0.001953</td></tr><tr><td>...</td><td>0 0000 010</td><td>0</td><td>-6</td><td>$$\frac{1}{64}$$</td><td>$$\frac{2}{8}$$</td><td>$$\frac{2}{8}$$</td><td>$$\frac{2}{512}$$</td><td>$$\frac{1}{256}$$</td><td>0.003906</td></tr><tr><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><td>最大的非规格化数</td><td>0 0000 111</td><td>0</td><td>-6</td><td>$$\frac{1}{64}$$</td><td>$$\frac{7}{8}$$</td><td>$$\frac{7}{8}$$</td><td>$$\frac{7}{512}$$</td><td>$$\frac{7}{512}$$</td><td>0.013672</td></tr><tr><td>最小的规格化数</td><td>0 0001 000</td><td>0</td><td>-6</td><td>$$\frac{1}{64}$$</td><td>$$\frac{0}{8}$$</td><td>$$\frac{8}{8}$$</td><td>$$\frac{8}{512}$$</td><td>$$\frac{1}{64}$$</td><td>0.015625</td></tr><tr><td>...</td><td>0 0001 001</td><td>0</td><td>-6</td><td>$$\frac{1}{64}$$</td><td>$$\frac{1}{8}$$</td><td>$$\frac{9}{8}$$</td><td>$$\frac{9}{512}$$</td><td>$$\frac{9}{512}$$</td><td>0.017578</td></tr><tr><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><td>1</td><td>0 0111 000</td><td>7</td><td>0</td><td>1</td><td>$$\frac{0}{8}$$</td><td>$$\frac{8}{8}$$</td><td>$$\frac{8}{8}$$</td><td>1</td><td>1.0</td></tr><tr><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><td>...</td><td>0 1110 110</td><td>14</td><td>7</td><td>128</td><td>$$\frac{6}{8}$$</td><td>$$\frac{14}{8}$$</td><td>$$\frac{1792}{8}$$</td><td>224</td><td>224.0</td></tr><tr><td>最大的规格化数</td><td>0 1110 111</td><td>14</td><td>7</td><td>128</td><td>$$\frac{7}{8}$$</td><td>$$\frac{15}{8}$$</td><td>$$\frac{1920}{8}$$</td><td>240</td><td>240.0</td></tr><tr><td>无穷大</td><td>0 1111 000</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>-</td><td>$$\infty$$</td><td>-</td></tr></table>

<p>k位阶码和n位小数的浮点表示的一般属性.</p>
<ul>
<li>值+0.0总有一个全为0的位表示.</li>
<li>最小的正非规格化值的位表示,由最低有效位为1而其他所有位为0构成,具有小数(尾数)值$M=f=2^{-n})$,阶码值$E=1 - (2^{k-1}-1) = 2-2^{k-1}$.因此$V=2^{-n-2^{k-1}+2}$-+ 最大的非规格化值的为模式为由全为0的阶码字段和全为1的小数字段组成.具有小数(尾数)值$M=f=1-2^{-n}$,阶码仍然是$E=2-2^{k-1}$.因此$V=(1-2^{-n}) \cdot 2^{-2^{k-1}+2}$.仅比最小的规格化值小一点.</li>
<li>最小的正规格数阶码的最低有效位为1,其他位全为0,$V=2^{-2^{k-1} + 2}$$+ 值1.0的位表示的阶码字段的最高有效位为0,阶码的其他字段为1,阶码外的其他位都是0.尾数值为1,阶码为0.</li>
<li>最大的规格化值的符号位为0,阶码的最低有效位为0,其他位都是1.小数值$f=1-2^{-n}$,尾数$M=2-2^{-n}$.阶码$E=(2^k-1-1) - (2^{k-1} - 1)) = 2^{k-1}-1$,因此$V=(2-2^{-n} \cdot 2^{2^{k-1}-1} = (1-2^{-n-1}) \cdot 2^{2^{k-1}}$</li>
</ul>
<p><strong>整数转换成浮点形式例子:</strong></p>
<p>12345的二进制形式为[11000000111001],通过将二进制小数点左移13位,得到这个数的一个规格化表示$12345=1.1000000111001_2 \cdot 2^{13}$.用IEEE单精度表示来编码,丢弃开头的1.并且在末尾增加10个0[C语言中float的n=23],构造小数字段.得到二进制表示[10000001110010000000000],阶码字段,用13加上偏移量127得到140,其二进制表示为[10001100][C语言中float的k=8],加上符号位0.得到二进制的浮点表示.[01000110010000001110010000000000],可以看出对应整数的低位,刚好在等于1的最高有效位之前停止.</p>
<p>0000000000000000001<em>1000000111001</em>整数表示</p>
<p>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;010001100<em>1000000111001</em>0000000000 浮点数表示</p>
<p><em>在阶码字段长度k足够大时,n位小数的浮点格式不能准确描述的最小正整数为$2^{n+1} + 1$,相当于1后面跟n个0再跟一个1,这样就需要n+1位才能表示.</em></p>
<h3 id="舍入"><a href="#舍入" class="headerlink" title="舍入"></a>舍入</h3><p>表示方法限制了浮点数的范围和精度,浮点运算只能近似地表示实数运算.对于x我们一般想用一种系统的方法找到最接近的x’.一个问题是需要在两个可能值的中间确定舍入方向.例如1.5美元,舍入后应该是1美元还是2美元?</p>
<p>一种可选择的方式是维持实际数字的下界和上界.例如:$x^- \le x \le x^+$,IEEE定义了四种不同的舍入方式,默认的方式是找到最接近的匹配,其他三种可用于计算上界和下界.</p>
<p>向偶数舍入(round-to-even)也称为向最接近的值舍入(round-to-nearest)是默认的方式,试图找到一个最接近的匹配值.采用的方式是使得结果的最低有效数字是偶数.因此1.5和2.5都被舍入为2.</p>
<table>
<thead>
<tr>
<th>方式</th>
<th>1.40</th>
<th>1.60</th>
<th>1.50</th>
<th>2.50</th>
<th>-1.50</th>
</tr>
</thead>
<tbody><tr>
<td>向偶数舍入</td>
<td>1</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>-2</td>
</tr>
<tr>
<td>向零舍入</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>-1</td>
</tr>
<tr>
<td>向下舍入</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>-2</td>
</tr>
<tr>
<td>向上舍入</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>3</td>
<td>-1</td>
</tr>
</tbody></table>
<h3 id="浮点运算"><a href="#浮点运算" class="headerlink" title="浮点运算"></a>浮点运算</h3><p>把浮点值x和y看出实数,而某个运算$\bigodot$定义在实数上,计算将产生Round(x$\bigodot$y),这是对实际运算的精确结果进行舍入后的结果.</p>
<p>当参数中有一个特殊值(例如-0,$-\infty$或NaN)时,IEEE标准定义了一些使之更合理的规则.<br>例如:$1/-0=-\infty$,而$1/+0=+\infty$</p>
<p>定义$x+^fy=Round(x+y)$,这个运算是可交换的也就是说$x+^fy=y+^fx$,另一方面这个运算是不可结合的.</p>
<p>大多数值的浮点加法都有逆元,也就是说$x+^f-x=0$,无穷和NaN是例外情况.($+\infty - \infty = NaN$),$NaN +^f x= NaN$</p>
<p>浮点加法不具有结合性,是缺少的最重要的属性,对编译器编写者和科学计算程序员来说,具有重要含义.例如如下面的代码片段:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">x = a + b + c;</span><br><span class="line">y = b + c + d;</span><br></pre></td></tr></table></figure>
<p>编译器可能试图产生下列代码来省去一个浮点加法:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">t = b + c;</span><br><span class="line">x = a + t;</span><br><span class="line">y = t + d;</span><br></pre></td></tr></table></figure>
<p>然而对于x来说,这个计算可能会产生与原始值不同的值.因为浮点数的加法运算是不可结合的.编译器无法知道原始程序的确切行为,因此倾向于保守.</p>
<p>浮点加法满足单调性属性:如果$a \ge b$,对于任何a,b及x的值,除了NaN,都有$x + a \ge x + b$.无符号和补码加法不具有这个属性(溢出).</p>
<p>浮点乘法,定义$x \cdot ^fy=Round(x \cdot y)$,是可交换的,因为可能溢出,或者由于舍入而失去精度,也是不可结合的.例如$(1e20 \cdot 1e20) \cdot 1e-20 = +\infty$,但是$1e20 \cdot (1e20 \cdot 1e-20) = 1e20$.</p>
<p>浮点乘法在加法上不具备分配性.例如$1e20 \cdot (1e20 - 1e20) = 0.0$,但是$1e20 \cdot 1e20 - 1e20 \cdot 1e20 = NaN$.</p>
<p>对于任何a,b,c并且a,b,c都不等于NaN,浮点乘法满足下面的单调性:</p>
<p>$a \ge b 且 c \ge 0 =&gt; a \cdot^f c \ge b \cdot^f c$</p>
<p>$a \ge b 且 c \le 0 =&gt; a \cdot^f c \le b \cdot^f c$</p>
<p>另外只要$a \ne NaN$$,就有$$a \cdot^f a \ge 0$</p>
<h3 id="C语言中的浮点数"><a href="#C语言中的浮点数" class="headerlink" title="C语言中的浮点数"></a>C语言中的浮点数</h3><p>所有的C语言版本提供两种不同的浮点数据类型:float和double.在支持IEEE浮点格式的机器上,这些数据类型对应单精度和双精度浮点.另外这类机器使用向偶数舍入的方式.因为C语言标准不要求机器使用IEEE浮点,所以没有标准的方法来改变舍入方式,和得到特殊值.</p>
<p>当在int,float,double格式之间进行强制类型转换时,程序改变数值和位模式的原则如下(假设int是32位):</p>
<ul>
<li>从int到float,数字不会溢出,但是可能被舍入.</li>
<li>从int或float转换成double,能够保留精确的数值.</li>
<li>从daouble到float,可能会溢出成为$+\infty或-\infty$,另外由于精确度较小,还可能被舍入.</li>
<li>从float或daouble转换成int,值向零舍入.值还能会溢出.</li>
</ul>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>由于编码的长度有限,与传统整数和实数运算相比,计算机运算具有完全不同的属性.当超出表示范围时,有限长度能够引起数值溢出,当浮点数非常接近0.0,从而转换成0时,也会下溢.</p>
<blockquote>
<p>可以通过(1&lt;&lt;k)-1生成[0,…0,1,…1]的位模式(k个1)</p>
</blockquote>
]]></content>
      <tags>
        <tag>深入理解计算机系统</tag>
      </tags>
  </entry>
</search>
